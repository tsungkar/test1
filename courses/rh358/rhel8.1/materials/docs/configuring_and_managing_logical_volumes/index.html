<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="9fea3883-d5af-49de-9a43-cf817e490fe7" product="f321f43a-4a79-48fe-8aae-117b9d973ec0" revision="a665408bf14d9465be477d30da58a402bc8b29c3:en-us" page="0cbf18a7-2c9f-479b-bf0b-b48f7d12df9e" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/index" />
<meta property="og:title" content="Configuring and managing logical volumes Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta property="og:description" content="This documentation collection provides instructions on how to manage LVM logical volumes on Red Hat Enterprise Linux 8." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/index" />
<meta name="twitter:title" content="Configuring and managing logical volumes Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This documentation collection provides instructions on how to manage LVM logical volumes on Red Hat Enterprise Linux 8." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Configuring and managing logical volumes Red Hat Enterprise Linux 8 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs06.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="2070d6b" />
<meta name="cp-chrome-build-date" content="2020-03-09T20:28:54.189Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "2070d6b",
        builddate : "2020-03-09T20:28:54.189Z",
        fetchdate : "2020-03-11T07:53:05-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=2070d6b.css" />

<link href="chosen.css%3Fv=2070d6b.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=2070d6b" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__1YIht1y1Jlm9D0PyxEuhS3DlWdYAlEsNpsFDOaUsfRw__ZnC7278ZsqBG-1FOUqflDl8B3Y1kLiAWXAIkoLrHbYg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       '9fea3883-d5af-49de-9a43-cf817e490fe7');
attributes.set('ResourceTitle',    'Configuring and managing logical volumes');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       'a665408bf14d9465be477d30da58a402bc8b29c3:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat Enterprise Linux');
attributes.set('ProductVersion',   '8');
attributes.set('ProductId',        'Red Hat Enterprise Linux 8');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat Enterprise Linux", "/documentation/en-us/red_hat_enterprise_linux/"], ["8", "/documentation/en-us/red_hat_enterprise_linux/8/"], ["Configuring and managing logical volumes", "/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__veGxEiPQW6fkzAPZnAFA23SFz1CyJy2dlu6x8XuHM4s__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"Kjm66zm-Un-bUJ5FdTWbw8Bn1R2nCnYGSKrA3C2TJP8","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-group-group, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-group-group-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-group-group-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-group-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs05-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page admin-bar  kcs_external" >

  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
            <defs>
              <style>
                .rh-logo-hat {
                  fill: #e00;
                }
                .rh-logo-type {
                  fill: #fff;
                }
              </style>
            </defs>
            <title>Red Hat</title>
            <path
              class="rh-logo-hat"
              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
              <path class="rh-logo-band"
              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
              <path
              class="rh-logo-type"
              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
          </svg>
        </span>
        <span class="site-title"><span>Customer </span><span>Portal</span></span>
    </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <div class="input-group push-bottom">

                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Troubleshooting an issue? Try <a href="https://access.redhat.com/solution-engine">Solution Engine</a>&mdash;our new support tool.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                        <span class="logo-crop">
                          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                            <defs>
                              <style>
                                .rh-logo-hat {
                                  fill: #e00;
                                }
                                .rh-logo-type {
                                  fill: #fff;
                                }
                              </style>
                            </defs>
                            <title>Red Hat</title>
                            <path
                              class="rh-logo-hat"
                              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                              <path class="rh-logo-band"
                              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                              <path
                              class="rh-logo-type"
                              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                          </svg>
                        </span>
                        <span class="site-title"><span>Customer </span><span>Portal</span></span>
                    </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        <li><a href="https://access.redhat.com/ecosystem/" class="cta-link cta-link-darkbg">Ecosystem</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/">日本語</a></li>
                      <li><a href="index.html">English</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/pdf/configuring_and_managing_logical_volumes/Red_Hat_Enterprise_Linux-8-Configuring_and_managing_logical_volumes-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/epub/configuring_and_managing_logical_volumes/Red_Hat_Enterprise_Linux-8-Configuring_and_managing_logical_volumes-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Configuring and managing logical volumes</a></li><li class=" leaf"><a href="index.html#proc_providing-feedback-on-red-hat-documentation_configuring-and-managing-logical-volumes">Providing feedback on Red Hat documentation</a></li><li class=" leaf"><a href="index.html#logical_volumes-configuring-and-managing-logical-volumes">1. Logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#lvm_definition-overview-of-lvm">1.1. LVM architecture overview</a></li><li class=" leaf"><a href="index.html#con_lvm-physical-volumes_overview-of-lvm">1.2. Physical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#pv_illustration">1.2.1. LVM physical volume layout</a></li><li class=" leaf"><a href="index.html#multiple_partitions">1.2.2. Multiple partitions on a disk</a></li></ol></li><li class=" leaf"><a href="index.html#con_lvm-volume-groups_overview-of-lvm">1.3. Volume groups</a></li><li class=" leaf"><a href="index.html#lvm_overview_overview-of-lvm">1.4. LVM logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#con_lvm_linear_volumes_lvm-logical-volumes">1.4.1. Linear Volumes</a></li><li class=" leaf"><a href="index.html#con_lvm-striped-volumes_lvm-logical-volumes">1.4.2. Striped Logical Volumes</a></li><li class=" leaf"><a href="index.html#con_raid-logical-volumes_lvm-logical-volumes">1.4.3. RAID logical volumes</a></li><li class=" leaf"><a href="index.html#con_thin-volumes_lvm-logical-volumes">1.4.4. Thinly-provisioned logical volumes (thin volumes)</a></li><li class=" leaf"><a href="index.html#con_snapshot_volumes_lvm-logical-volumes">1.4.5. Snapshot Volumes</a></li><li class=" leaf"><a href="index.html#con_thin-snapshot-volumes_lvm-logical-volumes">1.4.6. Thinly-provisioned snapshot volumes</a></li><li class=" leaf"><a href="index.html#con_cache-volumes_lvm-logical-volumes">1.4.7. Cache Volumes</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#managing-local-storage-using-rhel-system-roles_configuring-and-managing-logical-volumes">2. Managing local storage using RHEL System Roles</a><ol class="menu"><li class=" leaf"><a href="index.html#storage-role-intro_managing-local-storage-using-rhel-system-roles">2.1. Introduction to the storage role</a></li><li class=" leaf"><a href="index.html#storage-role-parameters_managing-local-storage-using-rhel-system-roles">2.2. Storage role parameters</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_configuring-lvm-volumes-configuring-and-managing-logical-volumes">3. Configuring LVM logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#ref_using_cli_commands-configuring-lvm-volumes">3.1. Using CLI commands</a></li><li class=" leaf"><a href="index.html#proc_creating-an-LVM-volume-configuring-lvm-volumes">3.2. Creating an LVM logical volume on three disks</a></li><li class=" leaf"><a href="index.html#proc_creating-a-striped-logical-volume_configuring-lvm-volumes">3.3. Creating a RAID0 (striped) logical volume</a></li><li class=" leaf"><a href="index.html#renaming-lvm-logical-volumes_configuring-lvm-volumes">3.4. Renaming LVM logical volumes</a></li><li class=" leaf"><a href="index.html#proc_removing-a-disk-from-a-logical-volume-configuring-lvm-volumes">3.5. Removing a disk from a logical volume</a><ol class="menu"><li class=" leaf"><a href="index.html#move_exist_ex4">3.5.1. Moving extents to existing physical volumes</a></li><li class=" leaf"><a href="index.html#move_new_ex4">3.5.2. Moving Extents to a New Disk</a></li></ol></li><li class=" leaf"><a href="index.html#proc_configuring-persistent-lvm-device-numbers-configuring-lvm-volumes">3.6. Configuring persistent device numbers</a></li><li class=" leaf"><a href="index.html#proc_specifying-lvm-extent-size-configuring-lvm-volumes">3.7. Specifying LVM extent size</a></li><li class=" leaf"><a href="index.html#managing-lvm-logical-volumes-using-rhel-system-roles_configuring-lvm-volumes">3.8. Managing LVM logical volumes using RHEL System Roles</a><ol class="menu"><li class=" leaf"><a href="index.html#an-example-playbook-to-manage-logical-volumes_managing-lvm-logical-volumes-using-rhel-system-roles">3.8.1. An example Ansible playbook to manage logical volumes</a></li><li class=" leaf"><a href="index.html#additional_resources">3.8.2. Additional resources</a></li></ol></li><li class=" leaf"><a href="index.html#removing-lvm-logical-volumes_configuring-lvm-volumes">3.9. Removing LVM logical volumes</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_modifying-logical-volume-size-configuring-and-managing-logical-volumes">4. Modifying the size of a logical volume</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_growing-logical-volume-lvm-activation">4.1. Growing logical volumes</a></li><li class=" leaf"><a href="index.html#proc_growing-filesystem-on-a-logical-volume-lvm-activation">4.2. Growing a file system on a logical volume</a></li><li class=" leaf"><a href="index.html#proc_shrinking-logical-volume-lvm-activation">4.3. Shrinking logical volumes</a></li><li class=" leaf"><a href="index.html#proc_extending-striped-volume-lvm-activation">4.4. Extending a striped logical volume</a></li></ol></li><li class=" leaf"><a href="index.html#managing-lvm-volume-groups_configuring-and-managing-logical-volumes">5. Managing LVM volume groups</a><ol class="menu"><li class=" leaf"><a href="index.html#con_lvm-volume-groups_managing-lvm-volume-groups">5.1. Volume groups</a></li><li class=" leaf"><a href="index.html#proc_displaying-volume-groups-managing-lvm-volume-groups">5.2. Displaying volume groups</a></li><li class=" leaf"><a href="index.html#proc_combining-volume-groups-managing-lvm-volume-groups">5.3. Combining volume groups</a></li><li class=" leaf"><a href="index.html#proc_splitting-a-volume-group-managing-lvm-volume-groups">5.4. Splitting a volume group</a></li><li class=" leaf"><a href="index.html#renaming-lvm-volume-groups_managing-lvm-volume-groups">5.5. Renaming LVM volume groups</a></li><li class=" leaf"><a href="index.html#proc_moving-volume-group-to-another-system-managing-lvm-volume-groups">5.6. Moving a volume group to another system</a></li><li class=" leaf"><a href="index.html#proc_removing-physical-volume-from-volume-group-managing-lvm-volume-groups">5.7. Removing physical volumes from a volume group</a></li><li class=" leaf"><a href="index.html#removing-lvm-volume-groups_managing-lvm-volume-groups">5.8. Removing LVM volume groups</a></li><li class=" leaf"><a href="index.html#additional_resources_2">5.9. Additional resources</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_managing-physical-volumesconfiguring-and-managing-logical-volumes">6. Managing LVM physical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_scanning-for-devices-to-use-as-physical-volumes-managing-physical-volumes">6.1. Scanning for block devices to use as physical volumes</a></li><li class=" leaf"><a href="index.html#proc_setting-partition-type-for-physical-volume-managing-physical-volumes">6.2. Setting the partition type for a physical volume</a></li><li class=" leaf"><a href="index.html#proc_resizing-physical-volume-managing-physical-volumes">6.3. Resizing an LVM physical volume</a></li><li class=" leaf"><a href="index.html#proc_removing-physical-volumes-managing-physical-volumes">6.4. Removing physical volumes</a></li><li class=" leaf"><a href="index.html#proc_adding-physical-volumes-to-volume-group-managing-physical-volumes">6.5. Adding physical volumes to a volume group</a></li><li class=" leaf"><a href="index.html#proc_removing-physical-volume-from-volume-group-managing-physical-volumes">6.6. Removing physical volumes from a volume group</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_displaying-lvm-components-configuring-and-managing-logical-volumes">7. Displaying LVM components</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_displaying-with-the-lvm-comand-displaying-lvm-components">7.1. Displaying LVM Information with the lvm Command</a></li><li class=" leaf"><a href="index.html#proc_displaying-physical-volumes-displaying-lvm-components">7.2. Displaying physical volumes</a></li><li class=" leaf"><a href="index.html#proc_displaying-volume-groups-displaying-lvm-components">7.3. Displaying volume groups</a></li><li class=" leaf"><a href="index.html#proc_displaying-logical-volumes-displaying-lvm-components">7.4. Displaying logical volumes</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_customizing-lvm-display-configuring-and-managing-logical-volumes">8. Customized reporting for LVM</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_controlling-format-of-lvm-display-customizing-lvm-display">8.1. Controlling the format of the LVM display</a></li><li class=" leaf"><a href="index.html#ref_lvm-object-display-fields-customizing-lvm-display">8.2. LVM object display fields</a></li><li class=" leaf"><a href="index.html#proc_sorting-lvm-reports-customizing-lvm-display">8.3. Sorting LVM reports</a></li><li class=" leaf"><a href="index.html#proc_specifying-lvm-display-units-customizing-lvm-display">8.4. Specifying the units for an LVM report display</a></li><li class=" leaf"><a href="index.html#proc_diplaying-lvm-output-in-JSON-customizing-lvm-display">8.5. Displaying LVM command output in JSON format</a></li><li class=" leaf"><a href="index.html#proc_displaying-lvm-command-log-customizing-lvm-display">8.6. Displaying the LVM command log</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_configure-mange-raid-configuring-and-managing-logical-volumes">9. Configuring RAID logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#ref_creating-raid-volume-configure-manage-raid">9.1. Creating RAID logical volumes</a></li><li class=" leaf"><a href="index.html#proc_creating-a-striped-logical-volume_configure-manage-raid">9.2. Creating a RAID0 (striped) logical volume</a></li><li class=" leaf"><a href="index.html#proc_controlling-raid-initialization-configure-manage-raid">9.3. Controlling the rate at which RAID volumes are initialized</a></li><li class=" leaf"><a href="index.html#proc_converting-linear-to-raid-configure-manage-raid">9.4. Converting a Linear device to a RAID device</a></li><li class=" leaf"><a href="index.html#proc-converting-raid1-to-linear-configure-manage-raid">9.5. Converting an LVM RAID1 logical volume to an LVM linear logical volume</a></li><li class=" leaf"><a href="index.html#proc-converting-mirror-to-raid-configure-manage-raid">9.6. Converting a mirrored LVM device to a RAID1 device</a></li><li class=" leaf"><a href="index.html#proc-resizing-raid-configure-manage-raid">9.7. Resizing a RAID logical volume</a></li><li class=" leaf"><a href="index.html#proc-changing-raid-imagenum-configure-manage-raid">9.8. Changing the number of images in an existing RAID1 device</a></li><li class=" leaf"><a href="index.html#proc-splitting-raid-image-configure-manage-raid">9.9. Splitting off a RAID image as a separate logical volume</a></li><li class=" leaf"><a href="index.html#proc-split-merge-raid-image-configure-manage-raid">9.10. Splitting and Merging a RAID Image</a></li><li class=" leaf"><a href="index.html#proc-setting-raid-fault-policy-configure-manage-raid">9.11. Setting a RAID fault policy</a><ol class="menu"><li class=" leaf"><a href="index.html#raid-allocate-faultpolicy">9.11.1. The allocate RAID Fault Policy</a></li><li class=" leaf"><a href="index.html#raid-warn-faultpolicy">9.11.2. The warn RAID Fault Policy</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_replacing-a-raid-device-configure-manage-raid">9.12. Replacing a RAID device in a logical volume</a><ol class="menu"><li class=" leaf"><a href="index.html#proc-replacing-raid-device-with-no-failure-replacing-a-raid-device">9.12.1. Replacing a RAID device that has not failed</a></li><li class=" leaf"><a href="index.html#proc-replacing-failed-raid-device-replacing-a-raid-device">9.12.2. Replacing a failed RAID device in a logical volume</a></li></ol></li><li class=" leaf"><a href="index.html#proc-scrubbing-raid-volume-configure-manage-raid">9.13. Checking data coherency in a RAID logical volume (RAID scrubbing)</a></li><li class=" leaf"><a href="index.html#proc-raid-takeover-configure-manage-raid">9.14. Converting a RAID level (RAID takeover)</a></li><li class=" leaf"><a href="index.html#proc-raid-reshape-configure-manage-raid">9.15. Changing attributes of a RAID volume (RAID reshape)</a></li><li class=" leaf"><a href="index.html#proc-controlling-raid-io-configure-manage-raid">9.16. Controlling I/O Operations on a RAID1 logical volume</a></li><li class=" leaf"><a href="index.html#proc-changing-raid-regionsize-configure-manage-raid">9.17. Changing the region size on a RAID logical volume</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_snapshot-volumes-configuring-and-managing-logical-volumes">10. Snapshot logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#con_snapshot_volumes_snapshot-volumes">10.1. Snapshot Volumes</a></li><li class=" leaf"><a href="index.html#proc_creating-snapshot-volumes-snapshot-volumes">10.2. Creating snapshot volumes</a></li><li class=" leaf"><a href="index.html#proc_merging-snapshot-volumes-snapshot-volumes">10.3. Merging snapshot volumes</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_thinly-provisioned-logical-volumes_configuring-and-managing-logical-volumes">11. Creating and managing thinly-provisioned logical volumes (thin volumes)</a><ol class="menu"><li class=" leaf"><a href="index.html#con_thin-volumes_thinly-provisioned-logical-volumes">11.1. Thinly-provisioned logical volumes (thin volumes)</a></li><li class=" leaf"><a href="index.html#creating_thinly_provisioned_logical_volumes">11.2. Creating thinly-provisioned logical volumes</a></li><li class=" leaf"><a href="index.html#con_thin-snapshot-volumes_thinly-provisioned-logical-volumes">11.3. Thinly-provisioned snapshot volumes</a></li><li class=" leaf"><a href="index.html#creating_thinly_provisioned_snapshot_volumes">11.4. Creating thinly-provisioned snapshot volumes</a></li><li class=" leaf"><a href="index.html#tracking_and_displaying_thin_snapshot_volumes_that_have_been_removed">11.5. Tracking and displaying thin snapshot volumes that have been removed</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_cache-volumes-configuring-and-managing-logical-volumes">12. LVM cache logical volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#con_cache-volume-types-cache-volumes">12.1. Cache volume types</a></li><li class=" leaf"><a href="index.html#proc_creating-lvm-cache-volume-cache-volumes">12.2. Creating an LVM cache logical volume</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_lvm-activation-configuring-and-managing-logical-volumes">13. Logical volume activation</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_controlling-auto-activation-lvm-activation">13.1. Controlling autoactivation of logical volumes</a></li><li class=" leaf"><a href="index.html#proc_controlling-logical-volume-activation-lvm-activation">13.2. Controlling logical volume activation</a></li><li class=" leaf"><a href="index.html#proc_activating-logical-volumes-in-a-cluster-lvm-activation">13.3. Activating shared logical volumes</a></li><li class=" leaf"><a href="index.html#proc_setting-lvm-activation-mode-lvm-activation">13.4. Activating a logical volume with missing devices</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_device-scan-configuring-and-managing-logical-volumes">14. Controlling LVM device scanning</a><ol class="menu"><li class=" leaf"><a href="index.html#proc-controlling-device-scans-with-filters-device-scan">14.1. Configuring filters to control device scanning</a></li><li class=" leaf"><a href="index.html#proc-controlling-device-scans-filters-device-scan">14.2. Controlling whether LVM commands scan logical volumes</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_controlling-lvm-allocation-configuring-and-managing-logical-volumes">15. Controlling LVM allocation</a><ol class="menu"><li class=" leaf"><a href="index.html#ref_lvm-allocation-policies-controlling-lvm-allocation">15.1. LVM allocation policies</a></li><li class=" leaf"><a href="index.html#proc_preventing-lvm-allocation-controlling-lvm-allocation">15.2. Preventing allocation on a physical volume</a></li><li class=" leaf"><a href="index.html#proc_extending-lvm-volume-with-cling-allocation-controlling-lvm-allocation">15.3. Extending a logical volume with the cling allocation policy</a></li></ol></li><li class=" leaf"><a href="index.html#idm140285075047776">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-training-banner"  >
  
      
  
  <div class="card card-light card-md push-bottom">
  <h2 class="card-heading card-heading-red card-heading-sm card-heading-flush">Red Hat Training</h2>
  <p>A Red Hat training course is available for <a href="https://www.redhat.com/en/services/training/courses-by-curriculum?intcmp=701f2000001D4OtAAK&amp;#Red-Hat-Enterprise-Linux" class="cta-link">RHEL 8</a></p>
</div>

  
  </div>
<div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Configuring and managing logical volumes</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm140285071822416"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">8</span></div><div><h2 class="subtitle">A guide to the configuration and management of LVM logical volumes</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="index.html#idm140285075047776">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This documentation collection provides instructions on how to manage LVM logical volumes on Red Hat Enterprise Linux 8.
			</div></div></div></div><hr/></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p>
			We appreciate your input on our documentation. Please let us know how we could make it better. To do so:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					For simple comments on specific passages, make sure you are viewing the documentation in the Multi-page HTML format. Highlight the part of text that you want to comment on. Then, click the <span class="strong strong"><strong>Add Feedback</strong></span> pop-up that appears below the highlighted text, and follow the displayed instructions.
				</li><li class="listitem"><p class="simpara">
					For submitting more complex feedback, create a Bugzilla ticket:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Go to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">Bugzilla</a> website.
						</li><li class="listitem">
							As the Component, use <span class="strong strong"><strong>Documentation</strong></span>.
						</li><li class="listitem">
							Fill in the <span class="strong strong"><strong>Description</strong></span> field with your suggestion for improvement. Include a link to the relevant part(s) of documentation.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Submit Bug</strong></span>.
						</li></ol></div></li></ul></div></section><section class="chapter" id="logical_volumes-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Logical volumes</h1></div></div></div><p>
			Volume management creates a layer of abstraction over physical storage, allowing you to create logical storage volumes. This provides much greater flexibility in a number of ways than using physical storage directly. In addition, the hardware storage configuration is hidden from the software so it can be resized and moved without stopping applications or unmounting file systems. This can reduce operational costs.
		</p><p>
			Logical volumes provide the following advantages over using physical storage directly:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Flexible capacity
				</p><p class="simpara">
					When using logical volumes, file systems can extend across multiple disks, since you can aggregate disks and partitions into a single logical volume.
				</p></li><li class="listitem"><p class="simpara">
					Resizeable storage pools
				</p><p class="simpara">
					You can extend logical volumes or reduce logical volumes in size with simple software commands, without reformatting and repartitioning the underlying disk devices.
				</p></li><li class="listitem"><p class="simpara">
					Online data relocation
				</p><p class="simpara">
					To deploy newer, faster, or more resilient storage subsystems, you can move data while your system is active. Data can be rearranged on disks while the disks are in use. For example, you can empty a hot-swappable disk before removing it.
				</p></li><li class="listitem"><p class="simpara">
					Convenient device naming
				</p><p class="simpara">
					Logical storage volumes can be managed in user-defined and custom named groups.
				</p></li><li class="listitem"><p class="simpara">
					Disk striping
				</p><p class="simpara">
					You can create a logical volume that stripes data across two or more disks. This can dramatically increase throughput.
				</p></li><li class="listitem"><p class="simpara">
					Mirroring volumes
				</p><p class="simpara">
					Logical volumes provide a convenient way to configure a mirror for your data.
				</p></li><li class="listitem"><p class="simpara">
					Volume snapshots
				</p><p class="simpara">
					Using logical volumes, you can take device snapshots for consistent backups or to test the effect of changes without affecting the real data.
				</p></li><li class="listitem"><p class="simpara">
					Thin volumes
				</p><p class="simpara">
					Logical volumes can be thinly provisioned. This allows you to create logical volumes that are larger than the available extents.
				</p></li><li class="listitem"><p class="simpara">
					Cache volumes
				</p><p class="simpara">
					A cache logical volume uses a small logical volume consisting of fast block devices (such as SSD drives) to improve the performance of a larger and slower logical volume by storing the frequently used blocks on the smaller, faster logical volume.
				</p></li></ul></div><section class="section" id="lvm_definition-overview-of-lvm"><div class="titlepage"><div><div><h2 class="title">1.1. LVM architecture overview</h2></div></div></div><p>
				The underlying physical storage unit of an LVM logical volume is a block device such as a partition or whole disk. This device is initialized as an LVM <span class="emphasis"><em>physical volume</em></span> (PV).
			</p><p>
				To create an LVM logical volume, the physical volumes are combined into a <span class="emphasis"><em>volume group</em></span> (VG). This creates a pool of disk space out of which LVM logical volumes (LVs) can be allocated. This process is analogous to the way in which disks are divided into partitions. A logical volume is used by file systems and applications (such as databases).
			</p><p>
				<a class="xref" href="index.html#basic_lvm_volume" title="Figure 1.1. LVM logical volume components">Figure 1.1, “LVM logical volume components”</a> shows the components of a simple LVM logical volume:
			</p><div class="figure" id="basic_lvm_volume"><p class="title"><strong>Figure 1.1. LVM logical volume components</strong></p><div class="figure-contents"><div class="mediaobject"><img src="basic-lvm-volume.png" alt="LVM Logical Volume Components"/></div></div></div></section><section class="section" id="con_lvm-physical-volumes_overview-of-lvm"><div class="titlepage"><div><div><h2 class="title">1.2. Physical volumes</h2></div></div></div><p>
				The underlying physical storage unit of an LVM logical volume is a block device such as a partition or whole disk. To use the device for an LVM logical volume, the device must be initialized as a physical volume (PV). Initializing a block device as a physical volume places a label near the start of the device.
			</p><p>
				By default, the LVM label is placed in the second 512-byte sector. You can overwrite this default by placing the label on any of the first 4 sectors when you create the physical volume. This allows LVM volumes to co-exist with other users of these sectors, if necessary.
			</p><p>
				An LVM label provides correct identification and device ordering for a physical device, since devices can come up in any order when the system is booted. An LVM label remains persistent across reboots and throughout a cluster.
			</p><p>
				The LVM label identifies the device as an LVM physical volume. It contains a random unique identifier (the UUID) for the physical volume. It also stores the size of the block device in bytes, and it records where the LVM metadata will be stored on the device.
			</p><p>
				The LVM metadata contains the configuration details of the LVM volume groups on your system. By default, an identical copy of the metadata is maintained in every metadata area in every physical volume within the volume group. LVM metadata is small and stored as ASCII.
			</p><p>
				Currently LVM allows you to store 0, 1 or 2 identical copies of its metadata on each physical volume. The default is 1 copy. Once you configure the number of metadata copies on the physical volume, you cannot change that number at a later time. The first copy is stored at the start of the device, shortly after the label. If there is a second copy, it is placed at the end of the device. If you accidentally overwrite the area at the beginning of your disk by writing to a different disk than you intend, a second copy of the metadata at the end of the device will allow you to recover the metadata.
			</p><section class="section" id="pv_illustration"><div class="titlepage"><div><div><h3 class="title">1.2.1. LVM physical volume layout</h3></div></div></div><p>
					<a class="xref" href="index.html#physical_volume_layout" title="Figure 1.2. Physical volume layout">Figure 1.2, “Physical volume layout”</a> shows the layout of an LVM physical volume. The LVM label is on the second sector, followed by the metadata area, followed by the usable space on the device.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In the Linux kernel (and throughout this document), sectors are considered to be 512 bytes in size.
					</p></div></div><div class="figure" id="physical_volume_layout"><p class="title"><strong>Figure 1.2. Physical volume layout</strong></p><div class="figure-contents"><div class="mediaobject"><img src="physvol.png" alt="LVM Physical Volume Layout"/></div></div></div></section><section class="section" id="multiple_partitions"><div class="titlepage"><div><div><h3 class="title">1.2.2. Multiple partitions on a disk</h3></div></div></div><p>
					LVM allows you to create physical volumes out of disk partitions. Red Hat recommends that you create a single partition that covers the whole disk to label as an LVM physical volume for the following reasons:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Administrative convenience
						</p><p class="simpara">
							It is easier to keep track of the hardware in a system if each real disk only appears once. This becomes particularly true if a disk fails. In addition, multiple physical volumes on a single disk may cause a kernel warning about unknown partition types at boot.
						</p></li><li class="listitem"><p class="simpara">
							Striping performance
						</p><p class="simpara">
							LVM cannot tell that two physical volumes are on the same physical disk. If you create a striped logical volume when two physical volumes are on the same physical disk, the stripes could be on different partitions on the same disk. This would result in a decrease in performance rather than an increase.
						</p></li></ul></div><p>
					Although it is not recommended, there may be specific circumstances when you will need to divide a disk into separate LVM physical volumes. For example, on a system with few disks it may be necessary to move data around partitions when you are migrating an existing system to LVM volumes. Additionally, if you have a very large disk and want to have more than one volume group for administrative purposes then it is necessary to partition the disk. If you do have a disk with more than one partition and both of those partitions are in the same volume group, take care to specify which partitions are to be included in a logical volume when creating striped volumes.
				</p></section></section><section class="section" id="con_lvm-volume-groups_overview-of-lvm"><div class="titlepage"><div><div><h2 class="title">1.3. Volume groups</h2></div></div></div><p>
				Physical volumes are combined into volume groups (VGs). This creates a pool of disk space out of which logical volumes can be allocated.
			</p><p>
				Within a volume group, the disk space available for allocation is divided into units of a fixed-size called extents. An extent is the smallest unit of space that can be allocated. Within a physical volume, extents are referred to as physical extents.
			</p><p>
				A logical volume is allocated into logical extents of the same size as the physical extents. The extent size is thus the same for all logical volumes in the volume group. The volume group maps the logical extents to physical extents.
			</p></section><section class="section" id="lvm_overview_overview-of-lvm"><div class="titlepage"><div><div><h2 class="title">1.4. LVM logical volumes</h2></div></div></div><p>
				In LVM, a volume group is divided up into logical volumes. The following sections describe the different types of logical volumes.
			</p><section class="section" id="con_lvm_linear_volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.1. Linear Volumes</h3></div></div></div><p>
					A linear volume aggregates space from one or more physical volumes into one logical volume. For example, if you have two 60GB disks, you can create a 120GB logical volume. The physical storage is concatenated.
				</p><p>
					Creating a linear volume assigns a range of physical extents to an area of a logical volume in order. For example, as shown in <a class="xref" href="index.html#extent_mapping" title="Figure 1.3. Extent Mapping">Figure 1.3, “Extent Mapping”</a> logical extents 1 to 99 could map to one physical volume and logical extents 100 to 198 could map to a second physical volume. From the point of view of the application, there is one device that is 198 extents in size.
				</p><div class="figure" id="extent_mapping"><p class="title"><strong>Figure 1.3. Extent Mapping</strong></p><div class="figure-contents"><div class="mediaobject"><img src="extent-map.png" alt="Mapping extents in a linear volume"/></div></div></div><p>
					The physical volumes that make up a logical volume do not have to be the same size. <a class="xref" href="index.html#uneven_pvs" title="Figure 1.4. Linear volume with unequal physical volumes">Figure 1.4, “Linear volume with unequal physical volumes”</a> shows volume group <code class="literal">VG1</code> with a physical extent size of 4MB. This volume group includes 2 physical volumes named <code class="literal">PV1</code> and <code class="literal">PV2</code>. The physical volumes are divided into 4MB units, since that is the extent size. In this example, <code class="literal">PV1</code> is 200 extents in size (800MB) and <code class="literal">PV2</code> is 100 extents in size (400MB). You can create a linear volume any size between 1 and 300 extents (4MB to 1200MB). In this example, the linear volume named <code class="literal">LV1</code> is 300 extents in size.
				</p><div class="figure" id="uneven_pvs"><p class="title"><strong>Figure 1.4. Linear volume with unequal physical volumes</strong></p><div class="figure-contents"><div class="mediaobject"><img src="uneven_pvs.png" alt="Linear volume with unequal physical volumes"/></div></div></div><p>
					You can configure more than one linear logical volume of whatever size you require from the pool of physical extents. <a class="xref" href="index.html#uneven_lvs" title="Figure 1.5. Multiple logical volumes">Figure 1.5, “Multiple logical volumes”</a> shows the same volume group as in <a class="xref" href="index.html#uneven_pvs" title="Figure 1.4. Linear volume with unequal physical volumes">Figure 1.4, “Linear volume with unequal physical volumes”</a>, but in this case two logical volumes have been carved out of the volume group: <code class="literal">LV1</code>, which is 250 extents in size (1000MB) and <code class="literal">LV2</code> which is 50 extents in size (200MB).
				</p><div class="figure" id="uneven_lvs"><p class="title"><strong>Figure 1.5. Multiple logical volumes</strong></p><div class="figure-contents"><div class="mediaobject"><img src="uneven_vols.png" alt="Multiple logical volumes"/></div></div></div></section><section class="section" id="con_lvm-striped-volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.2. Striped Logical Volumes</h3></div></div></div><p>
					When you write data to an LVM logical volume, the file system lays the data out across the underlying physical volumes. You can control the way the data is written to the physical volumes by creating a striped logical volume. For large sequential reads and writes, this can improve the efficiency of the data I/O.
				</p><p>
					Striping enhances performance by writing data to a predetermined number of physical volumes in round-robin fashion. With striping, I/O can be done in parallel. In some situations, this can result in near-linear performance gain for each additional physical volume in the stripe.
				</p><p>
					The following illustration shows data being striped across three physical volumes. In this figure:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							the first stripe of data is written to the first physical volume
						</li><li class="listitem">
							the second stripe of data is written to the second physical volume
						</li><li class="listitem">
							the third stripe of data is written to the third physical volume
						</li><li class="listitem">
							the fourth stripe of data is written to the first physical volume
						</li></ul></div><p>
					In a striped logical volume, the size of the stripe cannot exceed the size of an extent.
				</p><div class="figure" id="striped_voa"><p class="title"><strong>Figure 1.6. Striping data across three PVs</strong></p><div class="figure-contents"><div class="mediaobject"><img src="stripedvol.png" alt="Striping data across three physical volumes"/></div></div></div><p>
					Striped logical volumes can be extended by concatenating another set of devices onto the end of the first set. In order to extend a striped logical volume, however, there must be enough free space on the set of underlying physical volumes that make up the volume group to support the stripe. For example, if you have a two-way stripe that uses up an entire volume group, adding a single physical volume to the volume group will not enable you to extend the stripe. Instead, you must add at least two physical volumes to the volume group.
				</p></section><section class="section" id="con_raid-logical-volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.3. RAID logical volumes</h3></div></div></div><p>
					LVM supports RAID0/1/4/5/6/10. An LVM RAID volume has the following characteristics:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							RAID logical volumes created and managed by means of LVM leverage the MD kernel drivers.
						</li><li class="listitem">
							RAID1 images can be temporarily split from the array and merged back into the array later.
						</li><li class="listitem">
							LVM RAID volumes support snapshots.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						RAID logical volumes are not cluster-aware. While RAID logical volumes can be created and activated exclusively on one machine, they cannot be activated simultaneously on more than one machine.
					</p></div></div></section><section class="section" id="con_thin-volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.4. Thinly-provisioned logical volumes (thin volumes)</h3></div></div></div><p>
					Logical volumes can be thinly provisioned. This allows you to create logical volumes that are larger than the available extents. Using thin provisioning, you can manage a storage pool of free space, known as a thin pool, which can be allocated to an arbitrary number of devices when needed by applications. You can then create devices that can be bound to the thin pool for later allocation when an application actually writes to the logical volume. The thin pool can be expanded dynamically when needed for cost-effective allocation of storage space.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Thin volumes are not supported across the nodes in a cluster. The thin pool and all its thin volumes must be exclusively activated on only one cluster node.
					</p></div></div><p>
					By using thin provisioning, a storage administrator can overcommit the physical storage, often avoiding the need to purchase additional storage. For example, if ten users each request a 100GB file system for their application, the storage administrator can create what appears to be a 100GB file system for each user but which is backed by less actual storage that is used only when needed. When using thin provisioning, it is important that the storage administrator monitor the storage pool and add more capacity if it starts to become full.
				</p><p>
					To make sure that all available space can be used, LVM supports data discard. This allows for re-use of the space that was formerly used by a discarded file or other block range.
				</p><p>
					Thin volumes provide support for a new implementation of copy-on-write (COW) snapshot logical volumes, which allow many virtual devices to share the same data in the thin pool.
				</p></section><section class="section" id="con_snapshot_volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.5. Snapshot Volumes</h3></div></div></div><p>
					The LVM snapshot feature provides the ability to create virtual images of a device at a particular instant without causing a service interruption. When a change is made to the original device (the origin) after a snapshot is taken, the snapshot feature makes a copy of the changed data area as it was prior to the change so that it can reconstruct the state of the device.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						LVM supports thinly-provisioned snapshots.
					</p></div></div><p>
					Because a snapshot copies only the data areas that change after the snapshot is created, the snapshot feature requires a minimal amount of storage. For example, with a rarely updated origin, 3-5 % of the origin’s capacity is sufficient to maintain the snapshot.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Snapshot copies of a file system are virtual copies, not an actual media backup for a file system. Snapshots do not provide a substitute for a backup procedure.
					</p></div></div><p>
					The size of the snapshot governs the amount of space set aside for storing the changes to the origin volume. For example, if you made a snapshot and then completely overwrote the origin the snapshot would have to be at least as big as the origin volume to hold the changes. You need to dimension a snapshot according to the expected level of change. So for example a short-lived snapshot of a read-mostly volume, such as <code class="literal">/usr</code>, would need less space than a long-lived snapshot of a volume that sees a greater number of writes, such as <code class="literal">/home</code>.
				</p><p>
					If a snapshot runs full, the snapshot becomes invalid, since it can no longer track changes on the origin volume. You should regularly monitor the size of the snapshot. Snapshots are fully resizable, however, so if you have the storage capacity you can increase the size of the snapshot volume to prevent it from getting dropped. Conversely, if you find that the snapshot volume is larger than you need, you can reduce the size of the volume to free up space that is needed by other logical volumes.
				</p><p>
					When you create a snapshot file system, full read and write access to the origin stays possible. If a chunk on a snapshot is changed, that chunk is marked and never gets copied from the original volume.
				</p><p>
					There are several uses for the snapshot feature:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Most typically, a snapshot is taken when you need to perform a backup on a logical volume without halting the live system that is continuously updating the data.
						</li><li class="listitem">
							You can execute the <code class="literal command">fsck</code> command on a snapshot file system to check the file system integrity and determine whether the original file system requires file system repair.
						</li><li class="listitem">
							Because the snapshot is read/write, you can test applications against production data by taking a snapshot and running tests against the snapshot, leaving the real data untouched.
						</li><li class="listitem">
							You can create LVM volumes for use with Red Hat Virtualization. LVM snapshots can be used to create snapshots of virtual guest images. These snapshots can provide a convenient way to modify existing guests or create new guests with minimal additional storage.
						</li></ul></div><p>
					You can use the <code class="literal option">--merge</code> option of the <code class="literal command">lvconvert</code> command to merge a snapshot into its origin volume. One use for this feature is to perform system rollback if you have lost data or files or otherwise need to restore your system to a previous state. After you merge the snapshot volume, the resulting logical volume will have the origin volume’s name, minor number, and UUID and the merged snapshot is removed.
				</p></section><section class="section" id="con_thin-snapshot-volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.6. Thinly-provisioned snapshot volumes</h3></div></div></div><p>
					Red Hat Enterprise Linux provides support for thinly-provisioned snapshot volumes. Thin snapshot volumes allow many virtual devices to be stored on the same data volume. This simplifies administration and allows for the sharing of data between snapshot volumes.
				</p><p>
					As for all LVM snapshot volumes, as well as all thin volumes, thin snapshot volumes are not supported across the nodes in a cluster. The snapshot volume must be exclusively activated on only one cluster node.
				</p><p>
					Thin snapshot volumes provide the following benefits:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A thin snapshot volume can reduce disk usage when there are multiple snapshots of the same origin volume.
						</li><li class="listitem">
							If there are multiple snapshots of the same origin, then a write to the origin will cause one COW operation to preserve the data. Increasing the number of snapshots of the origin should yield no major slowdown.
						</li><li class="listitem">
							Thin snapshot volumes can be used as a logical volume origin for another snapshot. This allows for an arbitrary depth of recursive snapshots (snapshots of snapshots of snapshots…​).
						</li><li class="listitem">
							A snapshot of a thin logical volume also creates a thin logical volume. This consumes no data space until a COW operation is required, or until the snapshot itself is written.
						</li><li class="listitem">
							A thin snapshot volume does not need to be activated with its origin, so a user may have only the origin active while there are many inactive snapshot volumes of the origin.
						</li><li class="listitem">
							When you delete the origin of a thinly-provisioned snapshot volume, each snapshot of that origin volume becomes an independent thinly-provisioned volume. This means that instead of merging a snapshot with its origin volume, you may choose to delete the origin volume and then create a new thinly-provisioned snapshot using that independent volume as the origin volume for the new snapshot.
						</li></ul></div><p>
					Although there are many advantages to using thin snapshot volumes, there are some use cases for which the older LVM snapshot volume feature may be more appropriate to your needs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							You cannot change the chunk size of a thin pool. If the thin pool has a large chunk size (for example, 1MB) and you require a short-living snapshot for which a chunk size that large is not efficient, you may elect to use the older snapshot feature.
						</li><li class="listitem">
							You cannot limit the size of a thin snapshot volume; the snapshot will use all of the space in the thin pool, if necessary. This may not be appropriate for your needs.
						</li></ul></div><p>
					In general, you should consider the specific requirements of your site when deciding which snapshot format to use.
				</p></section><section class="section" id="con_cache-volumes_lvm-logical-volumes"><div class="titlepage"><div><div><h3 class="title">1.4.7. Cache Volumes</h3></div></div></div><p>
					LVM supports the use of fast block devices (such as SSD drives) as write-back or write-through caches for larger slower block devices. Users can create cache logical volumes to improve the performance of their existing logical volumes or create new cache logical volumes composed of a small and fast device coupled with a large and slow device.
				</p></section></section></section><section class="chapter" id="managing-local-storage-using-rhel-system-roles_configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Managing local storage using RHEL System Roles</h1></div></div></div><p>
			To manage LVM and local file systems (FS) using Ansible, you can use the <code class="literal">storage</code> role, which is one of the RHEL System Roles available in RHEL 8.
		</p><p>
			Using the <code class="literal">storage role</code> enables you to automate administration of file systems on disks and logical volumes on multiple machines and across all versions of RHEL starting with RHEL 7.7.
		</p><p>
			For more information on RHEL System Roles and how to apply them, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/getting-started-with-system-administration_configuring-basic-system-settings#what-rhel-system-roles-are_getting-started-with-system-administration">What RHEL System Roles are and which tasks they can be used for</a>.
		</p><section class="section" id="storage-role-intro_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h2 class="title">2.1. Introduction to the storage role</h2></div></div></div><p>
				The <code class="literal">storage</code> role can manage:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						File systems on whole disks
					</li><li class="listitem">
						Complete LVM volume groups including their logical volumes and file systems
					</li></ul></div><p>
				With the <code class="literal">storage</code> role you can perform the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create a file system
					</li><li class="listitem">
						Remove a file system
					</li><li class="listitem">
						Mount a file system
					</li><li class="listitem">
						Unmount a file system
					</li><li class="listitem">
						Create LVM volume groups
					</li><li class="listitem">
						Remove LVM volume groups
					</li><li class="listitem">
						Create logical volumes
					</li><li class="listitem">
						Remove logical volumes
					</li></ul></div></section><section class="section" id="storage-role-parameters_managing-local-storage-using-rhel-system-roles"><div class="titlepage"><div><div><h2 class="title">2.2. Storage role parameters</h2></div></div></div><p>
				This section lists input variables that the <code class="literal">storage</code> role accepts.
			</p><div class="table" id="idm140285084388768"><p class="title"><strong>Table 2.1. Storage role parameters</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285073548000" scope="col">Parameter</th><th align="left" valign="top" id="idm140285073546912" scope="col">Description</th><th align="left" valign="top" id="idm140285073545824" scope="col">Additional information</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285073548000"> <p>
								storage_volumes
							</p>
							 </td><td align="left" valign="top" headers="idm140285073546912"> <p>
								List of file systems on whole disks to be managed.
							</p>
							 </td><td align="left" valign="top" headers="idm140285073545824"> <p>
								Partitions are currently unsupported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073548000"> <p>
								storage_pools
							</p>
							 </td><td align="left" valign="top" headers="idm140285073546912"> <p>
								List of pools to be managed.
							</p>
							 </td><td align="left" valign="top" headers="idm140285073545824"> <p>
								Currently the only supported pool type is LVM. With LVM, pools represent volume groups (VGs). Under each pool there is a list of volumes to be managed by the role. With LVM, each volume corresponds to a logical volume (LV) with a file system.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073548000"> <p>
								storage_safe_mode
							</p>
							 </td><td align="left" valign="top" headers="idm140285073546912"> <p>
								Boolean option to enable and disable safe mode.
							</p>
							 </td><td align="left" valign="top" headers="idm140285073545824"> <p>
								In safe mode, the storage role does not reformat disks containing data such as file systems or LVM physical volumes to create new file systems or other storage objects, but the role aborts with an error message instead. By default, safe mode is on to prevent accidentally overwriting existing data. Red Hat recommends to keep safe mode enabled, and disable it only for specific cases and after detailed testing.
							</p>
							 </td></tr></tbody></table></div></div><p>
				The <code class="literal">storage</code> role only changes file systems, volumes and pools listed in the <code class="literal">storage_pools</code> and <code class="literal">storage_volumes</code> variables. File systems, volumes and pools not listed in <code class="literal">storage_pools</code> and <code class="literal">storage_volumes</code> are not changed.
			</p><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					For more information on the <code class="literal">storage</code> role, see <a class="link" href="https://github.com/linux-system-roles/storage">System roles documentation</a>.
				</p></div></section></section><section class="chapter" id="assembly_configuring-lvm-volumes-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Configuring LVM logical volumes</h1></div></div></div><p>
			The following procedures provide examples of basic LVM administration tasks.
		</p><section class="section" id="ref_using_cli_commands-configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.1. Using CLI commands</h2></div></div></div><p>
				The following sections describe some general operational features of LVM CLI commands.
			</p><h4 id="specifying_units_in_a_command_line_argument">Specifying units in a command line argument</h4><p>
				When sizes are required in a command line argument, units can always be specified explicitly. If you do not specify a unit, then a default is assumed, usually KB or MB. LVM CLI commands do not accept fractions.
			</p><p>
				When specifying units in a command line argument, LVM is case-insensitive; specifying M or m is equivalent, for example, and powers of 2 (multiples of 1024) are used. However, when specifying the <code class="literal option">--units</code> argument in a command, lower-case indicates that units are in multiples of 1024 while upper-case indicates that units are in multiples of 1000.
			</p><h4 id="specifying_volume_groups_and_logical_volumes">Specifying volume groups and logical volumes</h4><p>
				Note the following when specifying volume groups or logical volumes in an LVM CLI command.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Where commands take volume group or logical volume names as arguments, the full path name is optional. A logical volume called <code class="literal">lvol0</code> in a volume group called <code class="literal">vg0</code> can be specified as <code class="literal">vg0/lvol0</code>.
					</li><li class="listitem">
						Where a list of volume groups is required but is left empty, a list of all volume groups will be substituted.
					</li><li class="listitem">
						Where a list of logical volumes is required but a volume group is given, a list of all the logical volumes in that volume group will be substituted. For example, the <code class="literal command">lvdisplay vg0</code> command will display all the logical volumes in volume group <code class="literal">vg0</code>.
					</li></ul></div><h4 id="increasing_output_verbosity">Increasing output verbosity</h4><p>
				All LVM commands accept a <code class="literal option">-v</code> argument, which can be entered multiple times to increase the output verbosity. The following examples shows the default output of the <code class="literal command">lvcreate</code> command.
			</p><pre class="literallayout"># <code class="literal">lvcreate -L 50MB new_vg</code>
  Rounding up size to full physical extent 52.00 MB
  Logical volume "lvol0" created</pre><p>
				The following command shows the output of the <code class="literal command">lvcreate</code> command with the <code class="literal option">-v</code> argument.
			</p><pre class="literallayout"># <code class="literal">lvcreate -v -L 50MB new_vg</code>
  Rounding up size to full physical extent 52.00 MB
    Archiving volume group "new_vg" metadata (seqno 1).
    Creating logical volume lvol0
    Creating volume group backup "/etc/lvm/backup/new_vg" (seqno 2).
    Activating logical volume new_vg/lvol0.
    activation/volume_list configuration setting not defined: Checking only host tags for new_vg/lvol0.
    Creating new_vg-lvol0
    Loading table for new_vg-lvol0 (253:0).
    Resuming new_vg-lvol0 (253:0).
    Wiping known signatures on logical volume "new_vg/lvol0"
    Initializing 4.00 KiB of logical volume "new_vg/lvol0" with value 0.
  Logical volume "lvol0" created</pre><p>
				The <code class="literal option">-vv</code>, <code class="literal option">-vvv</code> and the <code class="literal option">-vvvv</code> arguments display increasingly more details about the command execution. The <code class="literal option">-vvvv</code> argument provides the maximum amount of information at this time. The following example shows the first few lines of output for the <code class="literal command">lvcreate</code> command with the <code class="literal option">-vvvv</code> argument specified.
			</p><pre class="literallayout"># <code class="literal">lvcreate -vvvv -L 50MB new_vg</code>
#lvmcmdline.c:913         Processing: lvcreate -vvvv -L 50MB new_vg
#lvmcmdline.c:916         O_DIRECT will be used
#config/config.c:864       Setting global/locking_type to 1
#locking/locking.c:138       File-based locking selected.
#config/config.c:841       Setting global/locking_dir to /var/lock/lvm
#activate/activate.c:358       Getting target version for linear
#ioctl/libdm-iface.c:1569         dm version   OF   [16384]
#ioctl/libdm-iface.c:1569         dm versions   OF   [16384]
#activate/activate.c:358       Getting target version for striped
#ioctl/libdm-iface.c:1569         dm versions   OF   [16384]
#config/config.c:864       Setting activation/mirror_region_size to 512
...</pre><h4 id="displaying_help_for_lvm_cli_commands">Displaying help for LVM CLI commands</h4><p>
				You can display help for any of the LVM CLI commands with the <code class="literal option">--help</code> argument of the command.
			</p><pre class="literallayout"># <code class="literal">commandname --help</code></pre><p>
				To display the man page for a command, execute the <code class="literal command">man</code> command:
			</p><pre class="literallayout"># <code class="literal">man commandname</code></pre><p>
				The <code class="literal command">man lvm</code> command provides general online information about LVM.
			</p></section><section class="section" id="proc_creating-an-LVM-volume-configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.2. Creating an LVM logical volume on three disks</h2></div></div></div><p>
				This example procedure creates an LVM logical volume called <code class="literal">mylv</code> that consists of the disks at <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To use disks in a volume group, label them as LVM physical volumes with the <code class="literal command">pvcreate</code> command.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							This command destroys any data on <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
						</p></div></div><pre class="literallayout"># <code class="literal">pvcreate /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Physical volume "/dev/sda1" successfully created
  Physical volume "/dev/sdb1" successfully created
  Physical volume "/dev/sdc1" successfully created</pre></li><li class="listitem"><p class="simpara">
						Create the a volume group that consists of the LVM physical volumes you have created. The following command creates the volume group <code class="literal">myvg</code>.
					</p><pre class="literallayout"># <code class="literal">vgcreate myvg /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Volume group "myvg" successfully created</pre><p class="simpara">
						You can use the <code class="literal command">vgs</code> command to display the attributes of the new volume group.
					</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize  VFree
  myvg   3   0   0 wz--n- 51.45G 51.45G</pre></li><li class="listitem"><p class="simpara">
						Create the logical volume from the volume group you have created. The following command creates the logical volume <code class="literal">mylv</code> from the volume group <code class="literal">myvg</code>. This example creates a logical volume that uses 2 gigabytes of the volume group.
					</p><pre class="literallayout"># <code class="literal">lvcreate -L 2G -n mylv myvg</code>
  Logical volume "mylv" created</pre></li><li class="listitem"><p class="simpara">
						Create a file system on the logical volume. The following command creates an <code class="literal">ext4</code> file system on the logical volume.
					</p><pre class="literallayout"># <code class="literal">mkfs.ext4 /dev/myvg/mylv</code>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 524288 4k blocks and 131072 inodes
Filesystem UUID: 616da032-8a48-4cd7-8705-bd94b7a1c8c4
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912

Allocating group tables: done
Writing inode tables: done
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done</pre><p class="simpara">
						The following commands mount the logical volume and report the file system disk space usage.
					</p><pre class="literallayout"># <code class="literal">mount /dev/myvg/mylv /mnt</code>
# <code class="literal">df</code>
Filesystem             1K-blocks     Used  Available Use% Mounted on
/dev/mapper/myvg-mylv    1998672     6144    1871288   1% /mnt</pre></li></ol></div></section><section class="section" id="proc_creating-a-striped-logical-volume_configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.3. Creating a RAID0 (striped) logical volume</h2></div></div></div><p>
				A RAID0 logical volume spreads logical volume data across multiple data subvolumes in units of stripe size.
			</p><p>
				The format for the command to create a RAID0 volume is as follows.
			</p><pre class="literallayout">lvcreate --type raid0[_meta] --stripes <span class="emphasis"><em>Stripes</em></span> --stripesize <span class="emphasis"><em>StripeSize</em></span> <span class="emphasis"><em>VolumeGroup</em></span> [<span class="emphasis"><em>PhysicalVolumePath</em></span> ...]</pre><div class="table" id="idm140285081599728"><p class="title"><strong>Table 3.1. RAID0 Command Creation parameters</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285079946784" scope="col">Parameter</th><th align="left" valign="top" id="idm140285079945696" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285079946784"> <p>
								<code class="literal">--type raid0[_meta]</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285079945696"> <p>
								Specifying <code class="literal">raid0</code> creates a RAID0 volume without metadata volumes. Specifying <code class="literal">raid0_meta</code> creates a RAID0 volume with metadata volumes. Because RAID0 is non-resilient, it does not have to store any mirrored data blocks as RAID1/10 or calculate and store any parity blocks as RAID4/5/6 do. Hence, it does not need metadata volumes to keep state about resynchronization progress of mirrored or parity blocks. Metadata volumes become mandatory on a conversion from RAID0 to RAID4/5/6/10, however, and specifying <code class="literal">raid0_meta</code> preallocates those metadata volumes to prevent a respective allocation failure.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285079946784"> <p>
								<code class="literal">--stripes <span class="emphasis"><em>Stripes</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285079945696"> <p>
								Specifies the number of devices to spread the logical volume across.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285079946784"> <p>
								<code class="literal">--stripesize <span class="emphasis"><em>StripeSize</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285079945696"> <p>
								Specifies the size of each stripe in kilobytes. This is the amount of data that is written to one device before moving to the next device.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285079946784"> <p>
								<code class="literal"><span class="emphasis"><em>VolumeGroup</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285079945696"> <p>
								Specifies the volume group to use.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285079946784"> <p>
								<code class="literal"><span class="emphasis"><em>PhysicalVolumePath</em></span></code> …​
							</p>
							 </td><td align="left" valign="top" headers="idm140285079945696"> <p>
								Specifies the devices to use. If this is not specified, LVM will choose the number of devices specified by the <span class="emphasis"><em>Stripes</em></span> option, one for each stripe.
							</p>
							 </td></tr></tbody></table></div></div><p>
				This example procedure creates an LVM RAID0 logical volume called <code class="literal">mylv</code> that stripes data across the disks at <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Label the disks you will use in the volume group as LVM physical volumes with the <code class="literal command">pvcreate</code> command.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							This command destroys any data on <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
						</p></div></div><pre class="literallayout"># <code class="literal">pvcreate /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Physical volume "/dev/sda1" successfully created
  Physical volume "/dev/sdb1" successfully created
  Physical volume "/dev/sdc1" successfully created</pre></li><li class="listitem"><p class="simpara">
						Create the volume group <code class="literal">myvg</code>. The following command creates the volume group <code class="literal">myvg</code>.
					</p><pre class="literallayout"># <code class="literal">vgcreate myvg /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Volume group "myvg" successfully created</pre><p class="simpara">
						You can use the <code class="literal command">vgs</code> command to display the attributes of the new volume group.
					</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize  VFree
  myvg   3   0   0 wz--n- 51.45G 51.45G</pre></li><li class="listitem"><p class="simpara">
						Create a RAID0 logical volume from the volume group you have created. The following command creates the RAID0 volume <code class="literal">mylv</code> from the volume group <code class="literal">myvg</code>. This example creates a logical volume that is 2 gigabytes in size, with three stripes and a stripe size of 4 kilobytes.
					</p><pre class="literallayout"># <code class="literal">lvcreate --type raid0 -L 2G --stripes 3 --stripesize 4 -n mylv myvg</code>
  Rounding size 2.00 GiB (512 extents) up to stripe boundary size 2.00 GiB(513 extents).
  Logical volume "mylv" created.</pre></li><li class="listitem"><p class="simpara">
						Create a file system on the RAID0 logical volume. The following command creates an <code class="literal">ext4</code> file system on the logical volume.
					</p><pre class="literallayout"># <code class="literal">mkfs.ext4 /dev/myvg/mylv</code>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 525312 4k blocks and 131376 inodes
Filesystem UUID: 9d4c0704-6028-450a-8b0a-8875358c0511
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912

Allocating group tables: done
Writing inode tables: done
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done</pre><p class="simpara">
						The following commands mount the logical volume and report the file system disk space usage.
					</p><pre class="literallayout"># <code class="literal">mount /dev/myvg/mylv /mnt</code>
# <code class="literal">df</code>
Filesystem             1K-blocks     Used  Available Use% Mounted on
/dev/mapper/myvg-mylv    2002684     6168    1875072   1% /mnt</pre></li></ol></div></section><section class="section" id="renaming-lvm-logical-volumes_configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.4. Renaming LVM logical volumes</h2></div></div></div><p>
				This procedure renames an existing logical volume using the command-line LVM interface.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						If the logical volume is currently mounted, unmount the volume.
					</li><li class="listitem"><p class="simpara">
						If the logical volume exists in a clustered environment, deactivate the logical volume on all nodes where it is active. Use the following command on each such node:
					</p><pre class="screen">[root@node-n]# lvchange --activate n <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">lvrename</code> utility to rename an existing logical volume:
					</p><pre class="screen"># lvrename <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">original-lv-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">new-lv-name</span></em></span></pre><p class="simpara">
						Optionally, you can specify the full paths to the devices:
					</p><pre class="screen"># lvrename /dev/<span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">original-lv-name</span></em></span> /dev/<span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">new-lv-name</span></em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">lvrename(8)</code> man page
					</li></ul></div></section><section class="section" id="proc_removing-a-disk-from-a-logical-volume-configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.5. Removing a disk from a logical volume</h2></div></div></div><p>
				These example procedures show how you can remove a disk from an existing logical volume, either to replace the disk or to use the disk as part of a different volume. In order to remove a disk, you must first move the extents on the LVM physical volume to a different disk or set of disks.
			</p><section class="section" id="move_exist_ex4"><div class="titlepage"><div><div><h3 class="title">3.5.1. Moving extents to existing physical volumes</h3></div></div></div><p>
					In this example, the logical volume is distributed across four physical volumes in the volume group <code class="literal">myvg</code>.
				</p><pre class="literallayout"># <code class="literal">pvs -o+pv_used</code>
  PV         VG   Fmt  Attr PSize  PFree  Used
  /dev/sda1  myvg lvm2 a-   17.15G 12.15G  5.00G
  /dev/sdb1  myvg lvm2 a-   17.15G 12.15G  5.00G
  /dev/sdc1  myvg lvm2 a-   17.15G 12.15G  5.00G
  /dev/sdd1  myvg lvm2 a-   17.15G  2.15G 15.00G</pre><p>
					This examples moves the extents off of <code class="literal">/dev/sdb1</code> so that it can be removed from the volume group.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							If there are enough free extents on the other physical volumes in the volume group, you can execute the <code class="literal command">pvmove</code> command on the device you want to remove with no other options and the extents will be distributed to the other devices.
						</p><p class="simpara">
							In a cluster, the <code class="literal">pvmove</code> command can move only logical volume that are active exclusively on a single node.
						</p><pre class="literallayout"># <code class="literal">pvmove /dev/sdb1</code>
  /dev/sdb1: Moved: 2.0%
 ...
  /dev/sdb1: Moved: 79.2%
 ...
  /dev/sdb1: Moved: 100.0%</pre><p class="simpara">
							After the <code class="literal command">pvmove</code> command has finished executing, the distribution of extents is as follows:
						</p><pre class="literallayout"># <code class="literal">pvs -o+pv_used</code>
  PV         VG   Fmt  Attr PSize  PFree  Used
  /dev/sda1  myvg lvm2 a-   17.15G  7.15G 10.00G
  /dev/sdb1  myvg lvm2 a-   17.15G 17.15G     0
  /dev/sdc1  myvg lvm2 a-   17.15G 12.15G  5.00G
  /dev/sdd1  myvg lvm2 a-   17.15G  2.15G 15.00G</pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal command">vgreduce</code> command to remove the physical volume <code class="literal">/dev/sdb1</code> from the volume group.
						</p><pre class="literallayout"># <code class="literal">vgreduce myvg /dev/sdb1</code>
  Removed "/dev/sdb1" from volume group "myvg"
# pvs
  PV         VG   Fmt  Attr PSize  PFree
  /dev/sda1  myvg lvm2 a-   17.15G  7.15G
  /dev/sdb1       lvm2 --   17.15G 17.15G
  /dev/sdc1  myvg lvm2 a-   17.15G 12.15G
  /dev/sdd1  myvg lvm2 a-   17.15G  2.15G</pre></li></ol></div><p>
					The disk can now be physically removed or allocated to other users.
				</p></section><section class="section" id="move_new_ex4"><div class="titlepage"><div><div><h3 class="title">3.5.2. Moving Extents to a New Disk</h3></div></div></div><p>
					In this example, the logical volume is distributed across three physical volumes in the volume group <code class="literal">myvg</code> as follows:
				</p><pre class="literallayout"># <code class="literal">pvs -o+pv_used</code>
  PV         VG   Fmt  Attr PSize  PFree  Used
  /dev/sda1  myvg lvm2 a-   17.15G  7.15G 10.00G
  /dev/sdb1  myvg lvm2 a-   17.15G 15.15G  2.00G
  /dev/sdc1  myvg lvm2 a-   17.15G 15.15G  2.00G</pre><p>
					This example procedure moves the extents of <code class="literal">/dev/sdb1</code> to a new device, <code class="literal">/dev/sdd1</code>.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new physical volume from <code class="literal">/dev/sdd1</code>.
						</p><pre class="literallayout"># <code class="literal">pvcreate /dev/sdd1</code>
  Physical volume "/dev/sdd1" successfully created</pre></li><li class="listitem"><p class="simpara">
							Add the new physical volume <code class="literal">/dev/sdd1</code> to the existing volume group <code class="literal">myvg</code>.
						</p><pre class="literallayout"># <code class="literal">vgextend myvg /dev/sdd1</code>
  Volume group "myvg" successfully extended
# <code class="literal">pvs -o+pv_used</code>
  PV         VG   Fmt  Attr PSize  PFree  Used
  /dev/sda1   myvg lvm2 a-   17.15G  7.15G 10.00G
  /dev/sdb1   myvg lvm2 a-   17.15G 15.15G  2.00G
  /dev/sdc1   myvg lvm2 a-   17.15G 15.15G  2.00G
  /dev/sdd1   myvg lvm2 a-   17.15G 17.15G     0</pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal command">pvmove</code> command to move the data from <code class="literal">/dev/sdb1</code> to <code class="literal">/dev/sdd1</code>.
						</p><pre class="literallayout"># <code class="literal">pvmove /dev/sdb1 /dev/sdd1</code>
  /dev/sdb1: Moved: 10.0%
...
  /dev/sdb1: Moved: 79.7%
...
  /dev/sdb1: Moved: 100.0%

# <code class="literal">pvs -o+pv_used</code>
  PV          VG   Fmt  Attr PSize  PFree  Used
  /dev/sda1   myvg lvm2 a-   17.15G  7.15G 10.00G
  /dev/sdb1   myvg lvm2 a-   17.15G 17.15G     0
  /dev/sdc1   myvg lvm2 a-   17.15G 15.15G  2.00G
  /dev/sdd1   myvg lvm2 a-   17.15G 15.15G  2.00G</pre></li><li class="listitem"><p class="simpara">
							After you have moved the data off <code class="literal">/dev/sdb1</code>, you can remove it from the volume group.
						</p><pre class="literallayout"># <code class="literal">vgreduce myvg /dev/sdb1</code>
  Removed "/dev/sdb1" from volume group "myvg"</pre></li></ol></div><p>
					You can now reallocate the disk to another volume group or remove the disk from the system.
				</p></section></section><section class="section" id="proc_configuring-persistent-lvm-device-numbers-configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.6. Configuring persistent device numbers</h2></div></div></div><p>
				Major and minor device numbers are allocated dynamically at module load. Some applications work best if the block device is always activated with the same device (major and minor) number. You can specify these with the <code class="literal command">lvcreate</code> and the <code class="literal command">lvchange</code> commands by using the following arguments:
			</p><pre class="literallayout">--persistent y --major <span class="emphasis"><em>major</em></span> --minor <span class="emphasis"><em>minor</em></span></pre><p>
				Use a large minor number to be sure that it has not already been allocated to another device dynamically.
			</p><p>
				If you are exporting a file system using NFS, specifying the <code class="literal option">fsid</code> parameter in the exports file may avoid the need to set a persistent device number within LVM.
			</p></section><section class="section" id="proc_specifying-lvm-extent-size-configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.7. Specifying LVM extent size</h2></div></div></div><p>
				When physical volumes are used to create a volume group, its disk space is divided into 4MB extents, by default. This extent is the minimum amount by which the logical volume may be increased or decreased in size. Large numbers of extents will have no impact on I/O performance of the logical volume.
			</p><p>
				You can specify the extent size with the <code class="literal option">-s</code> option to the <code class="literal command">vgcreate</code> command if the default extent size is not suitable. You can put limits on the number of physical or logical volumes the volume group can have by using the <code class="literal option">-p</code> and <code class="literal option">-l</code> arguments of the <code class="literal command">vgcreate</code> command.
			</p></section><section class="section" id="managing-lvm-logical-volumes-using-rhel-system-roles_configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.8. Managing LVM logical volumes using RHEL System Roles</h2></div></div></div><p>
				This section describes how to apply the <code class="literal">storage</code> role to achieve the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create an LVM logical volume in a volume group consisting of multiple disks.
					</li><li class="listitem">
						Create an ext4 file system with a given label on the logical volume.
					</li><li class="listitem">
						Persistently mount the ext4 file system.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An Ansible playbook including the <code class="literal">storage</code> role exists.
					</li></ul></div><p>
				For information on how to apply such playbook, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/getting-started-with-system-administration_configuring-basic-system-settings#applying-a-role_what-rhel-system-roles-are">Applying a role</a>.
			</p><section class="section" id="an-example-playbook-to-manage-logical-volumes_managing-lvm-logical-volumes-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">3.8.1. An example Ansible playbook to manage logical volumes</h3></div></div></div><p>
					This section shows an example Ansible playbook applying the <code class="literal">storage</code> role to create a LVM logical volume called <code class="literal">mylv</code> in a volume group called <code class="literal">myvg</code>. The volume group consists of the following disks:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">/dev/sda</code>
						</li><li class="listitem">
							<code class="literal">/dev/sdb</code>
						</li><li class="listitem">
							<code class="literal">/dev/sdc</code>
						</li></ul></div><p>
					The playbook creates an ext4 file system with a given label on the logical volume, and persistently mounts the file system.
				</p><pre class="literallayout">- hosts: all
  vars:
    storage_pools:
      - name: myvg
        disks:
          - /dev/sda
          - /dev/sdb
          - /dev/sdc
        volumes:
          - name: mylv
            size: 2G
            fs_type: ext4
            mount_point: /mnt
  roles:
    - rhel-system-roles.storage</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If a volume group called <code class="literal">myvg</code> already exists, the logical volume is added to it.
					</p><p>
						If such volume group does not exist, it is created.
					</p></div></div></section><section class="section" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">3.8.2. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <code class="literal">storage</code> role, see <a class="xref" href="index.html#storage-role-intro_managing-local-storage-using-rhel-system-roles" title="2.1. Introduction to the storage role">Section 2.1, “Introduction to the storage role”</a>.
						</li></ul></div></section></section><section class="section" id="removing-lvm-logical-volumes_configuring-lvm-volumes"><div class="titlepage"><div><div><h2 class="title">3.9. Removing LVM logical volumes</h2></div></div></div><p>
				This procedure removes an existing logical volume using the command-line LVM interface.
			</p><p>
				The following commands remove the logical volume <code class="literal filename">/dev/<span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span></code> from the volume group <code class="literal"><span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span></code>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						If the logical volume is currently mounted, unmount the volume.
					</li><li class="listitem"><p class="simpara">
						If the logical volume exists in a clustered environment, deactivate the logical volume on all nodes where it is active. Use the following command on each such node:
					</p><pre class="screen">[root@node-n]# lvchange --activate n <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Remove the logical volume using the <code class="literal">lvremove</code> utility:
					</p><pre class="screen"># lvremove /dev/<span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>/<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span>
Do you really want to remove active logical volume "<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span>"? [y/n]: <span class="strong strong"><strong>y</strong></span>
  Logical volume "<span class="emphasis"><em><span class="replaceable replaceable">lv-name</span></em></span>" successfully removed</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							In this case, the logical volume has not been deactivated. If you explicitly deactivated the logical volume before removing it, you would not see the prompt verifying whether you want to remove an active logical volume.
						</p></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">lvremove(8)</code> man page
					</li></ul></div></section></section><section class="chapter" id="assembly_modifying-logical-volume-size-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Modifying the size of a logical volume</h1></div></div></div><p>
			After you have created a logical volume, you can modify the size of the volume.
		</p><section class="section" id="proc_growing-logical-volume-lvm-activation"><div class="titlepage"><div><div><h2 class="title">4.1. Growing logical volumes</h2></div></div></div><p>
				To increase the size of a logical volume, use the <code class="literal command">lvextend</code> command.
			</p><p>
				When you extend the logical volume, you can indicate how much you want to extend the volume, or how large you want it to be after you extend it.
			</p><p>
				The following command extends the logical volume <code class="literal">/dev/myvg/homevol</code> to 12 gigabytes.
			</p><pre class="literallayout"># <code class="literal">lvextend -L12G /dev/myvg/homevol</code>
lvextend -- extending logical volume "/dev/myvg/homevol" to 12 GB
lvextend -- doing automatic backup of volume group "myvg"
lvextend -- logical volume "/dev/myvg/homevol" successfully extended</pre><p>
				The following command adds another gigabyte to the logical volume <code class="literal">/dev/myvg/homevol</code>.
			</p><pre class="literallayout"># <code class="literal">lvextend -L+1G /dev/myvg/homevol</code>
lvextend -- extending logical volume "/dev/myvg/homevol" to 13 GB
lvextend -- doing automatic backup of volume group "myvg"
lvextend -- logical volume "/dev/myvg/homevol" successfully extended</pre><p>
				As with the <code class="literal command">lvcreate</code> command, you can use the <code class="literal option">-l</code> argument of the <code class="literal command">lvextend</code> command to specify the number of extents by which to increase the size of the logical volume. You can also use this argument to specify a percentage of the volume group, or a percentage of the remaining free space in the volume group. The following command extends the logical volume called <code class="literal">testlv</code> to fill all of the unallocated space in the volume group <code class="literal">myvg</code>.
			</p><pre class="literallayout"># <code class="literal">lvextend -l +100%FREE /dev/myvg/testlv</code>
  Extending logical volume testlv to 68.59 GB
  Logical volume testlv successfully resized</pre><p>
				After you have extended the logical volume it is necessary to increase the file system size to match.
			</p><p>
				By default, most file system resizing tools will increase the size of the file system to be the size of the underlying logical volume so you do not need to worry about specifying the same size for each of the two commands.
			</p></section><section class="section" id="proc_growing-filesystem-on-a-logical-volume-lvm-activation"><div class="titlepage"><div><div><h2 class="title">4.2. Growing a file system on a logical volume</h2></div></div></div><p>
				To grow a file system on a logical volume, perform the following steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Determine whether there is sufficient unallocated space in the existing volume group to extend the logical volume. If not, perform the following procedure:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Create a new physical volume with the <code class="literal command">pvcreate</code> command.
							</li><li class="listitem">
								Use the <code class="literal command">vgextend</code> command to extend the volume group that contains the logical volume with the file system you are growing to include the new physical volume.
							</li></ol></div></li><li class="listitem">
						Once the volume group is large enough to include the larger file system, extend the logical volume with the <code class="literal command">lvresize</code> command.
					</li><li class="listitem">
						Resize the file system on the logical volume.
					</li></ol></div><p>
				Note that you can use the <code class="literal">-r</code> option of the <code class="literal command">lvresize</code> command to extend the logical volume and resize the underlying file system with a single command
			</p></section><section class="section" id="proc_shrinking-logical-volume-lvm-activation"><div class="titlepage"><div><div><h2 class="title">4.3. Shrinking logical volumes</h2></div></div></div><p>
				You can reduce the size of a logical volume with the <code class="literal command">lvreduce</code> command.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Shrinking is not supported on a GFS2 or XFS file system, so you cannot reduce the size of a logical volume that contains a GFS2 or XFS file system.
				</p></div></div><p>
				If the logical volume you are reducing contains a file system, to prevent data loss you must ensure that the file system is not using the space in the logical volume that is being reduced. For this reason, it is recommended that you use the <code class="literal option">--resizefs</code> option of the <code class="literal command">lvreduce</code> command when the logical volume contains a file system. When you use this option, the <code class="literal command">lvreduce</code> command attempts to reduce the file system before shrinking the logical volume. If shrinking the file system fails, as can occur if the file system is full or the file system does not support shrinking, then the <code class="literal command">lvreduce</code> command will fail and not attempt to shrink the logical volume.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					In most cases, the <code class="literal command">lvreduce</code> command warns about possible data loss and asks for a confirmation. However, you should not rely on these confirmation prompts to prevent data loss because in some cases you will not see these prompts, such as when the logical volume is inactive or the <code class="literal option">--resizefs</code> option is not used.
				</p><p>
					Note that using the <code class="literal option">--test</code> option of the <code class="literal command">lvreduce</code> command does not indicate where the operation is safe, as this option does not check the file system or test the file system resize.
				</p></div></div><p>
				The following command shrinks the logical volume <code class="literal">lvol1</code> in volume group <code class="literal">vg00</code> to be 64 megabytes. In this example, <code class="literal">lvol1</code> contains a file system, which this command resizes together with the logical volume. This example shows the output to the command.
			</p><pre class="literallayout"># <code class="literal">lvreduce --resizefs -L 64M vg00/lvol1</code>
fsck from util-linux 2.23.2
/dev/mapper/vg00-lvol1: clean, 11/25688 files, 8896/102400 blocks
resize2fs 1.42.9 (28-Dec-2013)
Resizing the filesystem on /dev/mapper/vg00-lvol1 to 65536 (1k) blocks.
The filesystem on /dev/mapper/vg00-lvol1 is now 65536 blocks long.

  Size of logical volume vg00/lvol1 changed from 100.00 MiB (25 extents) to 64.00 MiB (16 extents).
  Logical volume vg00/lvol1 successfully resized.</pre><p>
				Specifying the - sign before the resize value indicates that the value will be subtracted from the logical volume’s actual size. The following example shows the command you would use if, instead of shrinking a logical volume to an absolute size of 64 megabytes, you wanted to shrink the volume by a value 64 megabytes.
			</p><pre class="literallayout"># <code class="literal">lvreduce --resizefs -L -64M vg00/lvol1</code></pre></section><section class="section" id="proc_extending-striped-volume-lvm-activation"><div class="titlepage"><div><div><h2 class="title">4.4. Extending a striped logical volume</h2></div></div></div><p>
				In order to increase the size of a striped logical volume, there must be enough free space on the underlying physical volumes that make up the volume group to support the stripe. For example, if you have a two-way stripe that that uses up an entire volume group, adding a single physical volume to the volume group will not enable you to extend the stripe. Instead, you must add at least two physical volumes to the volume group.
			</p><p>
				For example, consider a volume group <code class="literal">vg</code> that consists of two underlying physical volumes, as displayed with the following <code class="literal command">vgs</code> command.
			</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize   VFree
  vg     2   0   0 wz--n- 271.31G 271.31G</pre><p>
				You can create a stripe using the entire amount of space in the volume group.
			</p><pre class="literallayout"># <code class="literal">lvcreate -n stripe1 -L 271.31G -i 2 vg</code>
  Using default stripesize 64.00 KB
  Rounding up size to full physical extent 271.31 GB
  Logical volume "stripe1" created
# <code class="literal">lvs -a -o +devices</code>
  LV      VG   Attr   LSize   Origin Snap%  Move Log Copy%  Devices
  stripe1 vg   -wi-a- 271.31G                               /dev/sda1(0),/dev/sdb1(0)</pre><p>
				Note that the volume group now has no more free space.
			</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize   VFree
  vg     2   1   0 wz--n- 271.31G    0</pre><p>
				The following command adds another physical volume to the volume group, which then has 135 gigabytes of additional space.
			</p><pre class="literallayout"># <code class="literal">vgextend vg /dev/sdc1</code>
  Volume group "vg" successfully extended
# <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize   VFree
  vg     3   1   0 wz--n- 406.97G 135.66G</pre><p>
				At this point you cannot extend the striped logical volume to the full size of the volume group, because two underlying devices are needed in order to stripe the data.
			</p><pre class="literallayout"># <code class="literal">lvextend vg/stripe1 -L 406G</code>
  Using stripesize of last segment 64.00 KB
  Extending logical volume stripe1 to 406.00 GB
  Insufficient suitable allocatable extents for logical volume stripe1: 34480
more required</pre><p>
				To extend the striped logical volume, add another physical volume and then extend the logical volume. In this example, having added two physical volumes to the volume group we can extend the logical volume to the full size of the volume group.
			</p><pre class="literallayout"># <code class="literal">vgextend vg /dev/sdd1</code>
  Volume group "vg" successfully extended
# <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize   VFree
  vg     4   1   0 wz--n- 542.62G 271.31G
# <code class="literal">lvextend vg/stripe1 -L 542G</code>
  Using stripesize of last segment 64.00 KB
  Extending logical volume stripe1 to 542.00 GB
  Logical volume stripe1 successfully resized</pre><p>
				If you do not have enough underlying physical devices to extend the striped logical volume, it is possible to extend the volume anyway if it does not matter that the extension is not striped, which may result in uneven performance. When adding space to the logical volume, the default operation is to use the same striping parameters of the last segment of the existing logical volume, but you can override those parameters. The following example extends the existing striped logical volume to use the remaining free space after the initial <code class="literal command">lvextend</code> command fails.
			</p><pre class="literallayout"># <code class="literal">lvextend vg/stripe1 -L 406G</code>
  Using stripesize of last segment 64.00 KB
  Extending logical volume stripe1 to 406.00 GB
  Insufficient suitable allocatable extents for logical volume stripe1: 34480
more required
# <code class="literal">lvextend -i1 -l+100%FREE vg/stripe1</code></pre></section></section><section class="chapter" id="managing-lvm-volume-groups_configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Managing LVM volume groups</h1></div></div></div><p>
			This section describes the commands that perform the various aspects of volume group administration.
		</p><section class="section" id="con_lvm-volume-groups_managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.1. Volume groups</h2></div></div></div><p>
				Physical volumes are combined into volume groups (VGs). This creates a pool of disk space out of which logical volumes can be allocated.
			</p><p>
				Within a volume group, the disk space available for allocation is divided into units of a fixed-size called extents. An extent is the smallest unit of space that can be allocated. Within a physical volume, extents are referred to as physical extents.
			</p><p>
				A logical volume is allocated into logical extents of the same size as the physical extents. The extent size is thus the same for all logical volumes in the volume group. The volume group maps the logical extents to physical extents.
			</p></section><section class="section" id="proc_displaying-volume-groups-managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.2. Displaying volume groups</h2></div></div></div><p>
				There are two commands you can use to display properties of LVM volume groups: <code class="literal command">vgs</code> and <code class="literal command">vgdisplay</code>. The <code class="literal command">vgscan</code> command, which scans all supported LVM block devices in the system for volume groups, can also be used to display the existing volume groups.
			</p><p>
				The <code class="literal command">vgs</code> command provides volume group information in a configurable form, displaying one line per volume group. The <code class="literal command">vgs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal command">vgdisplay</code> command displays volume group properties (such as size, extents, number of physical volumes, and so on) in a fixed form. The following example shows the output of the <code class="literal command">vgdisplay</code> command for the volume group <code class="literal">new_vg</code>. If you do not specify a volume group, all existing volume groups are displayed.
			</p><pre class="literallayout"># <code class="literal">vgdisplay new_vg</code>
  --- Volume group ---
  VG Name               new_vg
  System ID
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  11
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               0
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               51.42 GB
  PE Size               4.00 MB
  Total PE              13164
  Alloc PE / Size       13 / 52.00 MB
  Free  PE / Size       13151 / 51.37 GB
  VG UUID               jxQJ0a-ZKk0-OpMO-0118-nlwO-wwqd-fD5D32</pre><p>
				The following example shows the output of the <code class="literal">vgscan</code> command.
			</p><pre class="literallayout"># <code class="literal">vgscan</code>
Reading all physical volumes.  This may take a while...
Found volume group "new_vg" using metadata type lvm2
Found volume group "officevg" using metadata type lvm2</pre></section><section class="section" id="proc_combining-volume-groups-managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.3. Combining volume groups</h2></div></div></div><p>
				To combine two volume groups into a single volume group, use the <code class="literal command">vgmerge</code> command. You can merge an inactive "source" volume with an active or an inactive "destination" volume if the physical extent sizes of the volume are equal and the physical and logical volume summaries of both volume groups fit into the destination volume groups limits.
			</p><p>
				The following command merges the inactive volume group <code class="literal">my_vg</code> into the active or inactive volume group <code class="literal">databases</code> giving verbose runtime information.
			</p><pre class="literallayout"># <code class="literal">vgmerge -v databases my_vg</code></pre></section><section class="section" id="proc_splitting-a-volume-group-managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.4. Splitting a volume group</h2></div></div></div><p>
				In this example procedure, an existing volume group consists of three physical volumes. If there is enough unused space on the physical volumes, a new volume group can be created without adding new disks.
			</p><p>
				In the initial set up, the logical volume <code class="literal">mylv</code> is carved from the volume group <code class="literal">myvg</code>, which in turn consists of the three physical volumes, <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
			</p><p>
				After completing this procedure, the volume group <code class="literal">myvg</code> will consist of <code class="literal">/dev/sda1</code> and <code class="literal">/dev/sdb1</code>. A second volume group, <code class="literal">yourvg</code>, will consist of <code class="literal">/dev/sdc1</code>.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal command">pvscan</code> command to determine how much free space is currently available in the volume group.
					</p><pre class="literallayout"># <code class="literal">pvscan</code>
  PV /dev/sda1  VG myvg   lvm2 [17.15 GB / 0    free]
  PV /dev/sdb1  VG myvg   lvm2 [17.15 GB / 12.15 GB free]
  PV /dev/sdc1  VG myvg   lvm2 [17.15 GB / 15.80 GB free]
  Total: 3 [51.45 GB] / in use: 3 [51.45 GB] / in no VG: 0 [0   ]</pre></li><li class="listitem"><p class="simpara">
						Move all the used physical extents in <code class="literal">/dev/sdc1</code> to <code class="literal">/dev/sdb1</code> with the <code class="literal command">pvmove</code> command. The <code class="literal command">pvmove</code> command can take a long time to execute.
					</p><p class="simpara">
						In a cluster, the <code class="literal">pvmove</code> command can move only logical volume that are active exclusively on a single node.
					</p><pre class="literallayout"># <code class="literal">pvmove /dev/sdc1 /dev/sdb1</code>
  /dev/sdc1: Moved: 14.7%
  /dev/sdc1: Moved: 30.3%
  /dev/sdc1: Moved: 45.7%
  /dev/sdc1: Moved: 61.0%
  /dev/sdc1: Moved: 76.6%
  /dev/sdc1: Moved: 92.2%
  /dev/sdc1: Moved: 100.0%</pre><p class="simpara">
						After moving the data, you can see that all of the space on <code class="literal">/dev/sdc1</code> is free.
					</p><pre class="literallayout"># <code class="literal">pvscan</code>
  PV /dev/sda1   VG myvg   lvm2 [17.15 GB / 0    free]
  PV /dev/sdb1   VG myvg   lvm2 [17.15 GB / 10.80 GB free]
  PV /dev/sdc1   VG myvg   lvm2 [17.15 GB / 17.15 GB free]
  Total: 3 [51.45 GB] / in use: 3 [51.45 GB] / in no VG: 0 [0   ]</pre></li><li class="listitem"><p class="simpara">
						To create the new volume group <code class="literal">yourvg</code>, use the <code class="literal command">vgsplit</code> command to split the volume group <code class="literal">myvg</code>.
					</p><p class="simpara">
						The following command splits the volume group <code class="literal">yourvg</code> from the volume group <code class="literal">myvg</code>, moving the physical volume <code class="literal">/dev/sdc1</code> into the new volume group <code class="literal">yourvg</code>.
					</p><pre class="literallayout"># <code class="literal">lvchange -a n /dev/myvg/mylv</code>
# <code class="literal">vgsplit myvg yourvg /dev/sdc1</code>
  Volume group "yourvg" successfully split from "myvg"</pre><p class="simpara">
						You can use the <code class="literal command">vgs</code> command to see the attributes of the two volume groups.
					</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG     #PV #LV #SN Attr   VSize  VFree
  myvg     2   1   0 wz--n- 34.30G 10.80G
  yourvg   1   0   0 wz--n- 17.15G 17.15G</pre></li><li class="listitem"><p class="simpara">
						After creating the new volume group, create the new logical volume <code class="literal">yourlv</code>.
					</p><pre class="literallayout"># <code class="literal">lvcreate -L 5G -n yourlv yourvg</code>
  Logical volume "yourlv" created</pre></li><li class="listitem"><p class="simpara">
						Create a file system on the new logical volume and mount it.
					</p><pre class="literallayout"># <code class="literal">mkfs.ext4 /dev/yourvg/yourlv</code>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 524288 4k blocks and 131072 inodes
Filesystem UUID: 616da032-8a48-4cd7-8705-bd94b7a1c8c4
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912

Allocating group tables: done
Writing inode tables: done
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done

# <code class="literal">mount /dev/yourvg/yourlv /mnt</code></pre></li></ol></div></section><section class="section" id="renaming-lvm-volume-groups_managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.5. Renaming LVM volume groups</h2></div></div></div><p>
				This procedure renames an existing volume group using the command-line LVM interface.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						If the volume group exists in a clustered environment, deactivate the volume group on all nodes where it is active. Use the following command on each such node:
					</p><pre class="screen">[root@node-n]# vgchange --activate n <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">vgrename</code> utility to rename an existing volume group:
					</p><pre class="screen"># vgrename <span class="emphasis"><em><span class="replaceable replaceable">original-vg-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">new-vg-name</span></em></span></pre><p class="simpara">
						Optionally, you can specify the full paths to the devices:
					</p><pre class="screen"># vgrename /dev/<span class="emphasis"><em><span class="replaceable replaceable">original-vg-name</span></em></span>  /dev/<span class="emphasis"><em><span class="replaceable replaceable">new-vg-name</span></em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vgrename(8)</code> man page
					</li></ul></div></section><section class="section" id="proc_moving-volume-group-to-another-system-managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.6. Moving a volume group to another system</h2></div></div></div><p>
				You can move an entire LVM volume group to another system. It is recommended that you use the <code class="literal command">vgexport</code> and <code class="literal command">vgimport</code> commands when you do this.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can use the <code class="literal option">--force</code> argument of the <code class="literal command">vgimport</code> command. This allows you to import volume groups that are missing physical volumes and subsequently run the <code class="literal command">vgreduce --removemissing</code> command.
				</p></div></div><p>
				The <code class="literal command">vgexport</code> command makes an inactive volume group inaccessible to the system, which allows you to detach its physical volumes. The <code class="literal command">vgimport</code> command makes a volume group accessible to a machine again after the <code class="literal command">vgexport</code> command has made it inactive.
			</p><p>
				To move a volume group from one system to another, perform the following steps:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Make sure that no users are accessing files on the active volumes in the volume group, then unmount the logical volumes.
					</li><li class="listitem">
						Use the <code class="literal option">-a n</code> argument of the <code class="literal command">vgchange</code> command to mark the volume group as inactive, which prevents any further activity on the volume group.
					</li><li class="listitem"><p class="simpara">
						Use the <code class="literal command">vgexport</code> command to export the volume group. This prevents it from being accessed by the system from which you are removing it.
					</p><p class="simpara">
						After you export the volume group, the physical volume will show up as being in an exported volume group when you execute the <code class="literal command">pvscan</code> command, as in the following example.
					</p><pre class="literallayout"># <code class="literal">pvscan</code>
  PV /dev/sda1    is in exported VG myvg [17.15 GB / 7.15 GB free]
  PV /dev/sdc1    is in exported VG myvg [17.15 GB / 15.15 GB free]
  PV /dev/sdd1   is in exported VG myvg [17.15 GB / 15.15 GB free]
  ...</pre><p class="simpara">
						When the system is next shut down, you can unplug the disks that constitute the volume group and connect them to the new system.
					</p></li><li class="listitem">
						When the disks are plugged into the new system, use the <code class="literal command">vgimport</code> command to import the volume group, making it accessible to the new system.
					</li><li class="listitem">
						Activate the volume group with the <code class="literal option">-a y</code> argument of the <code class="literal command">vgchange</code> command.
					</li><li class="listitem">
						Mount the file system to make it available for use.
					</li></ol></div></section><section class="section" id="proc_removing-physical-volume-from-volume-group-managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.7. Removing physical volumes from a volume group</h2></div></div></div><p>
				To remove unused physical volumes from a volume group, use the <code class="literal command">vgreduce</code> command. The <code class="literal command">vgreduce</code> command shrinks a volume group’s capacity by removing one or more empty physical volumes. This frees those physical volumes to be used in different volume groups or to be removed from the system.
			</p><p>
				Before removing a physical volume from a volume group, you can make sure that the physical volume is not used by any logical volumes by using the <code class="literal command">pvdisplay</code> command.
			</p><pre class="literallayout"># <code class="literal">pvdisplay /dev/hda1</code>

-- Physical volume ---
PV Name               /dev/hda1
VG Name               myvg
PV Size               1.95 GB / NOT usable 4 MB [LVM: 122 KB]
PV#                   1
PV Status             available
Allocatable           yes (but full)
Cur LV                1
PE Size (KByte)       4096
Total PE              499
Free PE               0
Allocated PE          499
PV UUID               Sd44tK-9IRw-SrMC-MOkn-76iP-iftz-OVSen7</pre><p>
				If the physical volume is still being used you will have to migrate the data to another physical volume using the <code class="literal command">pvmove</code> command. Then use the <code class="literal command">vgreduce</code> command to remove the physical volume.
			</p><p>
				The following command removes the physical volume <code class="literal">/dev/hda1</code> from the volume group <code class="literal">my_volume_group</code>.
			</p><pre class="literallayout"># <code class="literal">vgreduce my_volume_group /dev/hda1</code></pre><p>
				If a logical volume contains a physical volume that fails, you cannot use that logical volume. To remove missing physical volumes from a volume group, you can use the <code class="literal option">--removemissing</code> parameter of the <code class="literal command">vgreduce</code> command, if there are no logical volumes that are allocated on the missing physical volumes.
			</p><p>
				If the physical volume that fails contains a mirror image of a logical volume of a <code class="literal">mirror</code> segment type, you can remove that image from the mirror with the <code class="literal command">vgreduce --removemissing --mirrorsonly --force</code> command. This removes only the logical volumes that are mirror images from the physical volume.
			</p></section><section class="section" id="removing-lvm-volume-groups_managing-lvm-volume-groups"><div class="titlepage"><div><div><h2 class="title">5.8. Removing LVM volume groups</h2></div></div></div><p>
				This procedure removes an existing volume group using the command-line LVM interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The volume group contains no logical volumes. To remove logical volumes from a volume group, see <a class="xref" href="index.html#removing-lvm-logical-volumes_configuring-lvm-volumes" title="3.9. Removing LVM logical volumes">Section 3.9, “Removing LVM logical volumes”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						If the volume group exists in a clustered environment, stop the lockspace of the volume group on all other nodes. Use the following command on all nodes except the node where you are performing the removing:
					</p><pre class="screen">[root@node-n]# vgchange --lockstop <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span></pre><p class="simpara">
						Wait for the lock to stop.
					</p></li><li class="listitem"><p class="simpara">
						To remove the volume group, use the <code class="literal">vgremove</code> utility:
					</p><pre class="screen"># vgremove <span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>
  Volume group "<span class="emphasis"><em><span class="replaceable replaceable">vg-name</span></em></span>" successfully removed</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vgremove(8)</code> man page
					</li></ul></div></section><section class="section" id="additional_resources_2"><div class="titlepage"><div><div><h2 class="title">5.9. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vgchange(8)</code> man page
					</li></ul></div></section></section><section class="chapter" id="assembly_managing-physical-volumesconfiguring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Managing LVM physical volumes</h1></div></div></div><p>
			There are a variety of commands and procedures you can use to manage LVM physical volumes.
		</p><section class="section" id="proc_scanning-for-devices-to-use-as-physical-volumes-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.1. Scanning for block devices to use as physical volumes</h2></div></div></div><p>
				You can scan for block devices that may be used as physical volumes with the <code class="literal command">lvmdiskscan</code> command, as shown in the following example.
			</p><pre class="literallayout"># <code class="literal">lvmdiskscan</code>
  /dev/ram0                    [       16.00 MB]
  /dev/sda                     [       17.15 GB]
  /dev/root                    [       13.69 GB]
  /dev/ram                     [       16.00 MB]
  /dev/sda1                    [       17.14 GB] LVM physical volume
  /dev/VolGroup00/LogVol01     [      512.00 MB]
  /dev/ram2                    [       16.00 MB]
  /dev/new_vg/lvol0            [       52.00 MB]
  /dev/ram3                    [       16.00 MB]
  /dev/pkl_new_vg/sparkie_lv   [        7.14 GB]
  /dev/ram4                    [       16.00 MB]
  /dev/ram5                    [       16.00 MB]
  /dev/ram6                    [       16.00 MB]
  /dev/ram7                    [       16.00 MB]
  /dev/ram8                    [       16.00 MB]
  /dev/ram9                    [       16.00 MB]
  /dev/ram10                   [       16.00 MB]
  /dev/ram11                   [       16.00 MB]
  /dev/ram12                   [       16.00 MB]
  /dev/ram13                   [       16.00 MB]
  /dev/ram14                   [       16.00 MB]
  /dev/ram15                   [       16.00 MB]
  /dev/sdb                     [       17.15 GB]
  /dev/sdb1                    [       17.14 GB] LVM physical volume
  /dev/sdc                     [       17.15 GB]
  /dev/sdc1                    [       17.14 GB] LVM physical volume
  /dev/sdd                     [       17.15 GB]
  /dev/sdd1                    [       17.14 GB] LVM physical volume
  7 disks
  17 partitions
  0 LVM physical volume whole disks
  4 LVM physical volumes</pre></section><section class="section" id="proc_setting-partition-type-for-physical-volume-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.2. Setting the partition type for a physical volume</h2></div></div></div><p>
				If you are using a whole disk device for your physical volume, the disk must have no partition table. For DOS disk partitions, the partition id should be set to 0x8e using the <code class="literal command">fdisk</code> or <code class="literal command">cfdisk</code> command or an equivalent. For whole disk devices only the partition table must be erased, which will effectively destroy all data on that disk. You can remove an existing partition table by zeroing the first sector with the following command:
			</p><pre class="literallayout"># <code class="literal">dd if=/dev/zero of=PhysicalVolume bs=512 count=1</code></pre></section><section class="section" id="proc_resizing-physical-volume-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.3. Resizing an LVM physical volume</h2></div></div></div><p>
				If you need to change the size of an underlying block device for any reason, use the <code class="literal command">pvresize</code> command to update LVM with the new size. You can execute this command while LVM is using the physical volume.
			</p></section><section class="section" id="proc_removing-physical-volumes-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.4. Removing physical volumes</h2></div></div></div><p>
				If a device is no longer required for use by LVM, you can remove the LVM label with the <code class="literal command">pvremove</code> command. Executing the <code class="literal command">pvremove</code> command zeroes the LVM metadata on an empty physical volume.
			</p><p>
				If the physical volume you want to remove is currently part of a volume group, you must remove it from the volume group with the <code class="literal command">vgreduce</code> command.
			</p><pre class="literallayout"># <code class="literal">pvremove /dev/ram15</code>
  Labels on physical volume "/dev/ram15" successfully wiped</pre></section><section class="section" id="proc_adding-physical-volumes-to-volume-group-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.5. Adding physical volumes to a volume group</h2></div></div></div><p>
				To add additional physical volumes to an existing volume group, use the <code class="literal command">vgextend</code> command. The <code class="literal command">vgextend</code> command increases a volume group’s capacity by adding one or more free physical volumes.
			</p><p>
				The following command adds the physical volume <code class="literal">/dev/sdf1</code> to the volume group <code class="literal">vg1</code>.
			</p><pre class="literallayout"># <code class="literal">vgextend vg1 /dev/sdf1</code></pre></section><section class="section" id="proc_removing-physical-volume-from-volume-group-managing-physical-volumes"><div class="titlepage"><div><div><h2 class="title">6.6. Removing physical volumes from a volume group</h2></div></div></div><p>
				To remove unused physical volumes from a volume group, use the <code class="literal command">vgreduce</code> command. The <code class="literal command">vgreduce</code> command shrinks a volume group’s capacity by removing one or more empty physical volumes. This frees those physical volumes to be used in different volume groups or to be removed from the system.
			</p><p>
				Before removing a physical volume from a volume group, you can make sure that the physical volume is not used by any logical volumes by using the <code class="literal command">pvdisplay</code> command.
			</p><pre class="literallayout"># <code class="literal">pvdisplay /dev/hda1</code>

-- Physical volume ---
PV Name               /dev/hda1
VG Name               myvg
PV Size               1.95 GB / NOT usable 4 MB [LVM: 122 KB]
PV#                   1
PV Status             available
Allocatable           yes (but full)
Cur LV                1
PE Size (KByte)       4096
Total PE              499
Free PE               0
Allocated PE          499
PV UUID               Sd44tK-9IRw-SrMC-MOkn-76iP-iftz-OVSen7</pre><p>
				If the physical volume is still being used you will have to migrate the data to another physical volume using the <code class="literal command">pvmove</code> command. Then use the <code class="literal command">vgreduce</code> command to remove the physical volume.
			</p><p>
				The following command removes the physical volume <code class="literal">/dev/hda1</code> from the volume group <code class="literal">my_volume_group</code>.
			</p><pre class="literallayout"># <code class="literal">vgreduce my_volume_group /dev/hda1</code></pre><p>
				If a logical volume contains a physical volume that fails, you cannot use that logical volume. To remove missing physical volumes from a volume group, you can use the <code class="literal option">--removemissing</code> parameter of the <code class="literal command">vgreduce</code> command, if there are no logical volumes that are allocated on the missing physical volumes.
			</p><p>
				If the physical volume that fails contains a mirror image of a logical volume of a <code class="literal">mirror</code> segment type, you can remove that image from the mirror with the <code class="literal command">vgreduce --removemissing --mirrorsonly --force</code> command. This removes only the logical volumes that are mirror images from the physical volume.
			</p></section></section><section class="chapter" id="assembly_displaying-lvm-components-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Displaying LVM components</h1></div></div></div><p>
			LVM provides a variety of ways to display the LVM components, as well as to customize the display. This sections summarizes the usage of the basic LVM display commands.
		</p><section class="section" id="proc_displaying-with-the-lvm-comand-displaying-lvm-components"><div class="titlepage"><div><div><h2 class="title">7.1. Displaying LVM Information with the lvm Command</h2></div></div></div><p>
				The <code class="literal command">lvm</code> command provides several built-in options that you can use to display information about LVM support and configuration.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal command">lvm devtypes</code>
					</p><p class="simpara">
						Displays the recognized built-in block device types
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal command">lvm formats</code>
					</p><p class="simpara">
						Displays recognized metadata formats.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal command">lvm help</code>
					</p><p class="simpara">
						Displays LVM help text.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal command">lvm segtypes</code>
					</p><p class="simpara">
						Displays recognized logical volume segment types.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal command">lvm tags</code>
					</p><p class="simpara">
						Displays any tags defined on this host.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal command">lvm version</code>
					</p><p class="simpara">
						Displays the current version information.
					</p></li></ul></div></section><section class="section" id="proc_displaying-physical-volumes-displaying-lvm-components"><div class="titlepage"><div><div><h2 class="title">7.2. Displaying physical volumes</h2></div></div></div><p>
				There are three commands you can use to display properties of LVM physical volumes: <code class="literal command">pvs</code>, <code class="literal command">pvdisplay</code>, and <code class="literal command">pvscan</code>.
			</p><p>
				The <code class="literal command">pvs</code> command provides physical volume information in a configurable form, displaying one line per physical volume. The <code class="literal command">pvs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal command">pvdisplay</code> command provides a verbose multi-line output for each physical volume. It displays physical properties (size, extents, volume group, and so on) in a fixed format.
			</p><p>
				The following example shows the output of the <code class="literal command">pvdisplay</code> command for a single physical volume.
			</p><pre class="literallayout"># <code class="literal">pvdisplay</code>
  --- Physical volume ---
  PV Name               /dev/sdc1
  VG Name               new_vg
  PV Size               17.14 GB / not usable 3.40 MB
  Allocatable           yes
  PE Size (KByte)       4096
  Total PE              4388
  Free PE               4375
  Allocated PE          13
  PV UUID               Joqlch-yWSj-kuEn-IdwM-01S9-XO8M-mcpsVe</pre><p>
				The <code class="literal command">pvscan</code> command scans all supported LVM block devices in the system for physical volumes.
			</p><p>
				The following command shows all physical devices found:
			</p><pre class="literallayout"># <code class="literal">pvscan</code>
 PV /dev/sdb2   VG vg0   lvm2 [964.00 MB / 0   free]
 PV /dev/sdc1   VG vg0   lvm2 [964.00 MB / 428.00 MB free]
 PV /dev/sdc2            lvm2 [964.84 MB]
 Total: 3 [2.83 GB] / in use: 2 [1.88 GB] / in no VG: 1 [964.84 MB]</pre><p>
				You can define a filter in the <code class="literal">lvm.conf</code> file so that this command will avoid scanning specific physical volumes.
			</p></section><section class="section" id="proc_displaying-volume-groups-displaying-lvm-components"><div class="titlepage"><div><div><h2 class="title">7.3. Displaying volume groups</h2></div></div></div><p>
				There are two commands you can use to display properties of LVM volume groups: <code class="literal command">vgs</code> and <code class="literal command">vgdisplay</code>. The <code class="literal command">vgscan</code> command, which scans all supported LVM block devices in the system for volume groups, can also be used to display the existing volume groups.
			</p><p>
				The <code class="literal command">vgs</code> command provides volume group information in a configurable form, displaying one line per volume group. The <code class="literal command">vgs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal command">vgdisplay</code> command displays volume group properties (such as size, extents, number of physical volumes, and so on) in a fixed form. The following example shows the output of the <code class="literal command">vgdisplay</code> command for the volume group <code class="literal">new_vg</code>. If you do not specify a volume group, all existing volume groups are displayed.
			</p><pre class="literallayout"># <code class="literal">vgdisplay new_vg</code>
  --- Volume group ---
  VG Name               new_vg
  System ID
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  11
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               0
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               51.42 GB
  PE Size               4.00 MB
  Total PE              13164
  Alloc PE / Size       13 / 52.00 MB
  Free  PE / Size       13151 / 51.37 GB
  VG UUID               jxQJ0a-ZKk0-OpMO-0118-nlwO-wwqd-fD5D32</pre><p>
				The following example shows the output of the <code class="literal">vgscan</code> command.
			</p><pre class="literallayout"># <code class="literal">vgscan</code>
Reading all physical volumes.  This may take a while...
Found volume group "new_vg" using metadata type lvm2
Found volume group "officevg" using metadata type lvm2</pre></section><section class="section" id="proc_displaying-logical-volumes-displaying-lvm-components"><div class="titlepage"><div><div><h2 class="title">7.4. Displaying logical volumes</h2></div></div></div><p>
				There are three commands you can use to display properties of LVM logical volumes: <code class="literal command">lvs</code>, <code class="literal command">lvdisplay</code>, and <code class="literal command">lvscan</code>.
			</p><p>
				The <code class="literal command">lvs</code> command provides logical volume information in a configurable form, displaying one line per logical volume. The <code class="literal command">lvs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal command">lvdisplay</code> command displays logical volume properties (such as size, layout, and mapping) in a fixed format.
			</p><p>
				The following command shows the attributes of <code class="literal">lvol2</code> in <code class="literal">vg00</code>. If snapshot logical volumes have been created for this original logical volume, this command shows a list of all snapshot logical volumes and their status (active or inactive) as well.
			</p><pre class="literallayout"># <code class="literal">lvdisplay -v /dev/vg00/lvol2</code></pre><p>
				The <code class="literal command">lvscan</code> command scans for all logical volumes in the system and lists them, as in the following example.
			</p><pre class="literallayout"># <code class="literal">lvscan</code>
 ACTIVE                   '/dev/vg0/gfslv' [1.46 GB] inherit</pre></section></section><section class="chapter" id="assembly_customizing-lvm-display-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Customized reporting for LVM</h1></div></div></div><p>
			LVM provides a wide range of configuration and command line options to produce customized reports and to filter the report’s output. For a full description of LVM reporting features and capabilities, see the <code class="literal command">lvmreport</code>(7) man page.
		</p><p>
			You can produce concise and customizable reports of LVM objects with the <code class="literal command">pvs</code>, <code class="literal command">lvs</code>, and <code class="literal command">vgs</code> commands. The reports that these commands generate include one line of output for each object. Each line contains an ordered list of fields of properties related to the object. There are five ways to select the objects to be reported: by physical volume, volume group, logical volume, physical volume segment, and logical volume segment.
		</p><p>
			You can report information about physical volumes, volume groups, logical volumes, physical volume segments, and logical volume segments all at once with the <code class="literal command">lvm fullreport</code> command. For information on this command and its capabilities, see the <code class="literal command">lvm-fullreport</code>(8) man page.
		</p><p>
			LVM supports log reports, which contain a log of operations, messages, and per-object status with complete object identification collected during LVM command execution. For further information about the LVM log report. see the <code class="literal command">lvmreport</code>(7) man page.
		</p><section class="section" id="proc_controlling-format-of-lvm-display-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.1. Controlling the format of the LVM display</h2></div></div></div><p>
				Whether you use the <code class="literal command">pvs</code>, <code class="literal command">lvs</code>, or <code class="literal command">vgs</code> command determines the default set of fields displayed and the sort order. You can control the output of these commands with the following arguments:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You can change what fields are displayed to something other than the default by using the <code class="literal option">-o</code> argument. For example, the following command displays only the physical volume name and size.
					</p><pre class="literallayout"># <code class="literal">pvs -o pv_name,pv_size</code>
PV PSize
/dev/sdb1 17.14G
/dev/sdc1 17.14G
/dev/sdd1 17.14G</pre></li><li class="listitem"><p class="simpara">
						You can append a field to the output with the plus sign (+), which is used in combination with the -o argument.
					</p><p class="simpara">
						The following example displays the UUID of the physical volume in addition to the default fields.
					</p><pre class="literallayout"># <code class="literal">pvs -o +pv_uuid</code>
PV VG Fmt Attr PSize PFree PV UUID
/dev/sdb1 new_vg lvm2 a- 17.14G 17.14G onFF2w-1fLC-ughJ-D9eB-M7iv-6XqA-dqGeXY
/dev/sdc1 new_vg lvm2 a- 17.14G 17.09G Joqlch-yWSj-kuEn-IdwM-01S9-X08M-mcpsVe
/dev/sdd1 new_vg lvm2 a- 17.14G 17.14G yvfvZK-Cf31-j75k-dECm-0RZ3-0dGW-UqkCS</pre></li><li class="listitem"><p class="simpara">
						Adding the <code class="literal option">-v</code> argument to a command includes some extra fields. For example, the <code class="literal command">pvs -v</code> command will display the <code class="literal">DevSize</code> and <code class="literal">PV UUID</code> fields in addition to the default fields.
					</p><pre class="literallayout"># <code class="literal">pvs -v</code>
Scanning for physical volume names
PV VG Fmt Attr PSize PFree DevSize PV UUID
/dev/sdb1 new_vg lvm2 a- 17.14G 17.14G 17.14G onFF2w-1fLC-ughJ-D9eB-M7iv-6XqA-dqGeXY
/dev/sdc1 new_vg lvm2 a- 17.14G 17.09G 17.14G Joqlch-yWSj-kuEn-IdwM-01S9-XO8M-mcpsVe
/dev/sdd1 new_vg lvm2 a- 17.14G 17.14G 17.14G yvfvZK-Cf31-j75k-dECm-0RZ3-0dGW-tUqkCS</pre></li><li class="listitem"><p class="simpara">
						The <code class="literal option">--noheadings</code> argument suppresses the headings line. This can be useful for writing scripts.
					</p><p class="simpara">
						The following example uses the <code class="literal option">--noheadings</code> argument in combination with the <code class="literal option">pv_name</code> argument, which will generate a list of all physical volumes.
					</p><pre class="literallayout"># <code class="literal">pvs --noheadings -o pv_name</code>
/dev/sdb1
/dev/sdc1
/dev/sdd1</pre></li><li class="listitem"><p class="simpara">
						The <code class="literal option">--separator <span class="emphasis"><em>separator</em></span></code> argument uses <span class="emphasis"><em>separator</em></span> to separate each field.
					</p><p class="simpara">
						The following example separates the default output fields of the <code class="literal command">pvs</code> command with an equals sign (=).
					</p><pre class="literallayout"># <code class="literal">pvs --separator =</code>
PV=VG=Fmt=Attr=PSize=PFree
/dev/sdb1=new_vg=lvm2=a-=17.14G=17.14G
/dev/sdc1=new_vg=lvm2=a-=17.14G=17.09G
/dev/sdd1=new_vg=lvm2=a-=17.14G=17.14G</pre><p class="simpara">
						To keep the fields aligned when using the <code class="literal option">separator</code> argument, use the <code class="literal option">separator</code> argument in conjunction with the <code class="literal option">--aligned</code> argument.
					</p><pre class="literallayout"># <code class="literal">pvs --separator = --aligned</code>
PV =VG =Fmt =Attr=PSize =PFree
/dev/sdb1 =new_vg=lvm2=a- =17.14G=17.14G
/dev/sdc1 =new_vg=lvm2=a- =17.14G=17.09G
/dev/sdd1 =new_vg=lvm2=a- =17.14G=17.14G</pre></li></ul></div><p>
				You can use the <code class="literal option">-P</code> argument of the <code class="literal command">lvs</code> or <code class="literal command">vgs</code> command to display information about a failed volume that would otherwise not appear in the output.
			</p><p>
				For a full listing of display arguments, see the <code class="literal command">pvs</code>(8), <code class="literal command">vgs</code>(8) and <code class="literal command">lvs</code>(8) man pages.
			</p><p>
				Volume group fields can be mixed with either physical volume (and physical volume segment) fields or with logical volume (and logical volume segment) fields, but physical volume and logical volume fields cannot be mixed. For example, the following command will display one line of output for each physical volume.
			</p><pre class="literallayout"># <code class="literal">vgs -o +pv_name</code>
  VG     #PV #LV #SN Attr   VSize  VFree  PV
  new_vg   3   1   0 wz--n- 51.42G 51.37G /dev/sdc1
  new_vg   3   1   0 wz--n- 51.42G 51.37G /dev/sdd1
  new_vg   3   1   0 wz--n- 51.42G 51.37G /dev/sdb1</pre></section><section class="section" id="ref_lvm-object-display-fields-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.2. LVM object display fields</h2></div></div></div><p>
				This section provides a series of tables that list the information you can display about the LVM objects with the <code class="literal command">pvs</code>, <code class="literal command">vgs</code>, and <code class="literal command">lvs</code> commands.
			</p><p>
				For convenience, a field name prefix can be dropped if it matches the default for the command. For example, with the <code class="literal command">pvs</code> command, <code class="literal">name</code> means <code class="literal">pv_name</code>, but with the <code class="literal command">vgs</code> command, <code class="literal">name</code> is interpreted as <code class="literal">vg_name</code>.
			</p><p>
				Executing the following command is the equivalent of executing <code class="literal command">pvs -o pv_free</code>.
			</p><pre class="literallayout"># <code class="literal">pvs -o free</code>
  PFree
  17.14G
  17.09G
  17.14G</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The number of characters in the attribute fields in <code class="literal command">pvs</code>, <code class="literal command">vgs</code>, and <code class="literal command">lvs</code> output may increase in later releases. The existing character fields will not change position, but new fields may be added to the end. You should take this into account when writing scripts that search for particular attribute characters, searching for the character based on its relative position to the beginning of the field, but not for its relative position to the end of the field. For example, to search for the character <code class="literal">p</code> in the ninth bit of the <code class="literal">lv_attr</code> field, you could search for the string "^/…​…​..p/", but you should not search for the string "/*p$/".
				</p></div></div><p>
				<a class="xref" href="index.html#tb-table-pvs-fields" title="Table 8.1. The pvs Command Display Fields">Table 8.1, “The pvs Command Display Fields”</a> lists the display arguments of the <code class="literal command">pvs</code> command, along with the field name as it appears in the header display and a description of the field.
			</p><div class="table" id="tb-table-pvs-fields"><p class="title"><strong>Table 8.1. The pvs Command Display Fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 29%; " class="col_1"><!--Empty--></col><col style="width: 14%; " class="col_2"><!--Empty--></col><col style="width: 57%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285081211728" scope="col">Argument</th><th align="left" valign="top" id="idm140285081210640" scope="col">Header</th><th align="left" valign="top" id="idm140285081209552" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">dev_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								DevSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The size of the underlying device on which the physical volume was created
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pe_start</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								1st PE
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								Offset to the start of the first physical extent in the underlying device
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_attr</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								Attr
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								Status of the physical volume: (a)llocatable or e(x)ported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_fmt</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								Fmt
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The metadata format of the physical volume (<code class="literal">lvm2</code> or <code class="literal">lvm1</code>)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_free</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PFree
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The free space remaining on the physical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_name</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PV
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The physical volume name
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_pe_alloc_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								Alloc
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								Number of used physical extents
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_pe_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PE
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								Number of physical extents
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pvseg_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								SSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The segment size of the physical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pvseg_start</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								Start
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The starting physical extent of the physical volume segment
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The size of the physical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_tags</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PV Tags
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								LVM tags attached to the physical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_used</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								Used
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The amount of space currently used on the physical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285081211728"> <p>
								<code class="literal option">pv_uuid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285081210640"> <p>
								PV UUID
							</p>
							 </td><td align="left" valign="top" headers="idm140285081209552"> <p>
								The UUID of the physical volume
							</p>
							 </td></tr></tbody></table></div></div><p>
				The <code class="literal command">pvs</code> command displays the following fields by default: <code class="literal option">pv_name</code>, <code class="literal option">vg_name</code>, <code class="literal option">pv_fmt</code>, <code class="literal option">pv_attr</code>, <code class="literal option">pv_size</code>, <code class="literal option">pv_free</code>. The display is sorted by <code class="literal option">pv_name</code>.
			</p><pre class="literallayout"># <code class="literal">pvs</code>
  PV         VG     Fmt  Attr PSize  PFree
  /dev/sdb1  new_vg lvm2 a-   17.14G 17.14G
  /dev/sdc1  new_vg lvm2 a-   17.14G 17.09G
  /dev/sdd1  new_vg lvm2 a-   17.14G 17.13G</pre><p>
				Using the <code class="literal option">-v</code> argument with the <code class="literal command">pvs</code> command adds the following fields to the default display: <code class="literal option">dev_size</code>, <code class="literal option">pv_uuid</code>.
			</p><pre class="literallayout"># <code class="literal">pvs -v</code>
    Scanning for physical volume names
  PV         VG     Fmt  Attr PSize  PFree  DevSize PV UUID
  /dev/sdb1  new_vg lvm2 a-   17.14G 17.14G  17.14G onFF2w-1fLC-ughJ-D9eB-M7iv-6XqA-dqGeXY
  /dev/sdc1  new_vg lvm2 a-   17.14G 17.09G  17.14G Joqlch-yWSj-kuEn-IdwM-01S9-XO8M-mcpsVe
  /dev/sdd1  new_vg lvm2 a-   17.14G 17.13G  17.14G yvfvZK-Cf31-j75k-dECm-0RZ3-0dGW-tUqkCS</pre><p>
				You can use the <code class="literal option">--segments</code> argument of the <code class="literal command">pvs</code> command to display information about each physical volume segment. A segment is a group of extents. A segment view can be useful if you want to see whether your logical volume is fragmented.
			</p><p>
				The <code class="literal command">pvs --segments</code> command displays the following fields by default: <code class="literal option">pv_name</code>, <code class="literal option">vg_name</code>, <code class="literal option">pv_fmt</code>, <code class="literal option">pv_attr</code>, <code class="literal option">pv_size</code>, <code class="literal option">pv_free</code>, <code class="literal option">pvseg_start</code>, <code class="literal option">pvseg_size</code>. The display is sorted by <code class="literal option">pv_name</code> and <code class="literal option">pvseg_size</code> within the physical volume.
			</p><pre class="literallayout"># <code class="literal">pvs --segments</code>
  PV         VG         Fmt  Attr PSize  PFree  Start SSize
  /dev/hda2  VolGroup00 lvm2 a-   37.16G 32.00M     0  1172
  /dev/hda2  VolGroup00 lvm2 a-   37.16G 32.00M  1172    16
  /dev/hda2  VolGroup00 lvm2 a-   37.16G 32.00M  1188     1
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G     0    26
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G    26    24
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G    50    26
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G    76    24
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G   100    26
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G   126    24
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G   150    22
  /dev/sda1  vg         lvm2 a-   17.14G 16.75G   172  4217
  /dev/sdb1  vg         lvm2 a-   17.14G 17.14G     0  4389
  /dev/sdc1  vg         lvm2 a-   17.14G 17.14G     0  4389
  /dev/sdd1  vg         lvm2 a-   17.14G 17.14G     0  4389
  /dev/sde1  vg         lvm2 a-   17.14G 17.14G     0  4389
  /dev/sdf1  vg         lvm2 a-   17.14G 17.14G     0  4389
  /dev/sdg1  vg         lvm2 a-   17.14G 17.14G     0  4389</pre><p>
				You can use the <code class="literal command">pvs -a</code> command to see devices detected by LVM that have not been initialized as LVM physical volumes.
			</p><pre class="literallayout"># <code class="literal">pvs -a</code>
  PV                             VG     Fmt  Attr PSize  PFree
  /dev/VolGroup00/LogVol01                   --       0      0
  /dev/new_vg/lvol0                          --       0      0
  /dev/ram                                   --       0      0
  /dev/ram0                                  --       0      0
  /dev/ram2                                  --       0      0
  /dev/ram3                                  --       0      0
  /dev/ram4                                  --       0      0
  /dev/ram5                                  --       0      0
  /dev/ram6                                  --       0      0
  /dev/root                                  --       0      0
  /dev/sda                                   --       0      0
  /dev/sdb                                   --       0      0
  /dev/sdb1                      new_vg lvm2 a-   17.14G 17.14G
  /dev/sdc                                   --       0      0
  /dev/sdc1                      new_vg lvm2 a-   17.14G 17.09G
  /dev/sdd                                   --       0      0
  /dev/sdd1                      new_vg lvm2 a-   17.14G 17.14G</pre><p>
				<a class="xref" href="index.html#tb-table-vgs-fields" title="Table 8.2. vgs Display Fields">Table 8.2, “vgs Display Fields”</a> lists the display arguments of the <code class="literal command">vgs</code> command, along with the field name as it appears in the header display and a description of the field.
			</p><div class="table" id="tb-table-vgs-fields"><p class="title"><strong>Table 8.2. vgs Display Fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 29%; " class="col_1"><!--Empty--></col><col style="width: 14%; " class="col_2"><!--Empty--></col><col style="width: 57%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285073767872" scope="col">Argument</th><th align="left" valign="top" id="idm140285073766784" scope="col">Header</th><th align="left" valign="top" id="idm140285077026672" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">lv_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								#LV
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The number of logical volumes the volume group contains
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">max_lv</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								MaxLV
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The maximum number of logical volumes allowed in the volume group (0 if unlimited)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">max_pv</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								MaxPV
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The maximum number of physical volumes allowed in the volume group (0 if unlimited)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">pv_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								#PV
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The number of physical volumes that define the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">snap_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								#SN
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The number of snapshots the volume group contains
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_attr</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								Attr
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								Status of the volume group: (w)riteable, (r)eadonly, resi(z)eable, e(x)ported, (p)artial and (c)lustered.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_extent_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								#Ext
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The number of physical extents in the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_extent_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								Ext
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The size of the physical extents in the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_fmt</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								Fmt
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The metadata format of the volume group (<code class="literal">lvm2</code> or <code class="literal">lvm1</code>)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_free</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								VFree
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								Size of the free space remaining in the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_free_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								Free
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								Number of free physical extents in the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_name</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								VG
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The volume group name
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_seqno</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								Seq
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								Number representing the revision of the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								VSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The size of the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_sysid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								SYS ID
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								LVM1 System ID
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_tags</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								VG Tags
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								LVM tags attached to the volume group
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073767872"> <p>
								<code class="literal option">vg_uuid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073766784"> <p>
								VG UUID
							</p>
							 </td><td align="left" valign="top" headers="idm140285077026672"> <p>
								The UUID of the volume group
							</p>
							 </td></tr></tbody></table></div></div><p>
				The <code class="literal command">vgs</code> command displays the following fields by default: <code class="literal option">vg_name</code>, <code class="literal option">pv_count</code>, <code class="literal option">lv_count</code>, <code class="literal option">snap_count</code>, <code class="literal option">vg_attr</code>, <code class="literal option">vg_size</code>, <code class="literal option">vg_free</code>. The display is sorted by <code class="literal option">vg_name</code>.
			</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG     #PV #LV #SN Attr   VSize  VFree
  new_vg   3   1   1 wz--n- 51.42G 51.36G</pre><p>
				Using the <code class="literal option">-v</code> argument with the <code class="literal command">vgs</code> command adds the following fields to the default display: <code class="literal option">vg_extent_size</code>, <code class="literal option">vg_uuid</code>.
			</p><pre class="literallayout"># <code class="literal">vgs -v</code>
    Finding all volume groups
    Finding volume group "new_vg"
  VG     Attr   Ext   #PV #LV #SN VSize  VFree  VG UUID
  new_vg wz--n- 4.00M   3   1   1 51.42G 51.36G jxQJ0a-ZKk0-OpMO-0118-nlwO-wwqd-fD5D32</pre><p>
				<a class="xref" href="index.html#tb-table-lvs-fields" title="Table 8.3. lvs Display Fields">Table 8.3, “lvs Display Fields”</a> lists the display arguments of the <code class="literal command">lvs</code> command, along with the field name as it appears in the header display and a description of the field.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In later releases of Red Hat Enterprise Linux, the output of the <code class="literal command">lvs</code> command may differ, with additional fields in the output. The order of the fields, however, will remain the same and any additional fields will appear at the end of the display.
				</p></div></div><div class="table" id="tb-table-lvs-fields"><p class="title"><strong>Table 8.3. lvs Display Fields</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 29%; " class="col_1"><!--Empty--></col><col style="width: 14%; " class="col_2"><!--Empty--></col><col style="width: 57%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285076814224" scope="col">Argument</th><th align="left" valign="top" id="idm140285076813136" scope="col">Header</th><th align="left" valign="top" id="idm140285076812048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								* <code class="literal option">chunksize</code>
							</p>
							 <p>
								* <code class="literal option">chunk_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Chunk
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Unit size in a snapshot volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">copy_percent</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Copy%
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The synchronization percentage of a mirrored logical volume; also used when physical extents are being moved with the <code class="literal command">pv_move</code> command
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">devices</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Devices
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The underlying devices that make up the logical volume: the physical volumes, logical volumes, and start physical extents and logical extents
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_ancestors</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Ancestors
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								For thin pool snapshots, the ancestors of the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_descendants</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Descendants
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								For thin pool snapshots, the descendants of the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_attr</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Attr
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The status of the logical volume. The logical volume attribute bits are as follows:
							</p>
							 <p>
								* Bit 1: Volume type: (m)irrored, (M)irrored without initial sync, (o)rigin, (O)rigin with merging snapshot, (r)aid, ®aid without initial sync, (s)napshot, merging (S)napshot, (p)vmove, (v)irtual, mirror or raid (i)mage, mirror or raid (I)mage out-of-sync, mirror (l)og device, under (c)onversion, thin (V)olume, (t)hin pool, (T)hin pool data, raid or thin pool m(e)tadata or pool metadata spare,
							</p>
							 <p>
								* Bit 2: Permissions: (w)riteable, (r)ead-only, ®ead-only activation of non-read-only volume
							</p>
							 <p>
								* Bit 3: Allocation policy: (a)nywhere, (c)ontiguous, (i)nherited, c(l)ing, (n)ormal. This is capitalized if the volume is currently locked against allocation changes, for example while executing the <code class="literal command">pvmove</code> command.
							</p>
							 <p>
								* Bit 4: fixed (m)inor
							</p>
							 <p>
								* Bit 5: State: (a)ctive, (s)uspended, (I)nvalid snapshot, invalid (S)uspended snapshot, snapshot (m)erge failed, suspended snapshot (M)erge failed, mapped (d)evice present without tables, mapped device present with (i)nactive table
							</p>
							 <p>
								* Bit 6: device (o)pen
							</p>
							 <p>
								* Bit 7: Target type: (m)irror, (r)aid, (s)napshot, (t)hin, (u)nknown, (v)irtual. This groups logical volumes related to the same kernel target together. So, for example, mirror images, mirror logs as well as mirrors themselves appear as (m) if they use the original device-mapper mirror kernel driver, whereas the raid equivalents using the md raid kernel driver all appear as (r). Snapshots using the original device-mapper driver appear as (s), whereas snapshots of thin volumes using the thin provisioning driver appear as (t).
							</p>
							 <p>
								* Bit 8: Newly-allocated data blocks are overwritten with blocks of (z)eroes before use.
							</p>
							 <p>
								* Bit 9: Volume Health: (p)artial, (r)efresh needed, (m)ismatches exist, (w)ritemostly. (p)artial signifies that one or more of the Physical Volumes this Logical Volume uses is missing from the system. (r)efresh signifies that one or more of the Physical Volumes this RAID Logical Volume uses had suffered a write error. The write error could be due to a temporary failure of that Physical Volume or an indication that it is failing. The device should be refreshed or replaced. (m)ismatches signifies that the RAID logical volume has portions of the array that are not coherent. Inconsistencies are discovered by initiating a <code class="literal">check</code> operation on a RAID logical volume. (The scrubbing operations, <code class="literal">check</code> and <code class="literal">repair</code>, can be performed on a RAID Logical Volume by means of the <code class="literal command">lvchange</code> command.) (w)ritemostly signifies the devices in a RAID 1 logical volume that have been marked write-mostly.
							</p>
							 <p>
								* Bit 10: s(k)ip activation: this volume is flagged to be skipped during activation.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_kernel_major</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								KMaj
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Actual major device number of the logical volume (-1 if inactive)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_kernel_minor</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								KMIN
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Actual minor device number of the logical volume (-1 if inactive)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_major</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Maj
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The persistent major device number of the logical volume (-1 if not specified)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_minor</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Min
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The persistent minor device number of the logical volume (-1 if not specified)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_name</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								LV
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The name of the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								LSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The size of the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_tags</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								LV Tags
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								LVM tags attached to the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">lv_uuid</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								LV UUID
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The UUID of the logical volume.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">mirror_log</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Log
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Device on which the mirror log resides
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">modules</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Modules
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Corresponding kernel device-mapper target necessary to use this logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">move_pv</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Move
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Source physical volume of a temporary logical volume created with the <code class="literal command">pvmove</code> command
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">origin</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Origin
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The origin device of a snapshot volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								* <code class="literal option">regionsize</code>
							</p>
							 <p>
								* <code class="literal option">region_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Region
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The unit size of a mirrored logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">seg_count</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								#Seg
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The number of segments in the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">seg_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								SSize
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The size of the segments in the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">seg_start</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Start
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Offset of the segment in the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">seg_tags</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Seg Tags
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								LVM tags attached to the segments of the logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">segtype</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Type
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								The segment type of a logical volume (for example: mirror, striped, linear)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">snap_percent</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Snap%
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Current percentage of a snapshot volume that is in use
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								<code class="literal option">stripes</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								#Str
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Number of stripes or mirrors in a logical volume
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285076814224"> <p>
								* <code class="literal option">stripesize</code>
							</p>
							 <p>
								* <code class="literal option">stripe_size</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285076813136"> <p>
								Stripe
							</p>
							 </td><td align="left" valign="top" headers="idm140285076812048"> <p>
								Unit size of the stripe in a striped logical volume
							</p>
							 </td></tr></tbody></table></div></div><p>
				The <code class="literal command">lvs</code> command provides the following display by default. The default display is sorted by <code class="literal option">vg_name</code> and <code class="literal option">lv_name</code> within the volume group.
			</p><pre class="literallayout"># <code class="literal">lvs</code>
  LV     VG              Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  origin VG              owi-a-s---    1.00g
  snap   VG              swi-a-s---  100.00m      origin 0.00</pre><p>
				A common use of the <code class="literal">lvs</code> command is to append <code class="literal">devices</code> to the command to display the underlying devices that make up the logical volume. This example also specifies the <code class="literal">-a</code> option to display the internal volumes that are components of the logical volumes, such as RAID mirrors, enclosed in brackets. This example includes a RAID volume, a striped volume, and a thinly-pooled volume.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o +devices</code>
  LV               VG            Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices
  raid1            VG            rwi-a-r---   1.00g                                      100.00           raid1_rimage_0(0),raid1_rimage_1(0)
  [raid1_rimage_0] VG            iwi-aor---   1.00g                                                       /dev/sde1(7041)
  [raid1_rimage_1] VG            iwi-aor---   1.00g                                                       /dev/sdf1(7041)
  [raid1_rmeta_0]  VG            ewi-aor---   4.00m                                                       /dev/sde1(7040)
  [raid1_rmeta_1]  VG            ewi-aor---   4.00m                                                       /dev/sdf1(7040)
  stripe1          VG            -wi-a-----  99.95g                                                       /dev/sde1(0),/dev/sdf1(0)
  stripe1          VG            -wi-a-----  99.95g                                                       /dev/sdd1(0)
  stripe1          VG            -wi-a-----  99.95g                                                       /dev/sdc1(0)
  [lvol0_pmspare]  rhel_host-083 ewi-------   4.00m                                                       /dev/vda2(0)
  pool00           rhel_host-083 twi-aotz--  &lt;4.79g               72.90  54.69                            pool00_tdata(0)
  [pool00_tdata]   rhel_host-083 Twi-ao----  &lt;4.79g                                                       /dev/vda2(1)
  [pool00_tmeta]   rhel_host-083 ewi-ao----   4.00m                                                       /dev/vda2(1226)
  root             rhel_host-083 Vwi-aotz--  &lt;4.79g pool00        72.90
  swap             rhel_host-083 -wi-ao---- 820.00m                                                       /dev/vda2(1227)</pre><p>
				Using the <code class="literal option">-v</code> argument with the <code class="literal command">lvs</code> command adds the following fields to the default display: <code class="literal option">seg_count</code>, <code class="literal option">lv_major</code>, <code class="literal option">lv_minor</code>, <code class="literal option">lv_kernel_major</code>, <code class="literal option">lv_kernel_minor</code>, <code class="literal option">lv_uuid</code>.
			</p><pre class="literallayout"># <code class="literal">lvs -v</code>
    Finding all logical volumes
  LV         VG     #Seg Attr   LSize  Maj Min KMaj KMin Origin Snap%  Move Copy%  Log Convert LV UUID
  lvol0      new_vg    1 owi-a- 52.00M  -1  -1 253  3                                          LBy1Tz-sr23-OjsI-LT03-nHLC-y8XW-EhCl78
  newvgsnap1 new_vg    1 swi-a-  8.00M  -1  -1 253  5    lvol0    0.20                         1ye1OU-1cIu-o79k-20h2-ZGF0-qCJm-CfbsIx</pre><p>
				You can use the <code class="literal option">--segments</code> argument of the <code class="literal command">lvs</code> command to display information with default columns that emphasize the segment information. When you use the <code class="literal option">segments</code> argument, the <code class="literal">seg</code> prefix is optional. The <code class="literal command">lvs --segments</code> command displays the following fields by default: <code class="literal option">lv_name</code>, <code class="literal option">vg_name</code>, <code class="literal option">lv_attr</code>, <code class="literal option">stripes</code>, <code class="literal option">segtype</code>, <code class="literal option">seg_size</code>. The default display is sorted by <code class="literal option">vg_name</code>, <code class="literal option">lv_name</code> within the volume group, and <code class="literal option">seg_start</code> within the logical volume. If the logical volumes were fragmented, the output from this command would show that.
			</p><pre class="literallayout"># <code class="literal">lvs --segments</code>
  LV       VG         Attr   #Str Type   SSize
  LogVol00 VolGroup00 -wi-ao    1 linear  36.62G
  LogVol01 VolGroup00 -wi-ao    1 linear 512.00M
  lv       vg         -wi-a-    1 linear 104.00M
  lv       vg         -wi-a-    1 linear 104.00M
  lv       vg         -wi-a-    1 linear 104.00M
  lv       vg         -wi-a-    1 linear  88.00M</pre><p>
				Using the <code class="literal option">-v</code> argument with the <code class="literal command">lvs --segments</code> command adds the following fields to the default display: <code class="literal option">seg_start</code>, <code class="literal option">stripesize</code>, <code class="literal option">chunksize</code>.
			</p><pre class="literallayout"># <code class="literal">lvs -v --segments</code>
    Finding all logical volumes
  LV         VG     Attr   Start SSize  #Str Type   Stripe Chunk
  lvol0      new_vg owi-a-    0  52.00M    1 linear     0     0
  newvgsnap1 new_vg swi-a-    0   8.00M    1 linear     0  8.00K</pre><p>
				The following example shows the default output of the <code class="literal command">lvs</code> command on a system with one logical volume configured, followed by the default output of the <code class="literal command">lvs</code> command with the <code class="literal option">segments</code> argument specified.
			</p><pre class="literallayout"># <code class="literal">lvs</code>
  LV    VG     Attr   LSize  Origin Snap%  Move Log Copy%
  lvol0 new_vg -wi-a- 52.00M
# <code class="literal">lvs --segments</code>
  LV    VG     Attr   #Str Type   SSize
  lvol0 new_vg -wi-a-    1 linear 52.00M</pre></section><section class="section" id="proc_sorting-lvm-reports-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.3. Sorting LVM reports</h2></div></div></div><p>
				Normally the entire output of the <code class="literal command">lvs</code>, <code class="literal command">vgs</code>, or <code class="literal command">pvs</code> command has to be generated and stored internally before it can be sorted and columns aligned correctly. You can specify the <code class="literal option">--unbuffered</code> argument to display unsorted output as soon as it is generated.
			</p><p>
				To specify an alternative ordered list of columns to sort on, use the <code class="literal option">-O</code> argument of any of the reporting commands. It is not necessary to include these fields within the output itself.
			</p><p>
				The following example shows the output of the <code class="literal command">pvs</code> command that displays the physical volume name, size, and free space.
			</p><pre class="literallayout"># <code class="literal">pvs -o pv_name,pv_size,pv_free</code>
  PV         PSize  PFree
  /dev/sdb1  17.14G 17.14G
  /dev/sdc1  17.14G 17.09G
  /dev/sdd1  17.14G 17.14G</pre><p>
				The following example shows the same output, sorted by the free space field.
			</p><pre class="literallayout"># <code class="literal">pvs -o pv_name,pv_size,pv_free -O pv_free</code>
  PV         PSize  PFree
  /dev/sdc1  17.14G 17.09G
  /dev/sdd1  17.14G 17.14G
  /dev/sdb1  17.14G 17.14G</pre><p>
				The following example shows that you do not need to display the field on which you are sorting.
			</p><pre class="literallayout"># <code class="literal">pvs -o pv_name,pv_size -O pv_free</code>
  PV         PSize
  /dev/sdc1  17.14G
  /dev/sdd1  17.14G
  /dev/sdb1  17.14G</pre><p>
				To display a reverse sort, precede a field you specify after the <code class="literal option">-O</code> argument with the <code class="literal option">-</code> character.
			</p><pre class="literallayout"># <code class="literal">pvs -o pv_name,pv_size,pv_free -O -pv_free</code>
  PV         PSize  PFree
  /dev/sdd1  17.14G 17.14G
  /dev/sdb1  17.14G 17.14G
  /dev/sdc1  17.14G 17.09G</pre></section><section class="section" id="proc_specifying-lvm-display-units-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.4. Specifying the units for an LVM report display</h2></div></div></div><p>
				To specify the units for the LVM report display, use the <code class="literal option">--units</code> argument of the report command. You can specify (b)ytes, (k)ilobytes, (m)egabytes, (g)igabytes, (t)erabytes, (e)xabytes, (p)etabytes, and (h)uman-readable. The default display is human-readable. You can override the default by setting the <code class="literal">units</code> parameter in the <code class="literal">global</code> section of the <code class="literal">/etc/lvm/lvm.conf</code> file.
			</p><p>
				The following example specifies the output of the <code class="literal command">pvs</code> command in megabytes rather than the default gigabytes.
			</p><pre class="literallayout"># <code class="literal">pvs --units m</code>
  PV         VG     Fmt  Attr PSize     PFree
  /dev/sda1         lvm2 --   17555.40M 17555.40M
  /dev/sdb1  new_vg lvm2 a-   17552.00M 17552.00M
  /dev/sdc1  new_vg lvm2 a-   17552.00M 17500.00M
  /dev/sdd1  new_vg lvm2 a-   17552.00M 17552.00M</pre><p>
				By default, units are displayed in powers of 2 (multiples of 1024). You can specify that units be displayed in multiples of 1000 by capitalizing the unit specification (B, K, M, G, T, H).
			</p><p>
				The following command displays the output as a multiple of 1024, the default behavior.
			</p><pre class="literallayout"># <code class="literal">pvs</code>
  PV         VG     Fmt  Attr PSize  PFree
  /dev/sdb1  new_vg lvm2 a-   17.14G 17.14G
  /dev/sdc1  new_vg lvm2 a-   17.14G 17.09G
  /dev/sdd1  new_vg lvm2 a-   17.14G 17.14G</pre><p>
				The following command displays the output as a multiple of 1000.
			</p><pre class="literallayout">#  <code class="literal">pvs --units G</code>
  PV         VG     Fmt  Attr PSize  PFree
  /dev/sdb1  new_vg lvm2 a-   18.40G 18.40G
  /dev/sdc1  new_vg lvm2 a-   18.40G 18.35G
  /dev/sdd1  new_vg lvm2 a-   18.40G 18.40G</pre><p>
				You can also specify (s)ectors (defined as 512 bytes) or custom units.
			</p><p>
				The following example displays the output of the <code class="literal command">pvs</code> command as a number of sectors.
			</p><pre class="literallayout"># <code class="literal">pvs --units s</code>
  PV         VG     Fmt  Attr PSize     PFree
  /dev/sdb1  new_vg lvm2 a-   35946496S 35946496S
  /dev/sdc1  new_vg lvm2 a-   35946496S 35840000S
  /dev/sdd1  new_vg lvm2 a-   35946496S 35946496S</pre><p>
				The following example displays the output of the <code class="literal command">pvs</code> command in units of 4 MB.
			</p><pre class="literallayout"># <code class="literal">pvs --units 4m</code>
  PV         VG     Fmt  Attr PSize    PFree
  /dev/sdb1  new_vg lvm2 a-   4388.00U 4388.00U
  /dev/sdc1  new_vg lvm2 a-   4388.00U 4375.00U
  /dev/sdd1  new_vg lvm2 a-   4388.00U 4388.00U</pre></section><section class="section" id="proc_diplaying-lvm-output-in-JSON-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.5. Displaying LVM command output in JSON format</h2></div></div></div><p>
				You can use the <code class="literal option">--reportformat</code> option of the LVM display commands to display the output in JSON format.
			</p><p>
				The following example shows the output of the <code class="literal command">lvs</code> in standard default format.
			</p><pre class="literallayout"># <code class="literal">lvs</code>
  LV      VG            Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  my_raid my_vg         Rwi-a-r---  12.00m                                    100.00
  root    rhel_host-075 -wi-ao----   6.67g
  swap    rhel_host-075 -wi-ao---- 820.00m</pre><p>
				The following command shows the output of the same LVM configuration when you specify JSON format.
			</p><pre class="literallayout"># <code class="literal">lvs --reportformat json</code>
  {
      "report": [
          {
              "lv": [
                  {"lv_name":"my_raid", "vg_name":"my_vg", "lv_attr":"Rwi-a-r---", "lv_size":"12.00m", "pool_lv":"", "origin":"", "data_percent":"", "metadata_percent":"", "move_pv":"", "mirror_log":"", "copy_percent":"100.00", "convert_lv":""},
                  {"lv_name":"root", "vg_name":"rhel_host-075", "lv_attr":"-wi-ao----", "lv_size":"6.67g", "pool_lv":"", "origin":"", "data_percent":"", "metadata_percent":"", "move_pv":"", "mirror_log":"", "copy_percent":"", "convert_lv":""},
                  {"lv_name":"swap", "vg_name":"rhel_host-075", "lv_attr":"-wi-ao----", "lv_size":"820.00m", "pool_lv":"", "origin":"", "data_percent":"", "metadata_percent":"", "move_pv":"", "mirror_log":"", "copy_percent":"", "convert_lv":""}
              ]
          }
      ]
  }</pre><p>
				You can also set the report format as a configuration option in the <code class="literal">/etc/lvm/lvm.conf</code> file, using the <code class="literal">output_format</code> setting. The <code class="literal option">--reportformat</code> setting of the command line, however, takes precedence over this setting.
			</p></section><section class="section" id="proc_displaying-lvm-command-log-customizing-lvm-display"><div class="titlepage"><div><div><h2 class="title">8.6. Displaying the LVM command log</h2></div></div></div><p>
				Both report-oriented and processing-oriented LVM commands can report the command log if this is enabled with the <code class="literal">log/report_command_log</code> configuration setting. You can determine the set of fields to display and to sort by for this report.
			</p><p>
				The following examples configures LVM to generate a complete log report for LVM commands. In this example, you can see that both logical volumes <code class="literal">lvol0</code> and <code class="literal">lvol1</code> were successfully processed, as was the volume group <code class="literal">VG</code> that contains the volumes.
			</p><pre class="literallayout"># <code class="literal">lvmconfig --type full log/command_log_selection</code>
command_log_selection="all"

# <code class="literal">lvs</code>
  Logical Volume
  ==============
  LV    LSize Cpy%Sync
  lvol1 4.00m 100.00
  lvol0 4.00m

  Command Log
  ===========
  Seq LogType Context    ObjType ObjName ObjGrp  Msg     Errno RetCode
    1 status  processing lv      lvol0   vg      success     0       1
    2 status  processing lv      lvol1   vg      success     0       1
    3 status  processing vg      vg              success     0       1

# <code class="literal">lvchange -an vg/lvol1</code>
  Command Log
  ===========
  Seq LogType Context    ObjType ObjName ObjGrp  Msg     Errno RetCode
    1 status  processing lv      lvol1   vg      success     0       1
    2 status  processing vg      vg              success     0       1</pre><p>
				For further information on configuring LVM reports and command logs, see the <code class="literal command">lvmreport</code> man page.
			</p></section></section><section class="chapter" id="assembly_configure-mange-raid-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Configuring RAID logical volumes</h1></div></div></div><p>
			LVM supports RAID0/1/4/5/6/10.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				RAID logical volumes are not cluster-aware. While RAID logical volumes can be created and activated exclusively on one machine, they cannot be activated simultaneously on more than one machine.
			</p></div></div><p>
			To create a RAID logical volume, you specify a raid type as the <code class="literal option">--type</code> argument of the <code class="literal command">lvcreate</code> command. <a class="xref" href="index.html#tb-raid-types" title="Table 9.1. RAID Segment Types">Table 9.1, “RAID Segment Types”</a> describes the possible RAID segment types. After you have created a RAID logical volume with LVM, you can activate, change, remove, display, and use the volume just as you would any other LVM logical volume.
		</p><div class="table" id="tb-raid-types"><p class="title"><strong>Table 9.1. RAID Segment Types</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285077358176" scope="col">Segment type</th><th align="left" valign="top" id="idm140285077357088" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid1</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							RAID1 mirroring. This is the default value for the <code class="literal option">--type</code> argument of the <code class="literal command">lvcreate</code> command when you specify the <code class="literal option">-m</code> but you do not specify striping.
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid4</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							RAID4 dedicated parity disk
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid5</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							Same as <code class="literal">raid5_ls</code>
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid5_la</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID5 left asymmetric.
						</p>
						 <p>
							* Rotating parity 0 with data continuation
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid5_ra</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID5 right asymmetric.
						</p>
						 <p>
							* Rotating parity N with data continuation
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid5_ls</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID5 left symmetric.
						</p>
						 <p>
							* Rotating parity 0 with data restart
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid5_rs</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID5 right symmetric.
						</p>
						 <p>
							* Rotating parity N with data restart
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid6</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							Same as <code class="literal">raid6_zr</code>
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid6_zr</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID6 zero restart
						</p>
						 <p>
							* Rotating parity zero (left-to-right) with data restart
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid6_nr</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID6 N restart
						</p>
						 <p>
							* Rotating parity N (left-to-right) with data restart
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid6_nc</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* RAID6 N continue
						</p>
						 <p>
							* Rotating parity N (left-to-right) with data continuation
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid10</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							* Striped mirrors. This is the default value for the <code class="literal option">--type</code> argument of the <code class="literal command">lvcreate</code> command if you specify the <code class="literal option">-m</code> and you specify a number of stripes that is greater than 1.
						</p>
						 <p>
							* Striping of mirror sets
						</p>
						 </td></tr><tr><td align="left" valign="top" headers="idm140285077358176"> <p>
							<code class="literal">raid0/raid0_meta</code>
						</p>
						 </td><td align="left" valign="top" headers="idm140285077357088"> <p>
							Striping. RAID0 spreads logical volume data across multiple data subvolumes in units of stripe size. This is used to increase performance. Logical volume data will be lost if any of the data subvolumes fail.
						</p>
						 </td></tr></tbody></table></div></div><p>
			For most users, specifying one of the five available primary types (<code class="literal">raid1</code>, <code class="literal">raid4</code>, <code class="literal">raid5</code>, <code class="literal">raid6</code>, <code class="literal">raid10</code>) should be sufficient. For more information on the different algorithms used by RAID 5/6, see chapter four of the <span class="emphasis"><em><span class="citetitle citetitle">Common RAID Disk Data Format Specification</span></em></span> at <a class="link" href="http://www.snia.org/sites/default/files/SNIA_DDF_Technical_Position_v2.0.pdf">http://www.snia.org/sites/default/files/SNIA_DDF_Technical_Position_v2.0.pdf</a>.
		</p><p>
			When you create a RAID logical volume, LVM creates a metadata subvolume that is one extent in size for every data or parity subvolume in the array. For example, creating a 2-way RAID1 array results in two metadata subvolumes (<code class="literal">lv_rmeta_0</code> and <code class="literal">lv_rmeta_1</code>) and two data subvolumes (<code class="literal">lv_rimage_0</code> and <code class="literal">lv_rimage_1</code>). Similarly, creating a 3-way stripe (plus 1 implicit parity device) RAID4 results in 4 metadata subvolumes (<code class="literal">lv_rmeta_0</code>, <code class="literal">lv_rmeta_1</code>, <code class="literal">lv_rmeta_2</code>, and <code class="literal">lv_rmeta_3</code>) and 4 data subvolumes (<code class="literal">lv_rimage_0</code>, <code class="literal">lv_rimage_1</code>, <code class="literal">lv_rimage_2</code>, and <code class="literal">lv_rimage_3</code>).
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				You can generate commands to create logical volumes on RAID storage with the LVM RAID Calculator application. This application uses the information you input about your current or planned storage to generate these commands. The LVM RAID Calculator application can be found at <a class="link" href="https://access.redhat.com/labs/lvmraidcalculator/">https://access.redhat.com/labs/lvmraidcalculator/</a>.
			</p></div></div><section class="section" id="ref_creating-raid-volume-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.1. Creating RAID logical volumes</h2></div></div></div><p>
				This section provides example commands that create different types of RAID logical volume.
			</p><p>
				You can create RAID1 arrays with different numbers of copies according to the value you specify for the <code class="literal option">-m</code> argument. Similarly, you specify the number of stripes for a RAID 4/5/6 logical volume with the <code class="literal option">-i argument</code>. You can also specify the stripe size with the <code class="literal">-I</code> argument.
			</p><p>
				The following command creates a 2-way RAID1 array named <code class="literal">my_lv</code> in the volume group <code class="literal">my_vg</code> that is one gigabyte in size.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 1 -L 1G -n my_lv my_vg</code></pre><p>
				The following command creates a RAID5 array (3 stripes + 1 implicit parity drive) named <code class="literal">my_lv</code> in the volume group <code class="literal">my_vg</code> that is one gigabyte in size. Note that you specify the number of stripes just as you do for an LVM striped volume; the correct number of parity drives is added automatically.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid5 -i 3 -L 1G -n my_lv my_vg</code></pre><p>
				The following command creates a RAID6 array (3 stripes + 2 implicit parity drives) named <code class="literal">my_lv</code> in the volume group <code class="literal">my_vg</code> that is one gigabyte in size.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid6 -i 3 -L 1G -n my_lv my_vg</code></pre></section><section class="section" id="proc_creating-a-striped-logical-volume_configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.2. Creating a RAID0 (striped) logical volume</h2></div></div></div><p>
				A RAID0 logical volume spreads logical volume data across multiple data subvolumes in units of stripe size.
			</p><p>
				The format for the command to create a RAID0 volume is as follows.
			</p><pre class="literallayout">lvcreate --type raid0[_meta] --stripes <span class="emphasis"><em>Stripes</em></span> --stripesize <span class="emphasis"><em>StripeSize</em></span> <span class="emphasis"><em>VolumeGroup</em></span> [<span class="emphasis"><em>PhysicalVolumePath</em></span> ...]</pre><div class="table" id="idm140285072388208"><p class="title"><strong>Table 9.2. RAID0 Command Creation parameters</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285073100672" scope="col">Parameter</th><th align="left" valign="top" id="idm140285073099584" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285073100672"> <p>
								<code class="literal">--type raid0[_meta]</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073099584"> <p>
								Specifying <code class="literal">raid0</code> creates a RAID0 volume without metadata volumes. Specifying <code class="literal">raid0_meta</code> creates a RAID0 volume with metadata volumes. Because RAID0 is non-resilient, it does not have to store any mirrored data blocks as RAID1/10 or calculate and store any parity blocks as RAID4/5/6 do. Hence, it does not need metadata volumes to keep state about resynchronization progress of mirrored or parity blocks. Metadata volumes become mandatory on a conversion from RAID0 to RAID4/5/6/10, however, and specifying <code class="literal">raid0_meta</code> preallocates those metadata volumes to prevent a respective allocation failure.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073100672"> <p>
								<code class="literal">--stripes <span class="emphasis"><em>Stripes</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073099584"> <p>
								Specifies the number of devices to spread the logical volume across.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073100672"> <p>
								<code class="literal">--stripesize <span class="emphasis"><em>StripeSize</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073099584"> <p>
								Specifies the size of each stripe in kilobytes. This is the amount of data that is written to one device before moving to the next device.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073100672"> <p>
								<code class="literal"><span class="emphasis"><em>VolumeGroup</em></span></code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285073099584"> <p>
								Specifies the volume group to use.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073100672"> <p>
								<code class="literal"><span class="emphasis"><em>PhysicalVolumePath</em></span></code> …​
							</p>
							 </td><td align="left" valign="top" headers="idm140285073099584"> <p>
								Specifies the devices to use. If this is not specified, LVM will choose the number of devices specified by the <span class="emphasis"><em>Stripes</em></span> option, one for each stripe.
							</p>
							 </td></tr></tbody></table></div></div><p>
				This example procedure creates an LVM RAID0 logical volume called <code class="literal">mylv</code> that stripes data across the disks at <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Label the disks you will use in the volume group as LVM physical volumes with the <code class="literal command">pvcreate</code> command.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							This command destroys any data on <code class="literal">/dev/sda1</code>, <code class="literal">/dev/sdb1</code>, and <code class="literal">/dev/sdc1</code>.
						</p></div></div><pre class="literallayout"># <code class="literal">pvcreate /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Physical volume "/dev/sda1" successfully created
  Physical volume "/dev/sdb1" successfully created
  Physical volume "/dev/sdc1" successfully created</pre></li><li class="listitem"><p class="simpara">
						Create the volume group <code class="literal">myvg</code>. The following command creates the volume group <code class="literal">myvg</code>.
					</p><pre class="literallayout"># <code class="literal">vgcreate myvg /dev/sda1 /dev/sdb1 /dev/sdc1</code>
  Volume group "myvg" successfully created</pre><p class="simpara">
						You can use the <code class="literal command">vgs</code> command to display the attributes of the new volume group.
					</p><pre class="literallayout"># <code class="literal">vgs</code>
  VG   #PV #LV #SN Attr   VSize  VFree
  myvg   3   0   0 wz--n- 51.45G 51.45G</pre></li><li class="listitem"><p class="simpara">
						Create a RAID0 logical volume from the volume group you have created. The following command creates the RAID0 volume <code class="literal">mylv</code> from the volume group <code class="literal">myvg</code>. This example creates a logical volume that is 2 gigabytes in size, with three stripes and a stripe size of 4 kilobytes.
					</p><pre class="literallayout"># <code class="literal">lvcreate --type raid0 -L 2G --stripes 3 --stripesize 4 -n mylv myvg</code>
  Rounding size 2.00 GiB (512 extents) up to stripe boundary size 2.00 GiB(513 extents).
  Logical volume "mylv" created.</pre></li><li class="listitem"><p class="simpara">
						Create a file system on the RAID0 logical volume. The following command creates an <code class="literal">ext4</code> file system on the logical volume.
					</p><pre class="literallayout"># <code class="literal">mkfs.ext4 /dev/myvg/mylv</code>
mke2fs 1.44.3 (10-July-2018)
Creating filesystem with 525312 4k blocks and 131376 inodes
Filesystem UUID: 9d4c0704-6028-450a-8b0a-8875358c0511
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912

Allocating group tables: done
Writing inode tables: done
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done</pre><p class="simpara">
						The following commands mount the logical volume and report the file system disk space usage.
					</p><pre class="literallayout"># <code class="literal">mount /dev/myvg/mylv /mnt</code>
# <code class="literal">df</code>
Filesystem             1K-blocks     Used  Available Use% Mounted on
/dev/mapper/myvg-mylv    2002684     6168    1875072   1% /mnt</pre></li></ol></div></section><section class="section" id="proc_controlling-raid-initialization-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.3. Controlling the rate at which RAID volumes are initialized</h2></div></div></div><p>
				When you create RAID10 logical volumes, the background I/O required to initialize the logical volumes with a <code class="literal">sync</code> operation can crowd out other I/O operations to LVM devices, such as updates to volume group metadata, particularly when you are creating many RAID logical volumes. This can cause the other LVM operations to slow down.
			</p><p>
				You can control the rate at which a RAID logical volume is initialized by implementing recovery throttling. You control the rate at which <code class="literal">sync</code> operations are performed by setting the minimum and maximum I/O rate for those operations with the <code class="literal option">--minrecoveryrate</code> and <code class="literal option">--maxrecoveryrate</code> options of the <code class="literal command">lvcreate</code> command. You specify these options as follows.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">--maxrecoveryrate <span class="emphasis"><em>Rate</em></span>[bBsSkKmMgG]</code>
					</p><p class="simpara">
						Sets the maximum recovery rate for a RAID logical volume so that it will not crowd out nominal I/O operations. The <span class="emphasis"><em>Rate</em></span> is specified as an amount per second for each device in the array. If no suffix is given, then kiB/sec/device is assumed. Setting the recovery rate to 0 means it will be unbounded.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">--minrecoveryrate <span class="emphasis"><em>Rate</em></span>[bBsSkKmMgG]</code>
					</p><p class="simpara">
						Sets the minimum recovery rate for a RAID logical volume to ensure that I/O for <code class="literal">sync</code> operations achieves a minimum throughput, even when heavy nominal I/O is present. The <span class="emphasis"><em>Rate</em></span> is specified as an amount per second for each device in the array. If no suffix is given, then kiB/sec/device is assumed.
					</p></li></ul></div><p>
				The following command creates a 2-way RAID10 array with 3 stripes that is 10 gigabytes in size with a maximum recovery rate of 128 kiB/sec/device. The array is named <code class="literal">my_lv</code> and is in the volume group <code class="literal">my_vg</code>.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid10 -i 2 -m 1 -L 10G --maxrecoveryrate 128 -n my_lv my_vg</code></pre><p>
				You can also specify minimum and maximum recovery rates for a RAID scrubbing operation.
			</p></section><section class="section" id="proc_converting-linear-to-raid-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.4. Converting a Linear device to a RAID device</h2></div></div></div><p>
				You can convert an existing linear logical volume to a RAID device by using the <code class="literal option">--type</code> argument of the <code class="literal command">lvconvert</code> command.
			</p><p>
				The following command converts the linear logical volume <code class="literal">my_lv</code> in volume group <code class="literal">my_vg</code> to a 2-way RAID1 array.
			</p><pre class="literallayout"># <code class="literal">lvconvert --type raid1 -m 1 my_vg/my_lv</code></pre><p>
				Since RAID logical volumes are composed of metadata and data subvolume pairs, when you convert a linear device to a RAID1 array, a new metadata subvolume is created and associated with the original logical volume on (one of) the same physical volumes that the linear volume is on. The additional images are added in metadata/data subvolume pairs. For example, if the original device is as follows:
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV     Copy%  Devices
  my_lv         /dev/sde1(0)</pre><p>
				After conversion to a 2-way RAID1 array the device contains the following data and metadata subvolume pairs:
			</p><pre class="literallayout"># <code class="literal">lvconvert --type raid1 -m 1 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            6.25   my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(0)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rmeta_0]         /dev/sde1(256)
  [my_lv_rmeta_1]         /dev/sdf1(0)</pre><p>
				If the metadata image that pairs with the original logical volume cannot be placed on the same physical volume, the <code class="literal command">lvconvert</code> will fail.
			</p></section><section class="section" id="proc-converting-raid1-to-linear-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.5. Converting an LVM RAID1 logical volume to an LVM linear logical volume</h2></div></div></div><p>
				You can convert an existing RAID1 LVM logical volume to an LVM linear logical volume with the <code class="literal command">lvconvert</code> command by specifying the <code class="literal option">-m0</code> argument. This removes all the RAID data subvolumes and all the RAID metadata subvolumes that make up the RAID array, leaving the top-level RAID1 image as the linear logical volume.
			</p><p>
				The following example displays an existing LVM RAID1 logical volume.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)</pre><p>
				The following command converts the LVM RAID1 logical volume <code class="literal">my_vg/my_lv</code> to an LVM linear device.
			</p><pre class="literallayout"># <code class="literal">lvconvert -m0 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV      Copy%  Devices
  my_lv          /dev/sde1(1)</pre><p>
				When you convert an LVM RAID1 logical volume to an LVM linear volume, you can specify which physical volumes to remove. The following example shows the layout of an LVM RAID1 logical volume made up of two images: <code class="literal">/dev/sda1</code> and <code class="literal">/dev/sdb1</code>. In this example, the <code class="literal command">lvconvert</code> command specifies that you want to remove <code class="literal">/dev/sda1</code>, leaving <code class="literal">/dev/sdb1</code> as the physical volume that makes up the linear device.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdb1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdb1(0)
# <code class="literal">lvconvert -m0 my_vg/my_lv /dev/sda1</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV    Copy%  Devices
  my_lv        /dev/sdb1(1)</pre></section><section class="section" id="proc-converting-mirror-to-raid-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.6. Converting a mirrored LVM device to a RAID1 device</h2></div></div></div><p>
				You can convert an existing mirrored LVM device with a segment type of <code class="literal">mirror</code> to a RAID1 LVM device with the <code class="literal command">lvconvert</code> command by specifying the <code class="literal option">--type raid1</code> argument. This renames the mirror subvolumes (<code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>mimage</em></span></strong></span></code>) to RAID subvolumes (<code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>rimage</em></span></strong></span></code>). In addition, the mirror log is removed and metadata subvolumes (<code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>rmeta</em></span></strong></span></code>) are created for the data subvolumes on the same physical volumes as the corresponding data subvolumes.
			</p><p>
				The following example shows the layout of a mirrored logical volume <code class="literal">my_vg/my_lv</code>.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             15.20 my_lv_mimage_0(0),my_lv_mimage_1(0)
  [my_lv_mimage_0]        /dev/sde1(0)
  [my_lv_mimage_1]        /dev/sdf1(0)
  [my_lv_mlog]            /dev/sdd1(0)</pre><p>
				The following command converts the mirrored logical volume <code class="literal">my_vg/my_lv</code> to a RAID1 logical volume.
			</p><pre class="literallayout"># <code class="literal">lvconvert --type raid1 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(0)
  [my_lv_rimage_1]        /dev/sdf1(0)
  [my_lv_rmeta_0]         /dev/sde1(125)
  [my_lv_rmeta_1]         /dev/sdf1(125)</pre></section><section class="section" id="proc-resizing-raid-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.7. Resizing a RAID logical volume</h2></div></div></div><p>
				You can resize a RAID logical volume in the following ways;
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can increase the size of a RAID logical volume of any type with the <code class="literal command">lvresize</code> or <code class="literal command">lvextend</code> command. This does not change the number of RAID images. For striped RAID logical volumes the same stripe rounding constraints apply as when you create a striped RAID logical volume.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can reduce the size of a RAID logical volume of any type with the <code class="literal command">lvresize</code> or <code class="literal command">lvreduce</code> command. This does not change the number of RAID images. As with the <code class="literal command">lvextend</code> command, the same stripe rounding constraints apply as when you create a striped RAID logical volume.
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can change the number of stripes on a striped RAID logical volume (<code class="literal">raid4/5/6/10</code>) with the <code class="literal option">--stripes N</code> parameter of the <code class="literal command">lvconvert</code> command. This increases or reduces the size of the RAID logical volume by the capacity of the stripes added or removed. Note that <code class="literal">raid10</code> volumes are capable only of adding stripes. This capability is part of the RAID <span class="emphasis"><em>reshaping</em></span> feature that allows you to change attributes of a RAID logical volume while keeping the same RAID level. For information on RAID reshaping and examples of using the <code class="literal command">lvconvert</code> command to reshape a RAID logical volume, see the <code class="literal command">lvmraid</code>(7) man page.
					</li></ul></div></section><section class="section" id="proc-changing-raid-imagenum-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.8. Changing the number of images in an existing RAID1 device</h2></div></div></div><p>
				You can change the number of images in an existing RAID1 array just as you can change the number of images in the earlier implementation of LVM mirroring. Use the <code class="literal command">lvconvert</code> command to specify the number of additional metadata/data subvolume pairs to add or remove.
			</p><p>
				When you add images to a RAID1 device with the <code class="literal command">lvconvert</code> command, you can specify the total number of images for the resulting device, or you can specify how many images to add to the device. You can also optionally specify on which physical volumes the new metadata/data image pairs will reside.
			</p><p>
				Metadata subvolumes (named <code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>rmeta</em></span></strong></span></code>) always exist on the same physical devices as their data subvolume counterparts <code class="literal"><span class="strong strong"><strong><span class="emphasis"><em>rimage</em></span></strong></span></code>). The metadata/data subvolume pairs will not be created on the same physical volumes as those from another metadata/data subvolume pair in the RAID array (unless you specify <code class="literal option">--alloc anywhere</code>).
			</p><p>
				The format for the command to add images to a RAID1 volume is as follows:
			</p><pre class="literallayout">lvconvert -m <span class="emphasis"><em>new_absolute_count</em></span> vg/lv [<span class="emphasis"><em>removable_PVs</em></span>]
lvconvert -m +<span class="emphasis"><em>num_additional_images</em></span> vg/lv [<span class="emphasis"><em>removable_PVs</em></span>]</pre><p>
				For example, the following command displays the LVM device <code class="literal">my_vg/my_lv</code>, which is a 2-way RAID1 array:
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV                Copy%  Devices
  my_lv             6.25    my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]         /dev/sde1(0)
  [my_lv_rimage_1]         /dev/sdf1(1)
  [my_lv_rmeta_0]          /dev/sde1(256)
  [my_lv_rmeta_1]          /dev/sdf1(0)</pre><p>
				The following command converts the 2-way RAID1 device <code class="literal">my_vg/my_lv</code> to a 3-way RAID1 device:
			</p><pre class="literallayout"># <code class="literal">lvconvert -m 2 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv              6.25 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sde1(0)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rimage_2]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sde1(256)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  [my_lv_rmeta_2]         /dev/sdg1(0)</pre><p>
				When you add an image to a RAID1 array, you can specify which physical volumes to use for the image. The following command converts the 2-way RAID1 device <code class="literal">my_vg/my_lv</code> to a 3-way RAID1 device, specifying that the physical volume <code class="literal">/dev/sdd1</code> be used for the array:
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             56.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdb1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdb1(0)
# <code class="literal">lvconvert -m 2 my_vg/my_lv /dev/sdd1</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             28.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdb1(1)
  [my_lv_rimage_2]        /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdb1(0)
  [my_lv_rmeta_2]         /dev/sdd1(0)</pre><p>
				To remove images from a RAID1 array, use the following command. When you remove images from a RAID1 device with the <code class="literal command">lvconvert</code> command, you can specify the total number of images for the resulting device, or you can specify how many images to remove from the device. You can also optionally specify the physical volumes from which to remove the device.
			</p><pre class="literallayout">lvconvert -m <span class="emphasis"><em>new_absolute_count</em></span> <span class="emphasis"><em>vg/lv</em></span> [<span class="emphasis"><em>removable_PVs</em></span>]
lvconvert -m -<span class="emphasis"><em>num_fewer_images</em></span> <span class="emphasis"><em>vg/lv</em></span> [<span class="emphasis"><em>removable_PVs</em></span>]</pre><p>
				Additionally, when an image and its associated metadata subvolume volume are removed, any higher-numbered images will be shifted down to fill the slot. If you remove <code class="literal">lv_rimage_1</code> from a 3-way RAID1 array that consists of <code class="literal">lv_rimage_0</code>, <code class="literal">lv_rimage_1</code>, and <code class="literal">lv_rimage_2</code>, this results in a RAID1 array that consists of <code class="literal">lv_rimage_0</code> and <code class="literal">lv_rimage_1</code>. The subvolume <code class="literal">lv_rimage_2</code> will be renamed and take over the empty slot, becoming <code class="literal">lv_rimage_1</code>.
			</p><p>
				The following example shows the layout of a 3-way RAID1 logical volume <code class="literal">my_vg/my_lv</code>.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rimage_2]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  [my_lv_rmeta_2]         /dev/sdg1(0)</pre><p>
				The following command converts the 3-way RAID1 logical volume into a 2-way RAID1 logical volume.
			</p><pre class="literallayout"># <code class="literal">lvconvert -m1 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)</pre><p>
				The following command converts the 3-way RAID1 logical volume into a 2-way RAID1 logical volume, specifying the physical volume that contains the image to remove as <code class="literal">/dev/sde1</code>.
			</p><pre class="literallayout"># <code class="literal">lvconvert -m1 my_vg/my_lv /dev/sde1</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sdf1(1)
  [my_lv_rimage_1]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sdf1(0)
  [my_lv_rmeta_1]         /dev/sdg1(0)</pre></section><section class="section" id="proc-splitting-raid-image-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.9. Splitting off a RAID image as a separate logical volume</h2></div></div></div><p>
				You can split off an image of a RAID logical volume to form a new logical volume.
			</p><p>
				The format of the command to split off a RAID image is as follows:
			</p><pre class="literallayout">lvconvert --splitmirrors <span class="emphasis"><em>count</em></span> -n <span class="emphasis"><em>splitname</em></span> <span class="emphasis"><em>vg/lv</em></span> [<span class="emphasis"><em>removable_PVs</em></span>]</pre><p>
				Just as when you are removing a RAID image from an existing RAID1 logical volume, when you remove a RAID data subvolume (and its associated metadata subvolume) from the middle of the device any higher numbered images will be shifted down to fill the slot. The index numbers on the logical volumes that make up a RAID array will thus be an unbroken sequence of integers.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You cannot split off a RAID image if the RAID1 array is not yet in sync.
				</p></div></div><p>
				The following example splits a 2-way RAID1 logical volume, <code class="literal">my_lv</code>, into two linear logical volumes, <code class="literal">my_lv</code> and <code class="literal">new</code>.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             12.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
# <code class="literal">lvconvert --splitmirror 1 -n new my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV      Copy%  Devices
  my_lv          /dev/sde1(1)
  new            /dev/sdf1(1)</pre><p>
				The following example splits a 3-way RAID1 logical volume, <code class="literal">my_lv</code>, into a 2-way RAID1 logical volume, <code class="literal">my_lv</code>, and a linear logical volume, <code class="literal">new</code>
			</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rimage_2]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  [my_lv_rmeta_2]         /dev/sdg1(0)
# <code class="literal">lvconvert --splitmirror 1 -n new my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV            Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  new                     /dev/sdg1(1)</pre></section><section class="section" id="proc-split-merge-raid-image-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.10. Splitting and Merging a RAID Image</h2></div></div></div><p>
				You can temporarily split off an image of a RAID1 array for read-only use while keeping track of any changes by using the <code class="literal option">--trackchanges</code> argument in conjunction with the <code class="literal option">--splitmirrors</code> argument of the <code class="literal command">lvconvert</code> command. This allows you to merge the image back into the array at a later time while resyncing only those portions of the array that have changed since the image was split.
			</p><p>
				The format for the <code class="literal command">lvconvert</code> command to split off a RAID image is as follows.
			</p><pre class="literallayout">lvconvert --splitmirrors <span class="emphasis"><em>count</em></span> --trackchanges <span class="emphasis"><em>vg/lv</em></span> [<span class="emphasis"><em>removable_PVs</em></span>]</pre><p>
				When you split off a RAID image with the <code class="literal option">--trackchanges</code> argument, you can specify which image to split but you cannot change the name of the volume being split. In addition, the resulting volumes have the following constraints.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The new volume you create is read-only.
					</li><li class="listitem">
						You cannot resize the new volume.
					</li><li class="listitem">
						You cannot rename the remaining array.
					</li><li class="listitem">
						You cannot resize the remaining array.
					</li><li class="listitem">
						You can activate the new volume and the remaining array independently.
					</li></ul></div><p>
				You can merge an image that was split off with the <code class="literal option">--trackchanges</code> argument specified by executing a subsequent <code class="literal command">lvconvert</code> command with the <code class="literal option">--merge</code> argument. When you merge the image, only the portions of the array that have changed since the image was split are resynced.
			</p><p>
				The format for the <code class="literal command">lvconvert</code> command to merge a RAID image is as follows.
			</p><pre class="literallayout">lvconvert --merge <span class="emphasis"><em>raid_image</em></span></pre><p>
				The following example creates a RAID1 logical volume and then splits off an image from that volume while tracking changes to the remaining array.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 2 -L 1G -n my_lv my_vg</code>
  Logical volume "my_lv" created
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sdb1(1)
  [my_lv_rimage_1]        /dev/sdc1(1)
  [my_lv_rimage_2]        /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sdb1(0)
  [my_lv_rmeta_1]         /dev/sdc1(0)
  [my_lv_rmeta_2]         /dev/sdd1(0)
# <code class="literal">lvconvert --splitmirrors 1 --trackchanges my_vg/my_lv</code>
  my_lv_rimage_2 split from my_lv for read-only purposes.
  Use 'lvconvert --merge my_vg/my_lv_rimage_2' to merge back into my_lv
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sdb1(1)
  [my_lv_rimage_1]        /dev/sdc1(1)
  my_lv_rimage_2          /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sdb1(0)
  [my_lv_rmeta_1]         /dev/sdc1(0)
  [my_lv_rmeta_2]         /dev/sdd1(0)</pre><p>
				The following example splits off an image from a RAID1 volume while tracking changes to the remaining array, then merges the volume back into the array.
			</p><pre class="literallayout"># <code class="literal">lvconvert --splitmirrors 1 --trackchanges my_vg/my_lv</code>
  lv_rimage_1 split from my_lv for read-only purposes.
  Use 'lvconvert --merge my_vg/my_lv_rimage_1' to merge back into my_lv
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sdc1(1)
  my_lv_rimage_1          /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sdc1(0)
  [my_lv_rmeta_1]         /dev/sdd1(0)
# <code class="literal">lvconvert --merge my_vg/my_lv_rimage_1</code>
  my_vg/my_lv_rimage_1 successfully merged back into my_vg/my_lv
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sdc1(1)
  [my_lv_rimage_1]        /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sdc1(0)
  [my_lv_rmeta_1]         /dev/sdd1(0)</pre></section><section class="section" id="proc-setting-raid-fault-policy-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.11. Setting a RAID fault policy</h2></div></div></div><p>
				LVM RAID handles device failures in an automatic fashion based on the preferences defined by the <code class="literal">raid_fault_policy</code> field in the <code class="literal">lvm.conf</code> file.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If the <code class="literal">raid_fault_policy</code> field is set to <code class="literal">allocate</code>, the system will attempt to replace the failed device with a spare device from the volume group. If there is no available spare device, this will be reported to the system log.
					</li><li class="listitem">
						If the <code class="literal">raid_fault_policy</code> field is set to <code class="literal">warn</code>, the system will produce a warning and the log will indicate that a device has failed. This allows the user to determine the course of action to take.
					</li></ul></div><p>
				As long as there are enough devices remaining to support usability, the RAID logical volume will continue to operate.
			</p><section class="section" id="raid-allocate-faultpolicy"><div class="titlepage"><div><div><h3 class="title">9.11.1. The allocate RAID Fault Policy</h3></div></div></div><p>
					In the following example, the <code class="literal">raid_fault_policy</code> field has been set to <code class="literal">allocate</code> in the <code class="literal">lvm.conf</code> file. The RAID logical volume is laid out as follows.
				</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sde1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rimage_2]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sde1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  [my_lv_rmeta_2]         /dev/sdg1(0)</pre><p>
					If the <code class="literal">/dev/sde</code> device fails, the system log will display error messages.
				</p><pre class="literallayout"># <code class="literal">grep lvm /var/log/messages</code>
Jan 17 15:57:18 bp-01 lvm[8599]: Device #0 of raid1 array, my_vg-my_lv, has failed.
Jan 17 15:57:18 bp-01 lvm[8599]: /dev/sde1: read failed after 0 of 2048 at
250994294784: Input/output error
Jan 17 15:57:18 bp-01 lvm[8599]: /dev/sde1: read failed after 0 of 2048 at
250994376704: Input/output error
Jan 17 15:57:18 bp-01 lvm[8599]: /dev/sde1: read failed after 0 of 2048 at 0:
Input/output error
Jan 17 15:57:18 bp-01 lvm[8599]: /dev/sde1: read failed after 0 of 2048 at
4096: Input/output error
Jan 17 15:57:19 bp-01 lvm[8599]: Couldn't find device with uuid
3lugiV-3eSP-AFAR-sdrP-H20O-wM2M-qdMANy.
Jan 17 15:57:27 bp-01 lvm[8599]: raid1 array, my_vg-my_lv, is not in-sync.
Jan 17 15:57:36 bp-01 lvm[8599]: raid1 array, my_vg-my_lv, is now in-sync.</pre><p>
					Since the <code class="literal">raid_fault_policy</code> field has been set to <code class="literal">allocate</code>, the failed device is replaced with a new device from the volume group.
				</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices vg</code>
  Couldn't find device with uuid 3lugiV-3eSP-AFAR-sdrP-H20O-wM2M-qdMANy.
  LV            Copy%  Devices
  lv            100.00 lv_rimage_0(0),lv_rimage_1(0),lv_rimage_2(0)
  [lv_rimage_0]        /dev/sdh1(1)
  [lv_rimage_1]        /dev/sdf1(1)
  [lv_rimage_2]        /dev/sdg1(1)
  [lv_rmeta_0]         /dev/sdh1(0)
  [lv_rmeta_1]         /dev/sdf1(0)
  [lv_rmeta_2]         /dev/sdg1(0)</pre><p>
					Note that even though the failed device has been replaced, the display still indicates that LVM could not find the failed device. This is because, although the failed device has been removed from the RAID logical volume, the failed device has not yet been removed from the volume group. To remove the failed device from the volume group, you can execute <code class="literal command">vgreduce --removemissing <span class="emphasis"><em>VG</em></span></code>.
				</p><p>
					If the <code class="literal">raid_fault_policy</code> has been set to <code class="literal">allocate</code> but there are no spare devices, the allocation will fail, leaving the logical volume as it is. If the allocation fails, you have the option of fixing the drive, then initiating recovery of the failed device with the <code class="literal">--refresh</code> option of the <code class="literal">lvchange</code> command. Alternately, you can replace the failed device.
				</p></section><section class="section" id="raid-warn-faultpolicy"><div class="titlepage"><div><div><h3 class="title">9.11.2. The warn RAID Fault Policy</h3></div></div></div><p>
					In the following example, the <code class="literal">raid_fault_policy</code> field has been set to <code class="literal">warn</code> in the <code class="literal">lvm.conf</code> file. The RAID logical volume is laid out as follows.
				</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sdh1(1)
  [my_lv_rimage_1]        /dev/sdf1(1)
  [my_lv_rimage_2]        /dev/sdg1(1)
  [my_lv_rmeta_0]         /dev/sdh1(0)
  [my_lv_rmeta_1]         /dev/sdf1(0)
  [my_lv_rmeta_2]         /dev/sdg1(0)</pre><p>
					If the <code class="literal">/dev/sdh</code> device fails, the system log will display error messages. In this case, however, LVM will not automatically attempt to repair the RAID device by replacing one of the images. Instead, if the device has failed you can replace the device with the <code class="literal option">--repair</code> argument of the <code class="literal command">lvconvert</code> command.
				</p></section></section><section class="section" id="assembly_replacing-a-raid-device-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.12. Replacing a RAID device in a logical volume</h2></div></div></div><p>
				You can replace a RAID device in a logical volume with the <code class="literal">lvconvert</code> command.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If there has been no failure on a RAID device, use the <code class="literal option">--replace</code> argument of the <code class="literal command">lvconvert</code> command to replace the device.
					</li><li class="listitem">
						If the RAID device has failed, use the <code class="literal option">--repair</code> argument of the <code class="literal command">lvconvert</code> command to replace the failed device.
					</li></ul></div><section class="section" id="proc-replacing-raid-device-with-no-failure-replacing-a-raid-device"><div class="titlepage"><div><div><h3 class="title">9.12.1. Replacing a RAID device that has not failed</h3></div></div></div><p>
					To replace a RAID device in a logical volume, use the <code class="literal option">--replace</code> argument of the <code class="literal command">lvconvert</code> command. Note that this command will not work if the RAID device has failed.
				</p><p>
					The format for the <code class="literal command">lvconvert --replace</code> command is as follows.
				</p><pre class="literallayout">lvconvert --replace <span class="emphasis"><em>dev_to_remove</em></span> <span class="emphasis"><em>vg/lv</em></span> [<span class="emphasis"><em>possible_replacements</em></span>]</pre><p>
					The following example creates a RAID1 logical volume and then replaces a device in that volume.
				</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 2 -L 1G -n my_lv my_vg</code>
  Logical volume "my_lv" created
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sdb1(1)
  [my_lv_rimage_1]        /dev/sdb2(1)
  [my_lv_rimage_2]        /dev/sdc1(1)
  [my_lv_rmeta_0]         /dev/sdb1(0)
  [my_lv_rmeta_1]         /dev/sdb2(0)
  [my_lv_rmeta_2]         /dev/sdc1(0)
# <code class="literal">lvconvert --replace /dev/sdb2 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             37.50 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sdb1(1)
  [my_lv_rimage_1]        /dev/sdc2(1)
  [my_lv_rimage_2]        /dev/sdc1(1)
  [my_lv_rmeta_0]         /dev/sdb1(0)
  [my_lv_rmeta_1]         /dev/sdc2(0)
  [my_lv_rmeta_2]         /dev/sdc1(0)</pre><p>
					The following example creates a RAID1 logical volume and then replaces a device in that volume, specifying which physical volume to use for the replacement.
				</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 1 -L 100 -n my_lv my_vg</code>
  Logical volume "my_lv" created
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdb1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdb1(0)
# <code class="literal">pvs</code>
  PV          VG       Fmt  Attr PSize    PFree
  /dev/sda1   my_vg    lvm2 a--  1020.00m  916.00m
  /dev/sdb1   my_vg    lvm2 a--  1020.00m  916.00m
  /dev/sdc1   my_vg    lvm2 a--  1020.00m 1020.00m
  /dev/sdd1   my_vg    lvm2 a--  1020.00m 1020.00m
# <code class="literal">lvconvert --replace /dev/sdb1 my_vg/my_lv /dev/sdd1</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             28.00 my_lv_rimage_0(0),my_lv_rimage_1(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdd1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdd1(0)</pre><p>
					You can replace more than one RAID device at a time by specifying multiple <code class="literal option">replace</code> arguments, as in the following example.
				</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 2 -L 100 -n my_lv my_vg</code>
  Logical volume "my_lv" created
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv            100.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdb1(1)
  [my_lv_rimage_2]        /dev/sdc1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdb1(0)
  [my_lv_rmeta_2]         /dev/sdc1(0)
# <code class="literal">lvconvert --replace /dev/sdb1 --replace /dev/sdc1 my_vg/my_lv</code>
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Copy%  Devices
  my_lv             60.00 my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]        /dev/sda1(1)
  [my_lv_rimage_1]        /dev/sdd1(1)
  [my_lv_rimage_2]        /dev/sde1(1)
  [my_lv_rmeta_0]         /dev/sda1(0)
  [my_lv_rmeta_1]         /dev/sdd1(0)
  [my_lv_rmeta_2]         /dev/sde1(0)</pre></section><section class="section" id="proc-replacing-failed-raid-device-replacing-a-raid-device"><div class="titlepage"><div><div><h3 class="title">9.12.2. Replacing a failed RAID device in a logical volume</h3></div></div></div><p>
					RAID is not like traditional LVM mirroring. LVM mirroring required failed devices to be removed or the mirrored logical volume would hang. RAID arrays can keep on running with failed devices. In fact, for RAID types other than RAID1, removing a device would mean converting to a lower level RAID (for example, from RAID6 to RAID5, or from RAID4 or RAID5 to RAID0). Therefore, rather than removing a failed device unconditionally and potentially allocating a replacement, LVM allows you to replace a failed device in a RAID volume in a one-step solution by using the <code class="literal option">--repair</code> argument of the <code class="literal command">lvconvert</code> command.
				</p><p>
					In the following example, a RAID logical volume is laid out as follows.
				</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  LV               Cpy%Sync Devices
  my_lv            100.00   my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]          /dev/sde1(1)
  [my_lv_rimage_1]          /dev/sdc1(1)
  [my_lv_rimage_2]          /dev/sdd1(1)
  [my_lv_rmeta_0]           /dev/sde1(0)
  [my_lv_rmeta_1]           /dev/sdc1(0)
  [my_lv_rmeta_2]           /dev/sdd1(0)</pre><p>
					If the <code class="literal">/dev/sdc</code> device fails, the output of the <code class="literal">lvs</code> command is as follows.
				</p><pre class="literallayout"># <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  /dev/sdc: open failed: No such device or address
  Couldn't find device with uuid A4kRl2-vIzA-uyCb-cci7-bOod-H5tX-IzH4Ee.
  WARNING: Couldn't find all devices for LV my_vg/my_lv_rimage_1 while checking used and assumed devices.
  WARNING: Couldn't find all devices for LV my_vg/my_lv_rmeta_1 while checking used and assumed devices.
  LV               Cpy%Sync Devices
  my_lv            100.00   my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]          /dev/sde1(1)
  [my_lv_rimage_1]          [unknown](1)
  [my_lv_rimage_2]          /dev/sdd1(1)
  [my_lv_rmeta_0]           /dev/sde1(0)
  [my_lv_rmeta_1]           [unknown](0)
  [my_lv_rmeta_2]           /dev/sdd1(0)</pre><p>
					Use the following commands to replace the failed device and display the logical volume.
				</p><pre class="literallayout"># <code class="literal">lvconvert --repair my_vg/my_lv</code>
  /dev/sdc: open failed: No such device or address
  Couldn't find device with uuid A4kRl2-vIzA-uyCb-cci7-bOod-H5tX-IzH4Ee.
  WARNING: Couldn't find all devices for LV my_vg/my_lv_rimage_1 while checking used and assumed devices.
  WARNING: Couldn't find all devices for LV my_vg/my_lv_rmeta_1 while checking used and assumed devices.
Attempt to replace failed RAID images (requires full device resync)? [y/n]: y
  Faulty devices in my_vg/my_lv successfully replaced.
# <code class="literal">lvs -a -o name,copy_percent,devices my_vg</code>
  /dev/sdc: open failed: No such device or address
  /dev/sdc1: open failed: No such device or address
  Couldn't find device with uuid A4kRl2-vIzA-uyCb-cci7-bOod-H5tX-IzH4Ee.
  LV               Cpy%Sync Devices
  my_lv            43.79    my_lv_rimage_0(0),my_lv_rimage_1(0),my_lv_rimage_2(0)
  [my_lv_rimage_0]          /dev/sde1(1)
  [my_lv_rimage_1]          /dev/sdb1(1)
  [my_lv_rimage_2]          /dev/sdd1(1)
  [my_lv_rmeta_0]           /dev/sde1(0)
  [my_lv_rmeta_1]           /dev/sdb1(0)
  [my_lv_rmeta_2]           /dev/sdd1(0)</pre><p>
					Note that even though the failed device has been replaced, the display still indicates that LVM could not find the failed device. This is because, although the failed device has been removed from the RAID logical volume, the failed device has not yet been removed from the volume group. To remove the failed device from the volume group, you can execute <code class="literal command">vgreduce --removemissing <span class="emphasis"><em>VG</em></span></code>.
				</p><p>
					If the device failure is a transient failure or you are able to repair the device that failed, you can initiate recovery of the failed device with the <code class="literal option">--refresh</code> option of the <code class="literal command">lvchange</code> command.
				</p><p>
					The following command refreshes a logical volume.
				</p><pre class="literallayout"># <code class="literal">lvchange --refresh my_vg/my_lv</code></pre></section></section><section class="section" id="proc-scrubbing-raid-volume-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.13. Checking data coherency in a RAID logical volume (RAID scrubbing)</h2></div></div></div><p>
				LVM provides scrubbing support for RAID logical volumes. RAID scrubbing is the process of reading all the data and parity blocks in an array and checking to see whether they are coherent.
			</p><p>
				You initiate a RAID scrubbing operation with the <code class="literal option">--syncaction</code> option of the <code class="literal command">lvchange</code> command. You specify either a <code class="literal">check</code> or <code class="literal">repair</code> operation. A <code class="literal">check</code> operation goes over the array and records the number of discrepancies in the array but does not repair them. A <code class="literal">repair</code> operation corrects the discrepancies as it finds them.
			</p><p>
				The format of the command to scrub a RAID logical volume is as follows:
			</p><pre class="literallayout">lvchange --syncaction {check|repair} <span class="emphasis"><em>vg/raid_lv</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal command">lvchange --syncaction repair <span class="emphasis"><em>vg/raid_lv</em></span></code> operation does not perform the same function as the <code class="literal command">lvconvert --repair <span class="emphasis"><em>vg/raid_lv</em></span></code> operation. The <code class="literal command">lvchange --syncaction repair</code> operation initiates a background synchronization operation on the array, while the <code class="literal command">lvconvert --repair</code> operation is designed to repair/replace failed devices in a mirror or RAID logical volume.
				</p></div></div><p>
				In support of the RAID scrubbing operation, the <code class="literal command">lvs</code> command supports two new printable fields: <code class="literal">raid_sync_action</code> and <code class="literal">raid_mismatch_count</code>. These fields are not printed by default. To display these fields you specify them with the <code class="literal option">-o</code> parameter of the <code class="literal command">lvs</code>, as follows.
			</p><pre class="literallayout">lvs -o +raid_sync_action,raid_mismatch_count <span class="emphasis"><em>vg/lv</em></span></pre><p>
				The <code class="literal">raid_sync_action</code> field displays the current synchronization operation that the raid volume is performing. It can be one of the following values:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">idle</code>: All sync operations complete (doing nothing)
					</li><li class="listitem">
						<code class="literal">resync</code>: Initializing an array or recovering after a machine failure
					</li><li class="listitem">
						<code class="literal">recover</code>: Replacing a device in the array
					</li><li class="listitem">
						<code class="literal">check</code>: Looking for array inconsistencies
					</li><li class="listitem">
						<code class="literal">repair</code>: Looking for and repairing inconsistencies
					</li></ul></div><p>
				The <code class="literal">raid_mismatch_count</code> field displays the number of discrepancies found during a <code class="literal">check</code> operation.
			</p><p>
				The <code class="literal">Cpy%Sync</code> field of the <code class="literal command">lvs</code> command now prints the progress of any of the <code class="literal">raid_sync_action</code> operations, including <code class="literal">check</code> and <code class="literal">repair</code>.
			</p><p>
				The <code class="literal">lv_attr</code> field of the <code class="literal command">lvs</code> command output now provides additional indicators in support of the RAID scrubbing operation. Bit 9 of this field displays the health of the logical volume, and it now supports the following indicators.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						(<span class="emphasis"><em>m</em></span>)ismatches indicates that there are discrepancies in a RAID logical volume. This character is shown after a scrubbing operation has detected that portions of the RAID are not coherent.
					</li><li class="listitem">
						(<span class="emphasis"><em>r</em></span>)efresh indicates that a device in a RAID array has suffered a failure and the kernel regards it as failed, even though LVM can read the device label and considers the device to be operational. The logical volume should be (r)efreshed to notify the kernel that the device is now available, or the device should be (r)eplaced if it is suspected of having failed.
					</li></ul></div><p>
				When you perform a RAID scrubbing operation, the background I/O required by the <code class="literal">sync</code> operations can crowd out other I/O operations to LVM devices, such as updates to volume group metadata. This can cause the other LVM operations to slow down. You can control the rate at which the RAID logical volume is scrubbed by implementing recovery throttling.
			</p><p>
				You control the rate at which <code class="literal">sync</code> operations are performed by setting the minimum and maximum I/O rate for those operations with the <code class="literal option">--minrecoveryrate</code> and <code class="literal option">--maxrecoveryrate</code> options of the <code class="literal command">lvchange</code> command. You specify these options as follows.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">--maxrecoveryrate <span class="emphasis"><em>Rate</em></span>[bBsSkKmMgG]</code>
					</p><p class="simpara">
						Sets the maximum recovery rate for a RAID logical volume so that it will not crowd out nominal I/O operations. The <span class="emphasis"><em>Rate</em></span> is specified as an amount per second for each device in the array. If no suffix is given, then kiB/sec/device is assumed. Setting the recovery rate to 0 means it will be unbounded.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">--minrecoveryrate <span class="emphasis"><em>Rate</em></span>[bBsSkKmMgG]</code>
					</p><p class="simpara">
						Sets the minimum recovery rate for a RAID logical volume to ensure that I/O for <code class="literal">sync</code> operations achieves a minimum throughput, even when heavy nominal I/O is present. The <span class="emphasis"><em>Rate</em></span> is specified as an amount per second for each device in the array. If no suffix is given, then kiB/sec/device is assumed.
					</p></li></ul></div></section><section class="section" id="proc-raid-takeover-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.14. Converting a RAID level (RAID takeover)</h2></div></div></div><p>
				LVM supports Raid <span class="emphasis"><em>takeover</em></span>, which means converting a RAID logical volume from one RAID level to another (such as from RAID 5 to RAID 6). Changing the RAID level is usually done to increase or decrease resilience to device failures or to restripe logical volumes. You use the <code class="literal command">lvconvert</code> for RAID takeover. For information on RAID takeover and for examples of using the <code class="literal command">lvconvert</code> to convert a RAID logical volume, see the <code class="literal command">lvmraid</code>(7) man page.
			</p></section><section class="section" id="proc-raid-reshape-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.15. Changing attributes of a RAID volume (RAID reshape)</h2></div></div></div><p>
				RAID <span class="emphasis"><em>reshaping</em></span> means changing attributes of a RAID logical volume while keeping the same RAID level. Some attributes you can change include RAID layout, stripe size, and number of stripes. For information on RAID reshaping and examples of using the <code class="literal command">lvconvert</code> command to reshape a RAID logical volume, see the <code class="literal command">lvmraid</code>(7) man page.
			</p></section><section class="section" id="proc-controlling-raid-io-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.16. Controlling I/O Operations on a RAID1 logical volume</h2></div></div></div><p>
				You can control the I/O operations for a device in a RAID1 logical volume by using the <code class="literal">--writemostly</code> and <code class="literal">--writebehind</code> parameters of the <code class="literal command">lvchange</code> command. The format for using these parameters is as follows.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">--[raid]writemostly <span class="emphasis"><em>PhysicalVolume</em></span>[:{t|y|n}]</code>
					</p><p class="simpara">
						Marks a device in a RAID1 logical volume as <code class="literal">write-mostly</code>. All reads to these drives will be avoided unless necessary. Setting this parameter keeps the number of I/O operations to the drive to a minimum. By default, the <code class="literal">write-mostly</code> attribute is set to yes for the specified physical volume in the logical volume. It is possible to remove the <code class="literal">write-mostly</code> flag by appending <code class="literal">:n</code> to the physical volume or to toggle the value by specifying <code class="literal">:t</code>. The <code class="literal">--writemostly</code> argument can be specified more than one time in a single command, making it possible to toggle the write-mostly attributes for all the physical volumes in a logical volume at once.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">--[raid]writebehind <span class="emphasis"><em>IOCount</em></span></code>
					</p><p class="simpara">
						Specifies the maximum number of outstanding writes that are allowed to devices in a RAID1 logical volume that are marked as <code class="literal">write-mostly</code>. Once this value is exceeded, writes become synchronous, causing all writes to the constituent devices to complete before the array signals the write has completed. Setting the value to zero clears the preference and allows the system to choose the value arbitrarily.
					</p></li></ul></div></section><section class="section" id="proc-changing-raid-regionsize-configure-manage-raid"><div class="titlepage"><div><div><h2 class="title">9.17. Changing the region size on a RAID logical volume</h2></div></div></div><p>
				When you create a RAID logical volume, the region size for the logical volume will be the value of the <code class="literal">raid_region_size</code> parameter in the <code class="literal">/etc/lvm/lvm.conf</code> file. You can override this default value with the <code class="literal option">-R</code> option of the <code class="literal command">lvcreate</code> command.
			</p><p>
				After you have created a RAID logical volume, you can change the region size of the volume with the <code class="literal option">-R</code> option of the <code class="literal command">lvconvert</code> command. The following example changes the region size of logical volume <code class="literal">vg/raidlv</code> to 4096K. The RAID volume must be synced in order to change the region size.
			</p><pre class="literallayout"># <code class="literal">lvconvert -R 4096K vg/raid1</code>
Do you really want to change the region_size 512.00 KiB of LV vg/raid1 to 4.00 MiB? [y/n]: <code class="literal">y</code>
  Changed region size on RAID LV vg/raid1 to 4.00 MiB.</pre></section></section><section class="chapter" id="assembly_snapshot-volumes-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Snapshot logical volumes</h1></div></div></div><p>
			The LVM snapshot feature provides the ability to create virtual images of a device at a particular instant without causing a service interruption.
		</p><section class="section" id="con_snapshot_volumes_snapshot-volumes"><div class="titlepage"><div><div><h2 class="title">10.1. Snapshot Volumes</h2></div></div></div><p>
				The LVM snapshot feature provides the ability to create virtual images of a device at a particular instant without causing a service interruption. When a change is made to the original device (the origin) after a snapshot is taken, the snapshot feature makes a copy of the changed data area as it was prior to the change so that it can reconstruct the state of the device.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					LVM supports thinly-provisioned snapshots.
				</p></div></div><p>
				Because a snapshot copies only the data areas that change after the snapshot is created, the snapshot feature requires a minimal amount of storage. For example, with a rarely updated origin, 3-5 % of the origin’s capacity is sufficient to maintain the snapshot.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Snapshot copies of a file system are virtual copies, not an actual media backup for a file system. Snapshots do not provide a substitute for a backup procedure.
				</p></div></div><p>
				The size of the snapshot governs the amount of space set aside for storing the changes to the origin volume. For example, if you made a snapshot and then completely overwrote the origin the snapshot would have to be at least as big as the origin volume to hold the changes. You need to dimension a snapshot according to the expected level of change. So for example a short-lived snapshot of a read-mostly volume, such as <code class="literal">/usr</code>, would need less space than a long-lived snapshot of a volume that sees a greater number of writes, such as <code class="literal">/home</code>.
			</p><p>
				If a snapshot runs full, the snapshot becomes invalid, since it can no longer track changes on the origin volume. You should regularly monitor the size of the snapshot. Snapshots are fully resizable, however, so if you have the storage capacity you can increase the size of the snapshot volume to prevent it from getting dropped. Conversely, if you find that the snapshot volume is larger than you need, you can reduce the size of the volume to free up space that is needed by other logical volumes.
			</p><p>
				When you create a snapshot file system, full read and write access to the origin stays possible. If a chunk on a snapshot is changed, that chunk is marked and never gets copied from the original volume.
			</p><p>
				There are several uses for the snapshot feature:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Most typically, a snapshot is taken when you need to perform a backup on a logical volume without halting the live system that is continuously updating the data.
					</li><li class="listitem">
						You can execute the <code class="literal command">fsck</code> command on a snapshot file system to check the file system integrity and determine whether the original file system requires file system repair.
					</li><li class="listitem">
						Because the snapshot is read/write, you can test applications against production data by taking a snapshot and running tests against the snapshot, leaving the real data untouched.
					</li><li class="listitem">
						You can create LVM volumes for use with Red Hat Virtualization. LVM snapshots can be used to create snapshots of virtual guest images. These snapshots can provide a convenient way to modify existing guests or create new guests with minimal additional storage.
					</li></ul></div><p>
				You can use the <code class="literal option">--merge</code> option of the <code class="literal command">lvconvert</code> command to merge a snapshot into its origin volume. One use for this feature is to perform system rollback if you have lost data or files or otherwise need to restore your system to a previous state. After you merge the snapshot volume, the resulting logical volume will have the origin volume’s name, minor number, and UUID and the merged snapshot is removed.
			</p></section><section class="section" id="proc_creating-snapshot-volumes-snapshot-volumes"><div class="titlepage"><div><div><h2 class="title">10.2. Creating snapshot volumes</h2></div></div></div><p>
				Use the <code class="literal option">-s</code> argument of the <code class="literal command">lvcreate</code> command to create a snapshot volume. A snapshot volume is writable.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					LVM snapshots are not supported across the nodes in a cluster. You cannot create a snapshot volume in a shared volume group. However, if you need to create a consistent backup of data on a shared logical volume you can activate the volume exclusively and then create the snapshot.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Snapshots are supported for RAID logical volumes.
				</p></div></div><p>
				LVM does not allow you to create a snapshot volume that is larger than the size of the origin volume plus needed metadata for the volume. If you specify a snapshot volume that is larger than this, the system will create a snapshot volume that is only as large as will be needed for the size of the origin.
			</p><p>
				By default, a snapshot volume is skipped during normal activation commands.
			</p><p>
				The following procedure creates an origin logical volume named <code class="literal">origin</code> and a snapshot volume of the original volume named <code class="literal">snap</code>.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a logical volume named <code class="literal">origin</code> from the volume group <code class="literal">VG</code>.
					</p><pre class="literallayout"># <code class="literal">lvcreate -L 1G -n origin VG</code>
  Logical volume "origin" created.</pre></li><li class="listitem"><p class="simpara">
						Create a snapshot logical volume of <code class="literal">/dev/VG/origin</code> that is 100 MB in size named <code class="literal">snap</code>. If the original logical volume contains a file system, you can mount the snapshot logical volume on an arbitrary directory in order to access the contents of the file system to run a backup while the original file system continues to get updated.
					</p><pre class="literallayout"># <code class="literal">lvcreate --size 100M --snapshot --name snap /dev/VG/origin</code>
  Logical volume "snap" created.</pre></li><li class="listitem"><p class="simpara">
						Display the status of logical volume <code class="literal">/dev/VG/origin</code>, showing all snapshot logical volumes and their status (active or inactive).
					</p><pre class="literallayout"># <code class="literal">lvdisplay /dev/VG/origin</code>
  --- Logical volume ---
  LV Path                /dev/VG/origin
  LV Name                origin
  VG Name                VG
  LV UUID                EsFoBp-CB9H-Epl5-pUO4-Yevi-EdFS-xtFnaF
  LV Write Access        read/write
  LV Creation host, time host-083.virt.lab.msp.redhat.com, 2019-04-11 14:45:06 -0500
  LV snapshot status     source of
                         snap [active]
  LV Status              available
  # open                 0
  LV Size                1.00 GiB
  Current LE             256
  Segments               1
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     8192
  Block device           253:6</pre></li><li class="listitem">
						The <code class="literal command">lvs</code> command, by default, displays the origin volume and the current percentage of the snapshot volume being used. The following example shows the default output for the <code class="literal command">lvs</code> command after you have created the snapshot volume, with a display that includes the devices that constitute the logical volumes.
					</li></ol></div><pre class="literallayout"># <code class="literal">lvs -a -o +devices</code>
  LV              VG            Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices
  origin          VG            owi-a-s---   1.00g                                                       /dev/sde1(0)
  snap            VG            swi-a-s--- 100.00m        origin 0.00                                    /dev/sde1(256)</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Because the snapshot increases in size as the origin volume changes, it is important to monitor the percentage of the snapshot volume regularly with the <code class="literal command">lvs</code> command to be sure it does not fill. A snapshot that is 100% full is lost completely, as a write to unchanged parts of the origin would be unable to succeed without corrupting the snapshot.
				</p></div></div><p>
				In addition to the snapshot itself being invalidated when full, any mounted file systems on that snapshot device are forcibly unmounted, avoiding the inevitable file system errors upon access to the mount point. In addition, you can specify the <code class="literal">snapshot_autoextend_threshold</code> option in the <code class="literal">lvm.conf</code> file. This option allows automatic extension of a snapshot whenever the remaining snapshot space drops below the threshold you set. This feature requires that there be unallocated space in the volume group.
			</p><p>
				LVM does not allow you to create a snapshot volume that is larger than the size of the origin volume plus needed metadata for the volume. Similarly, automatic extension of a snapshot will not increase the size of a snapshot volume beyond the maximum calculated size that is necessary for the snapshot. Once a snapshot has grown large enough to cover the origin, it is no longer monitored for automatic extension.
			</p><p>
				Information on setting <code class="literal">snapshot_autoextend_threshold</code> and <code class="literal">snapshot_autoextend_percent</code> is provided in the <code class="literal">/etc/lvm/lvm.conf</code> file itself.
			</p></section><section class="section" id="proc_merging-snapshot-volumes-snapshot-volumes"><div class="titlepage"><div><div><h2 class="title">10.3. Merging snapshot volumes</h2></div></div></div><p>
				You can use the <code class="literal option">--merge</code> option of the <code class="literal command">lvconvert</code> command to merge a snapshot into its origin volume. If both the origin and snapshot volume are not open, the merge will start immediately. Otherwise, the merge will start the first time either the origin or snapshot are activated and both are closed. Merging a snapshot into an origin that cannot be closed, for example a root file system, is deferred until the next time the origin volume is activated. When merging starts, the resulting logical volume will have the origin’s name, minor number and UUID. While the merge is in progress, reads or writes to the origin appear as they were directed to the snapshot being merged. When the merge finishes, the merged snapshot is removed.
			</p><p>
				The following command merges snapshot volume <code class="literal">vg00/lvol1_snap</code> into its origin.
			</p><pre class="literallayout"># <code class="literal">lvconvert --merge vg00/lvol1_snap</code></pre><p>
				You can specify multiple snapshots on the command line, or you can use LVM object tags to specify that multiple snapshots be merged to their respective origins. In the following example, logical volumes <code class="literal">vg00/lvol1</code>, <code class="literal">vg00/lvol2</code>, and <code class="literal">vg00/lvol3</code> are all tagged with the tag <code class="literal">@some_tag</code>. The following command merges the snapshot logical volumes for all three volumes serially: <code class="literal">vg00/lvol1</code>, then <code class="literal">vg00/lvol2</code>, then <code class="literal">vg00/lvol3</code>. If the <code class="literal option">--background</code> option were used, all snapshot logical volume merges would start in parallel.
			</p><pre class="literallayout"># <code class="literal">lvconvert --merge @some_tag</code></pre><p>
				For further information on the <code class="literal command">lvconvert --merge</code> command, see the <code class="literal command">lvconvert</code>(8) man page.
			</p></section></section><section class="chapter" id="assembly_thinly-provisioned-logical-volumes_configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Creating and managing thinly-provisioned logical volumes (thin volumes)</h1></div></div></div><p>
			Logical volumes can be thinly provisioned. This allows you to create logical volumes that are larger than the available extents.
		</p><section class="section" id="con_thin-volumes_thinly-provisioned-logical-volumes"><div class="titlepage"><div><div><h2 class="title">11.1. Thinly-provisioned logical volumes (thin volumes)</h2></div></div></div><p>
				Logical volumes can be thinly provisioned. This allows you to create logical volumes that are larger than the available extents. Using thin provisioning, you can manage a storage pool of free space, known as a thin pool, which can be allocated to an arbitrary number of devices when needed by applications. You can then create devices that can be bound to the thin pool for later allocation when an application actually writes to the logical volume. The thin pool can be expanded dynamically when needed for cost-effective allocation of storage space.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Thin volumes are not supported across the nodes in a cluster. The thin pool and all its thin volumes must be exclusively activated on only one cluster node.
				</p></div></div><p>
				By using thin provisioning, a storage administrator can overcommit the physical storage, often avoiding the need to purchase additional storage. For example, if ten users each request a 100GB file system for their application, the storage administrator can create what appears to be a 100GB file system for each user but which is backed by less actual storage that is used only when needed. When using thin provisioning, it is important that the storage administrator monitor the storage pool and add more capacity if it starts to become full.
			</p><p>
				To make sure that all available space can be used, LVM supports data discard. This allows for re-use of the space that was formerly used by a discarded file or other block range.
			</p><p>
				Thin volumes provide support for a new implementation of copy-on-write (COW) snapshot logical volumes, which allow many virtual devices to share the same data in the thin pool.
			</p></section><section class="section" id="creating_thinly_provisioned_logical_volumes"><div class="titlepage"><div><div><h2 class="title">11.2. Creating thinly-provisioned logical volumes</h2></div></div></div><p>
				This procedure provides an overview of the basic commands you use to create and grow thinly-provisioned logical volumes. For detailed information on LVM thin provisioning as well as information on using the LVM commands and utilities with thinly-provisioned logical volumes, see the <code class="literal command">lvmthin</code>(7) man page.
			</p><p>
				To create a thin volume, perform the following tasks:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Create a volume group with the <code class="literal command">vgcreate</code> command.
					</li><li class="listitem">
						Create a thin pool with the <code class="literal command">lvcreate</code> command.
					</li><li class="listitem">
						Create a thin volume in the thin pool with the <code class="literal command">lvcreate</code> command.
					</li></ol></div><p>
				You can use the <code class="literal option">-T</code> (or <code class="literal option">--thin</code>) option of the <code class="literal command">lvcreate</code> command to create either a thin pool or a thin volume. You can also use <code class="literal option">-T</code> option of the <code class="literal command">lvcreate</code> command to create both a thin pool and a thin volume in that pool at the same time with a single command.
			</p><p>
				The following command uses the <code class="literal option">-T</code> option of the <code class="literal command">lvcreate</code> command to create a thin pool named <code class="literal">mythinpool</code> in the volume group <code class="literal">vg001</code> and that is 100M in size. Note that since you are creating a pool of physical space, you must specify the size of the pool. The <code class="literal option">-T</code> option of the <code class="literal command">lvcreate</code> command does not take an argument; it deduces what type of device is to be created from the other options the command specifies.
			</p><pre class="literallayout"># <code class="literal">lvcreate -L 100M -T vg001/mythinpool</code>
  Thin pool volume with chunk size 64.00 KiB can address at most 15.81 TiB of data.
  Logical volume "mythinpool" created.
# <code class="literal">lvs</code>
  LV         VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  mythinpool vg001 twi-a-tz-- 100.00m             0.00   10.84</pre><p>
				The following command uses the <code class="literal option">-T</code> option of the <code class="literal command">lvcreate</code> command to create a thin volume named <code class="literal">thinvolume</code> in the thin pool <code class="literal">vg001/mythinpool</code>. Note that in this case you are specifying virtual size, and that you are specifying a virtual size for the volume that is greater than the pool that contains it.
			</p><pre class="literallayout"># <code class="literal">lvcreate -V 1G -T vg001/mythinpool -n thinvolume</code>
  WARNING: Sum of all thin volume sizes (1.00 GiB) exceeds the size of thin pool vg001/mythinpool (100.00 MiB).
  WARNING: You have not turned on protection against thin pools running out of space.
  WARNING: Set activation/thin_pool_autoextend_threshold below 100 to trigger automatic extension of thin pools before they get full.
  Logical volume "thinvolume" created.
# <code class="literal">lvs</code>
  LV          VG       Attr     LSize   Pool       Origin Data%  Move Log Copy%  Convert
  mythinpool  vg001    twi-a-tz 100.00m                     0.00
  thinvolume  vg001    Vwi-a-tz   1.00g mythinpool          0.00</pre><p>
				The following command uses the <code class="literal option">-T</code> option of the <code class="literal command">lvcreate</code> command to create a thin pool and a thin volume in that pool by specifying both a size and a virtual size argument for the <code class="literal command">lvcreate</code> command. This command creates a thin pool named <code class="literal">mythinpool</code> in the volume group <code class="literal">vg001</code> and it also creates a thin volume named <code class="literal">thinvolume</code> in that pool.
			</p><pre class="literallayout"># <code class="literal">lvcreate -L 100M -T vg001/mythinpool -V 1G -n thinvolume</code>
  Thin pool volume with chunk size 64.00 KiB can address at most 15.81 TiB of data.
  WARNING: Sum of all thin volume sizes (1.00 GiB) exceeds the size of thin pool vg001/mythinpool (100.00 MiB).
  WARNING: You have not turned on protection against thin pools running out of space.
  WARNING: Set activation/thin_pool_autoextend_threshold below 100 to trigger automatic extension of thin pools before they get full.
  Logical volume "thinvolume" created.
# <code class="literal">lvs</code>
  LV         VG    Attr       LSize   Pool       Origin Data%  Meta%  Move Log Cpy%Sync Convert
  mythinpool vg001 twi-aotz-- 100.00m                   0.00   10.94
  thinvolume vg001 Vwi-a-tz--   1.00g mythinpool        0.00</pre><p>
				You can also create a thin pool by specifying the <code class="literal">--thinpool</code> parameter of the <code class="literal command">lvcreate</code> command. Unlike the <code class="literal option">-T</code> option, the <code class="literal">--thinpool</code> parameter requires an argument, which is the name of the thin pool logical volume that you are creating. The following example specifies the <code class="literal">--thinpool</code> parameter of the <code class="literal command">lvcreate</code> command to create a thin pool named <code class="literal">mythinpool</code> in the volume group <code class="literal">vg001</code> and that is 100M in size:
			</p><pre class="literallayout"># <code class="literal">lvcreate -L 100M --thinpool mythinpool vg001</code>
  Thin pool volume with chunk size 64.00 KiB can address at most 15.81 TiB of data.
  Logical volume "mythinpool" created.
# <code class="literal">lvs</code>
  LV         VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  mythinpool vg001 twi-a-tz-- 100.00m             0.00   10.84</pre><p>
				Striping is supported for pool creation. The following command creates a 100M thin pool named <code class="literal">pool</code> in volume group <code class="literal">vg001</code> with two 64 kB stripes and a chunk size of 256 kB. It also creates a 1T thin volume, <code class="literal">vg00/thin_lv</code>.
			</p><pre class="literallayout"># <code class="literal">lvcreate -i 2 -I 64 -c 256 -L 100M -T vg00/pool -V 1T --name thin_lv</code></pre><p>
				You can extend the size of a thin volume with the <code class="literal command">lvextend</code> command. You cannot, however, reduce the size of a thin pool.
			</p><p>
				The following command resizes an existing thin pool that is 100M in size by extending it another 100M.
			</p><pre class="literallayout"># <code class="literal">lvextend -L+100M vg001/mythinpool</code>
  Extending logical volume mythinpool to 200.00 MiB
  Logical volume mythinpool successfully resized
# <code class="literal">lvs</code>
  LV           VG       Attr     LSize   Pool     Origin Data%  Move Log Copy%  Convert
  mythinpool   vg001    twi-a-tz 200.00m                   0.00
  thinvolume   vg001    Vwi-a-tz   1.00g mythinpool          0.00</pre><p>
				As with other types of logical volumes, you can rename the volume with the <code class="literal command">lvrename</code>, you can remove the volume with the <code class="literal command">lvremove</code>, and you can display information about the volume with the <code class="literal command">lvs</code> and <code class="literal command">lvdisplay</code> commands.
			</p><p>
				By default, the <code class="literal command">lvcreate</code> command sets the size of the thin pool’s metadata logical volume according to the formula (Pool_LV_size / Pool_LV_chunk_size * 64). If you will have large numbers of snapshots or if you have have small chunk sizes for your thin pool and thus expect significant growth of the size of the thin pool at a later time, you may need to increase the default value of the thin pool’s metadata volume with the <code class="literal option">--poolmetadatasize</code> parameter of the <code class="literal command">lvcreate</code> command. The supported value for the thin pool’s metadata logical volume is in the range between 2MiB and 16GiB.
			</p><p>
				You can use the <code class="literal option">--thinpool</code> parameter of the <code class="literal command">lvconvert</code> command to convert an existing logical volume to a thin pool volume. When you convert an existing logical volume to a thin pool volume, you must use the <code class="literal option">--poolmetadata</code> parameter in conjunction with the <code class="literal option">--thinpool</code> parameter of the <code class="literal command">lvconvert</code> to convert an existing logical volume to the thin pool volume’s metadata volume.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Converting a logical volume to a thin pool volume or a thin pool metadata volume destroys the content of the logical volume, since in this case the <code class="literal command">lvconvert</code> does not preserve the content of the devices but instead overwrites the content.
				</p></div></div><p>
				The following example converts the existing logical volume <code class="literal">lv1</code> in volume group <code class="literal">vg001</code> to a thin pool volume and converts the existing logical volume <code class="literal">lv2</code> in volume group <code class="literal">vg001</code> to the metadata volume for that thin pool volume.
			</p><pre class="literallayout"># <code class="literal">lvconvert --thinpool vg001/lv1 --poolmetadata vg001/lv2</code>
  Converted vg001/lv1 to thin pool.</pre></section><section class="section" id="con_thin-snapshot-volumes_thinly-provisioned-logical-volumes"><div class="titlepage"><div><div><h2 class="title">11.3. Thinly-provisioned snapshot volumes</h2></div></div></div><p>
				Red Hat Enterprise Linux provides support for thinly-provisioned snapshot volumes. Thin snapshot volumes allow many virtual devices to be stored on the same data volume. This simplifies administration and allows for the sharing of data between snapshot volumes.
			</p><p>
				As for all LVM snapshot volumes, as well as all thin volumes, thin snapshot volumes are not supported across the nodes in a cluster. The snapshot volume must be exclusively activated on only one cluster node.
			</p><p>
				Thin snapshot volumes provide the following benefits:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A thin snapshot volume can reduce disk usage when there are multiple snapshots of the same origin volume.
					</li><li class="listitem">
						If there are multiple snapshots of the same origin, then a write to the origin will cause one COW operation to preserve the data. Increasing the number of snapshots of the origin should yield no major slowdown.
					</li><li class="listitem">
						Thin snapshot volumes can be used as a logical volume origin for another snapshot. This allows for an arbitrary depth of recursive snapshots (snapshots of snapshots of snapshots…​).
					</li><li class="listitem">
						A snapshot of a thin logical volume also creates a thin logical volume. This consumes no data space until a COW operation is required, or until the snapshot itself is written.
					</li><li class="listitem">
						A thin snapshot volume does not need to be activated with its origin, so a user may have only the origin active while there are many inactive snapshot volumes of the origin.
					</li><li class="listitem">
						When you delete the origin of a thinly-provisioned snapshot volume, each snapshot of that origin volume becomes an independent thinly-provisioned volume. This means that instead of merging a snapshot with its origin volume, you may choose to delete the origin volume and then create a new thinly-provisioned snapshot using that independent volume as the origin volume for the new snapshot.
					</li></ul></div><p>
				Although there are many advantages to using thin snapshot volumes, there are some use cases for which the older LVM snapshot volume feature may be more appropriate to your needs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You cannot change the chunk size of a thin pool. If the thin pool has a large chunk size (for example, 1MB) and you require a short-living snapshot for which a chunk size that large is not efficient, you may elect to use the older snapshot feature.
					</li><li class="listitem">
						You cannot limit the size of a thin snapshot volume; the snapshot will use all of the space in the thin pool, if necessary. This may not be appropriate for your needs.
					</li></ul></div><p>
				In general, you should consider the specific requirements of your site when deciding which snapshot format to use.
			</p></section><section class="section" id="creating_thinly_provisioned_snapshot_volumes"><div class="titlepage"><div><div><h2 class="title">11.4. Creating thinly-provisioned snapshot volumes</h2></div></div></div><p>
				Red Hat Enterprise Linux provides support for thinly-provisioned snapshot volumes.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					This section provides an overview of the basic commands you use to create and grow thinly-provisioned snapshot volumes. For detailed information on LVM thin provisioning as well as information on using the LVM commands and utilities with thinly-provisioned logical volumes, see the <code class="literal command">lvmthin</code>(7) man page.
				</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					When creating a thin snapshot volume, you do not specify the size of the volume. If you specify a size parameter, the snapshot that will be created will not be a thin snapshot volume and will not use the thin pool for storing data. For example, the command <code class="literal">lvcreate -s vg/thinvolume -L10M</code> will not create a thin snapshot, even though the origin volume is a thin volume.
				</p></div></div><p>
				Thin snapshots can be created for thinly-provisioned origin volumes, or for origin volumes that are not thinly-provisioned.
			</p><p>
				You can specify a name for the snapshot volume with the <code class="literal option">--name</code> option of the <code class="literal command">lvcreate</code> command. The following command creates a thinly-provisioned snapshot volume of the thinly-provisioned logical volume <code class="literal">vg001/thinvolume</code> that is named <code class="literal">mysnapshot1</code>.
			</p><pre class="literallayout"># <code class="literal">lvcreate -s --name mysnapshot1 vg001/thinvolume</code>
  Logical volume "mysnapshot1" created
# <code class="literal">lvs</code>
  LV          VG       Attr     LSize   Pool       Origin     Data%  Move Log Copy%  Convert
  mysnapshot1 vg001    Vwi-a-tz   1.00g mythinpool thinvolume   0.00
  mythinpool  vg001    twi-a-tz 100.00m                         0.00
  thinvolume  vg001    Vwi-a-tz   1.00g mythinpool              0.00</pre><p>
				A thin snapshot volume has the same characteristics as any other thin volume. You can independently activate the volume, extend the volume, rename the volume, remove the volume, and even snapshot the volume.
			</p><p>
				By default, a snapshot volume is skipped during normal activation commands. For information on controlling the activation of a logical volume, see <a class="link" href="index.html#assembly_lvm-activation-configuring-and-managing-logical-volumes" title="Chapter 13. Logical volume activation">Logical volume activation</a>.
			</p><p>
				You can also create a thinly-provisioned snapshot of a non-thinly-provisioned logical volume. Since the non-thinly-provisioned logical volume is not contained within a thin pool, it is referred to as an <span class="emphasis"><em>external origin</em></span>. External origin volumes can be used and shared by many thinly-provisioned snapshot volumes, even from different thin pools. The external origin must be inactive and read-only at the time the thinly-provisioned snapshot is created.
			</p><p>
				To create a thinly-provisioned snapshot of an external origin, you must specify the <code class="literal option">--thinpool</code> option. The following command creates a thin snapshot volume of the read-only inactive volume <code class="literal">origin_volume</code>. The thin snapshot volume is named <code class="literal">mythinsnap</code>. The logical volume <code class="literal">origin_volume</code> then becomes the thin external origin for the thin snapshot volume <code class="literal">mythinsnap</code> in volume group <code class="literal">vg001</code> that will use the existing thin pool <code class="literal">vg001/pool</code>. Because the origin volume must be in the same volume group as the snapshot volume, you do not need to specify the volume group when specifying the origin logical volume.
			</p><pre class="literallayout"># <code class="literal">lvcreate -s --thinpool vg001/pool origin_volume --name mythinsnap</code></pre><p>
				You can create a second thinly-provisioned snapshot volume of the first snapshot volume, as in the following command.
			</p><pre class="literallayout"># <code class="literal">lvcreate -s vg001/mythinsnap --name my2ndthinsnap</code></pre><p>
				You can display a list of all ancestors and descendants of a thin snapshot logical volume by specifying the <code class="literal">lv_ancestors</code> and <code class="literal">lv_descendants</code> reporting fields of the <code class="literal command">lvs</code> command.
			</p><p>
				In the following example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">stack1</code> is an origin volume in volume group <code class="literal">vg001</code>.
					</li><li class="listitem">
						<code class="literal">stack2</code> is a snapshot of <code class="literal">stack1</code>
					</li><li class="listitem">
						<code class="literal">stack3</code> is a snapshot of <code class="literal">stack2</code>
					</li><li class="listitem">
						<code class="literal">stack4</code> is a snapshot of <code class="literal">stack3</code>
					</li></ul></div><p>
				Additionally:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">stack5</code> is also a snapshot of <code class="literal">stack2</code>
					</li><li class="listitem">
						<code class="literal">stack6</code> is a snapshot of <code class="literal">stack5</code>
					</li></ul></div><pre class="literallayout">$ <code class="literal">lvs -o name,lv_ancestors,lv_descendants vg001</code>
  LV      Ancestors              Descendants
  stack1                         stack2,stack3,stack4,stack5,stack6
  stack2  stack1                 stack3,stack4,stack5,stack6
  stack3  stack2,stack1          stack4
  stack4  stack3,stack2,stack1
  stack5  stack2,stack1          stack6
  stack6  stack5,stack2,stack1
  pool</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">lv_ancestors</code> and <code class="literal">lv_descendants</code> fields display existing dependencies but do not track removed entries which can break a dependency chain if the entry was removed from the middle of the chain. For example, if you remove the logical volume <code class="literal">stack3</code> from this sample configuration, the display is as follows.
				</p><pre class="literallayout">$ <code class="literal">lvs -o name,lv_ancestors,lv_descendants vg001</code>
  LV      Ancestors              Descendants
  stack1                         stack2,stack5,stack6
  stack2  stack1                 stack5,stack6
  stack4
  stack5  stack2,stack1          stack6
  stack6  stack5,stack2,stack1
  pool</pre><p>
					You can configure your system to track and display logical volumes that have been removed, and you can display the full dependency chain that includes those volumes by specifying the <code class="literal">lv_ancestors_full</code> and <code class="literal">lv_descendants_full</code> fields.
				</p></div></div></section><section class="section" id="tracking_and_displaying_thin_snapshot_volumes_that_have_been_removed"><div class="titlepage"><div><div><h2 class="title">11.5. Tracking and displaying thin snapshot volumes that have been removed</h2></div></div></div><p>
				You can configure your system to track thin snapshot and thin logical volumes that have been removed by enabling the <code class="literal">record_lvs_history</code> metadata option in the <code class="literal">lvm.conf</code> configuration file. This allows you to display a full thin snapshot dependency chain that includes logical volumes that have been removed from the original dependency chain and have become <span class="emphasis"><em>historical</em></span> logical volumes.
			</p><p>
				You can configure your system to retain historical volumes for a defined period of time by specifying the retention time, in seconds, with the <code class="literal">lvs_history_retention_time</code> metadata option in the <code class="literal">lvm.conf</code> configuration file.
			</p><p>
				A historical logical volume retains a simplified representation of the logical volume that has been removed, including the following reporting fields for the volume:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">lv_time_removed</code>: the removal time of the logical volume
					</li><li class="listitem">
						<code class="literal">lv_time</code>: the creation time of the logical volume
					</li><li class="listitem">
						<code class="literal">lv_name</code>: the name of the logical volume
					</li><li class="listitem">
						<code class="literal">lv_uuid</code>: the UUID of the logical volume
					</li><li class="listitem">
						<code class="literal">vg_name</code>: the volume group that contains the logical volume.
					</li></ul></div><p>
				When a volume is removed, the historical logical volume name acquires a hypen as a prefix. For example, when you remove the logical volume <code class="literal">lvol1</code>, the name of the historical volume is <code class="literal">-lvol1</code>. A historical logical volume cannot be reactivated.
			</p><p>
				Even when the <code class="literal">record_lvs_history</code> metadata option enabled, you can prevent the retention of historical logical volumes on an individual basis when you remove a logical volume by specifying the <code class="literal option">--nohistory</code> option of the <code class="literal command">lvremove</code> command.
			</p><p>
				To include historical logical volumes in volume display, you specify the <code class="literal option">-H|--history</code> option of an LVM display command. You can display a full thin snapshot dependency chain that includes historical volumes by specifying the <code class="literal">lv_full_ancestors</code> and <code class="literal">lv_full_descendants</code> reporting fields along with the <code class="literal option">-H</code> option.
			</p><p>
				The following series of commands provides examples of how you can display and manage historical logical volumes.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Ensure that historical logical volumes are retained by setting <code class="literal">record_lvs_history=1</code> in the <code class="literal">lvm.conf</code> file. This metadata option is not enabled by default.
					</li><li class="listitem"><p class="simpara">
						Enter the following command to display a thin provisioned snapshot chain.
					</p><p class="simpara">
						In this example:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">lvol1</code> is an origin volume, the first volume in the chain.
							</li><li class="listitem">
								<code class="literal">lvol2</code> is a snapshot of <code class="literal">lvol1</code>.
							</li><li class="listitem">
								<code class="literal">lvol3</code> is a snapshot of <code class="literal">lvol2</code>.
							</li><li class="listitem">
								<code class="literal">lvol4</code> is a snapshot of <code class="literal">lvol3</code>.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">lvol5</code> is also a snapshot of <code class="literal">lvol3</code>.
							</p><p class="simpara">
								Note that even though the example <code class="literal command">lvs</code> display command includes the <code class="literal option">-H</code> option, no thin snapshot volume has yet been removed and there are no historical logical volumes to display.
							</p><pre class="literallayout"># <code class="literal">lvs -H -o name,full_ancestors,full_descendants</code>
  LV    FAncestors        FDescendants
  lvol1                   lvol2,lvol3,lvol4,lvol5
  lvol2 lvol1             lvol3,lvol4,lvol5
  lvol3 lvol2,lvol1       lvol4,lvol5
  lvol4 lvol3,lvol2,lvol1
  lvol5 lvol3,lvol2,lvol1
  pool</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Remove logical volume <code class="literal">lvol3</code> from the snapshot chain, then run the following <code class="literal command">lvs</code> command again to see how historical logical volumes are displayed, along with their ancestors and descendants.
					</p><pre class="literallayout"># <code class="literal">lvremove -f vg/lvol3</code>
  Logical volume "lvol3" successfully removed
# <code class="literal">lvs -H -o name,full_ancestors,full_descendants</code>
  LV     FAncestors         FDescendants
  lvol1                     lvol2,-lvol3,lvol4,lvol5
  lvol2  lvol1              -lvol3,lvol4,lvol5
  -lvol3 lvol2,lvol1        lvol4,lvol5
  lvol4  -lvol3,lvol2,lvol1
  lvol5  -lvol3,lvol2,lvol1
  pool</pre></li><li class="listitem"><p class="simpara">
						You can use the <code class="literal">lv_time_removed</code> reporting field to display the time a historical volume was removed.
					</p><pre class="literallayout"># <code class="literal">lvs -H -o name,full_ancestors,full_descendants,time_removed</code>
  LV     FAncestors         FDescendants              RTime
  lvol1                     lvol2,-lvol3,lvol4,lvol5
  lvol2  lvol1              -lvol3,lvol4,lvol5
  -lvol3 lvol2,lvol1        lvol4,lvol5               2016-03-14 14:14:32 +0100
  lvol4  -lvol3,lvol2,lvol1
  lvol5  -lvol3,lvol2,lvol1
  pool</pre></li><li class="listitem"><p class="simpara">
						You can reference historical logical volumes individually in a display command by specifying the <span class="emphasis"><em>vgname/lvname</em></span> format, as in the following example. Note that the fifth bit in the <code class="literal">lv_attr</code> field is set to <code class="literal">h</code> to indicate the volume is a historical volume.
					</p><pre class="literallayout"># <code class="literal">lvs -H vg/-lvol3</code>
  LV     VG   Attr       LSize
  -lvol3 vg   ----h-----    0</pre></li><li class="listitem"><p class="simpara">
						LVM does not keep historical logical volumes if the volume has no live descendant. This means that if you remove a logical volume at the end of a snapshot chain, the logical volume is not retained as a historical logical volume.
					</p><pre class="literallayout"># <code class="literal">lvremove -f vg/lvol5</code>
  Automatically removing historical logical volume vg/-lvol5.
  Logical volume "lvol5" successfully removed
# <code class="literal">lvs -H -o name,full_ancestors,full_descendants</code>
  LV     FAncestors         FDescendants
  lvol1                     lvol2,-lvol3,lvol4
  lvol2  lvol1              -lvol3,lvol4
  -lvol3 lvol2,lvol1        lvol4
  lvol4  -lvol3,lvol2,lvol1
  pool</pre></li><li class="listitem"><p class="simpara">
						Run the following commands to remove the volume <code class="literal">lvol1</code> and <code class="literal">lvol2</code> and to see how the <code class="literal command">lvs</code> command displays the volumes once they have been removed.
					</p><pre class="literallayout"># <code class="literal">lvremove -f vg/lvol1 vg/lvol2</code>
  Logical volume "lvol1" successfully removed
  Logical volume "lvol2" successfully removed
# <code class="literal">lvs -H -o name,full_ancestors,full_descendants</code>
  LV     FAncestors           FDescendants
  -lvol1                      -lvol2,-lvol3,lvol4
  -lvol2 -lvol1               -lvol3,lvol4
  -lvol3 -lvol2,-lvol1        lvol4
  lvol4  -lvol3,-lvol2,-lvol1
  pool</pre></li><li class="listitem"><p class="simpara">
						To remove a historical logical volume completely, you can run the <code class="literal command">lvremove</code> command again, specifying the name of the historical volume that now includes the hyphen, as in the following example.
					</p><pre class="literallayout"># <code class="literal">lvremove -f vg/-lvol3</code>
Historical logical volume "lvol3" successfully removed
# <code class="literal">lvs -H -o name,full_ancestors,full_descendants</code>
  LV     FAncestors    FDescendants
  -lvol1               -lvol2,lvol4
  -lvol2 -lvol1        lvol4
  lvol4  -lvol2,-lvol1
  pool</pre></li><li class="listitem"><p class="simpara">
						A historical logical volumes is retained as long as there is a chain that includes live volumes in its descendants. This means that removing a historical logical volume also removes all of the logical volumes in the chain if no existing descendant is linked to them, as shown in the following example.
					</p><pre class="literallayout"># <code class="literal">lvremove -f vg/lvol4</code>
  Automatically removing historical logical volume vg/-lvol1.
  Automatically removing historical logical volume vg/-lvol2.
  Automatically removing historical logical volume vg/-lvol4.
  Logical volume "lvol4" successfully removed</pre></li></ol></div></section></section><section class="chapter" id="assembly_cache-volumes-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 12. LVM cache logical volumes</h1></div></div></div><p>
			LVM provides full support for LVM cache logical volumes. A cache logical volume uses a small logical volume consisting of fast block devices (such as SSD drives) to improve the performance of a larger and slower logical volume by storing the frequently used blocks on the smaller, faster logical volume.
		</p><section class="section" id="con_cache-volume-types-cache-volumes"><div class="titlepage"><div><div><h2 class="title">12.1. Cache volume types</h2></div></div></div><p>
				LVM caching uses the following LVM logical volume types. All of these associated logical volumes must be in the same volume group.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Origin logical volume — the large, slow logical volume
					</li><li class="listitem">
						Cache pool logical volume — the small, fast logical volume, which is composed of two devices: the cache data logical volume, and the cache metadata logical volume
					</li><li class="listitem">
						Cache data logical volume — the logical volume containing the data blocks for the cache pool logical volume
					</li><li class="listitem">
						Cache metadata logical volume — the logical volume containing the metadata for the cache pool logical volume, which holds the accounting information that specifies where data blocks are stored (for example, on the origin logical volume or the cache data logical volume).
					</li><li class="listitem">
						Cache logical volume — the logical volume containing the origin logical volume and the cache pool logical volume. This is the resultant usable device which encapsulates the various cache volume components.
					</li></ul></div></section><section class="section" id="proc_creating-lvm-cache-volume-cache-volumes"><div class="titlepage"><div><div><h2 class="title">12.2. Creating an LVM cache logical volume</h2></div></div></div><p>
				The following procedure creates an LVM cache logical volume.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a volume group that contains a slow physical volume and a fast physical volume. In this example. <code class="literal">/dev/sde1</code> is a slow device and <code class="literal">/dev/sdf1</code> is a fast device and both devices are contained in volume group <code class="literal">VG</code>.
					</p><pre class="literallayout"># <code class="literal">pvcreate /dev/sde1</code>
# <code class="literal">pvcreate /dev/sdf1</code>
# <code class="literal">vgcreate VG /dev/sde1 /dev/sdf1</code></pre></li><li class="listitem"><p class="simpara">
						Create the origin volume. This example creates an origin volume named <code class="literal">lv</code> that is ten gigabytes in size and that consists of <code class="literal">/dev/sde1</code>, the slow physical volume.
					</p><pre class="literallayout"># <code class="literal">lvcreate -L 10G -n lv VG /dev/sde1</code></pre></li><li class="listitem"><p class="simpara">
						Create the cache pool logical volume. This example creates the cache pool logical volume named <code class="literal">cpool</code> on the fast device <code class="literal">/dev/sdf1</code>, which is part of the volume group <code class="literal">VG</code>. The cache pool logical volume this command creates consists of the hidden cache data logical volume <code class="literal">cpool_cdata</code> and the hidden cache metadata logical volume <code class="literal">cpool_cmeta</code>.
					</p><pre class="literallayout"># <code class="literal">lvcreate --type cache-pool -L 5G -n cpool VG /dev/sdf1</code>
  Using default stripesize 64.00 KiB.
  Logical volume "cpool" created.
# <code class="literal">lvs -a -o name,size,attr,devices VG</code>
  LV              LSize  Attr       Devices
  cpool            5.00g Cwi---C--- cpool_cdata(0)
  [cpool_cdata]    5.00g Cwi------- /dev/sdf1(4)
  [cpool_cmeta]    8.00m ewi------- /dev/sdf1(2)
  lv              10.00g -wi-a----- /dev/sde1(0)
  [lvol0_pmspare]  8.00m ewi------- /dev/sdf1(0)</pre><p class="simpara">
						For more complicated configurations you may need to create the cache data and the cache metadata logical volumes individually and then combine the volumes into a cache pool logical volume. For information on this procedure, see the <code class="literal command">lvmcache</code>(7) man page.
					</p></li><li class="listitem"><p class="simpara">
						Create the cache logical volume by linking the cache pool logical volume to the origin logical volume. The resulting user-accessible cache logical volume takes the name of the origin logical volume. The origin logical volume becomes a hidden logical volume with <code class="literal">_corig</code> appended to the original name. Note that this conversion can be done live, although you must ensure you have performed a backup first.
					</p><pre class="literallayout"># <code class="literal">lvconvert --type cache --cachepool cpool VG/lv</code>
  Logical volume cpool is now cached.
# <code class="literal">lvs -a -o name,size,attr,devices VG</code>
    LV              LSize  Attr       Devices
    [cpool]          5.00g Cwi---C--- cpool_cdata(0)
    [cpool_cdata]    5.00g Cwi-ao---- /dev/sdf1(4)
    [cpool_cmeta]    8.00m ewi-ao---- /dev/sdf1(2)
    lv              10.00g Cwi-a-C--- lv_corig(0)
    [lv_corig]      10.00g owi-aoC--- /dev/sde1(0)
    [lvol0_pmspare]  8.00m ewi------- /dev/sdf1(0)</pre></li><li class="listitem"><p class="simpara">
						Optionally, you can convert the cached logical volume to a thin pool logical volume. Note that any thin logical volumes created from the pool will share the cache.
					</p><p class="simpara">
						The following command uses the fast device, <code class="literal">/dev/sdf1</code>, for allocating the thin pool metadata (<code class="literal">lv_tmeta</code>). This is the same device that is used by the cache pool volume, which means that the thin pool metadata volume shares that device with both the cache data logical volume <code class="literal">cpool_cdata</code> and the cache metadata logical volume <code class="literal">cpool_cmeta</code>.
					</p><pre class="literallayout"># <code class="literal">lvconvert --type thin-pool VG/lv /dev/sdf1</code>
   WARNING: Converting logical volume VG/lv to thin pool's data volume with metadata wiping.
   THIS WILL DESTROY CONTENT OF LOGICAL VOLUME (filesystem etc.)
 Do you really want to convert VG/lv? [y/n]: <code class="literal">y</code>
   Converted VG/lv to thin pool.
# <code class="literal">lvs -a -o name,size,attr,devices vg</code>
   LV               LSize  Attr       Devices
   [cpool]           5.00g Cwi---C--- cpool_cdata(0)
   [cpool_cdata]     5.00g Cwi-ao---- /dev/sdf1(4)
   [cpool_cmeta]     8.00m ewi-ao---- /dev/sdf1(2)
   lv               10.00g twi-a-tz-- lv_tdata(0)
   [lv_tdata]       10.00g Cwi-aoC--- lv_tdata_corig(0)
   [lv_tdata_corig] 10.00g owi-aoC--- /dev/sde1(0)
   [lv_tmeta]       12.00m ewi-ao---- /dev/sdf1(1284)
   [lvol0_pmspare]  12.00m ewi------- /dev/sdf1(0)
   [lvol0_pmspare]  12.00m ewi------- /dev/sdf1(1287)</pre></li></ol></div><p>
				For further information on LVM cache volumes, including additional administrative examples, see the <code class="literal command">lvmcache</code>(7) man page.
			</p></section></section><section class="chapter" id="assembly_lvm-activation-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Logical volume activation</h1></div></div></div><p>
			A logical volume that is an active state can be used through a block device. A logical volume that is activated is accessible and is subject to change. When you create a logical volume it is activated by default.
		</p><p>
			There are various circumstances for which you need to make an individual logical volume inactive and thus unknown to the kernel. You can activate or deactivate individual logical volume with the <code class="literal">-a</code> option of the <code class="literal">lvchange</code> command.
		</p><p>
			The format for the command to deactivate an individual logical volume is as follows.
		</p><pre class="literallayout">lvchange -an <span class="emphasis"><em>vg</em></span>/<span class="emphasis"><em>lv</em></span></pre><p>
			The format for the command to activate an individual logical volume is as follows.
		</p><pre class="literallayout">lvchange -ay <span class="emphasis"><em>vg</em></span>/<span class="emphasis"><em>lv</em></span></pre><p>
			You can and activate or deactivate all of the logical volumes in a volume group with the <code class="literal">-a</code> option of the <code class="literal">vgchange</code> command. This is the equivalent of running the <code class="literal">lvchange -a</code> command on each individual logical volume in the volume group.
		</p><p>
			The format for the command to deactivate all of the logical volumes in a volume group is as follows.
		</p><pre class="literallayout">vgchange -an <span class="emphasis"><em>vg</em></span></pre><p>
			The format for the command to activate all of the logical volumes in a volume group is as follows.
		</p><pre class="literallayout">vgchange -ay <span class="emphasis"><em>vg</em></span></pre><section class="section" id="proc_controlling-auto-activation-lvm-activation"><div class="titlepage"><div><div><h2 class="title">13.1. Controlling autoactivation of logical volumes</h2></div></div></div><p>
				Autoactivation of a logical volume refers to the event-based automatic activation of a logical volume during system startup. As devices become available on the system (device online events), <code class="literal">systemd/udev</code> runs the <code class="literal">lvm2-pvscan</code> service for each device. This service runs the <code class="literal">pvscan --cache -aay <span class="emphasis"><em>device</em></span></code> command, which reads the named device. If the device belongs to a volume group, the <code class="literal">pvscan</code> command will check if all of the physical volumes for that volume group are present on the system. If so, the command will activate logical volumes in that volume group.
			</p><p>
				You can use the following configuration options in the <code class="literal">/etc/lvm/lvm.conf</code> configuration file to control autoactivation of logical volumes.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">global/event_activation</code>
					</p><p class="simpara">
						When <code class="literal">event_activation</code> is disabled, <code class="literal">systemd/udev</code> will autoactivate logical volume only on whichever physical volumes are present during system startup. If all physical volumes have not appeared yet, then some logical volumes may not be autoactivated.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">activation/auto_activation_volume_list</code>
					</p><p class="simpara">
						Setting <code class="literal">auto_activation_volume_list</code> to an empty list disables autoactivation entirely. Setting <code class="literal">auto_activation_volume_list</code> to specific logical volumes and volume groups limits autoactivation to those logical volumes.
					</p></li></ul></div><p>
				For information on setting these options, see the <code class="literal">/etc/lvm/lvm.conf</code> configuration file.
			</p></section><section class="section" id="proc_controlling-logical-volume-activation-lvm-activation"><div class="titlepage"><div><div><h2 class="title">13.2. Controlling logical volume activation</h2></div></div></div><p>
				You can control the activation of logical volume in the following ways:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Through the <code class="literal">activation/volume_list</code> setting in the <code class="literal">/etc/lvm/conf</code> file. This allows you to specify which logical volumes are activated. For information on using this option, see the <code class="literal">/etc/lvm/lvm.conf</code> configuration file.
					</li><li class="listitem">
						By means of the activation skip flag for a logical volume. When this flag is set for a logical volume, the volume is skipped during normal activation commands.
					</li></ul></div><p>
				You can set the activation skip flag on a logical volume in the following ways.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You can turn off the activation skip flag when creating a logical volume by specifying the <code class="literal option">-kn</code> or <code class="literal option">--setactivationskip n</code> option of the <code class="literal command">lvcreate</code> command.
					</li><li class="listitem">
						You can turn off the activation skip flag for an existing logical volume by specifying the <code class="literal option">-kn</code> or <code class="literal option">--setactivationskip n</code> option of the <code class="literal command">lvchange</code> command.
					</li><li class="listitem">
						You can turn on the activation skip flag on again for a volume where it has been turned off with the <code class="literal option">-ky</code> or <code class="literal option">--setactivationskip y</code> option of the <code class="literal command">lvchange</code> command.
					</li></ul></div><p>
				To determine whether the activation skip flag is set for a logical volume run the <code class="literal command">lvs</code> command, which displays the <code class="literal">k</code> attribute as in the following example.
			</p><pre class="literallayout"># <code class="literal">lvs vg/thin1s1</code>
LV         VG  Attr       LSize Pool  Origin
thin1s1    vg  Vwi---tz-k 1.00t pool0 thin1</pre><p>
				You can activate a logical volume with the <code class="literal">k</code> attribute set by using the <code class="literal option">-K</code> or <code class="literal option">--ignoreactivationskip</code> option in addition to the standard <code class="literal option">-ay</code> or <code class="literal option">--activate y</code> option.
			</p><p>
				By default, thin snapshot volumes are flagged for activation skip when they are created. You can control the default activation skip setting on new thin snapshot volumes with the <code class="literal">auto_set_activation_skip</code> setting in the <code class="literal">/etc/lvm/lvm.conf</code> file.
			</p><p>
				The following command activates a thin snapshot logical volume that has the activation skip flag set.
			</p><pre class="literallayout"># <code class="literal">lvchange -ay -K VG/SnapLV</code></pre><p>
				The following command creates a thin snapshot without the activation skip flag
			</p><pre class="literallayout"># <code class="literal">lvcreate --type thin -n SnapLV -kn -s ThinLV --thinpool VG/ThinPoolLV</code></pre><p>
				The following command removes the activation skip flag from a snapshot logical volume.
			</p><pre class="literallayout"># <code class="literal">lvchange -kn VG/SnapLV</code></pre></section><section class="section" id="proc_activating-logical-volumes-in-a-cluster-lvm-activation"><div class="titlepage"><div><div><h2 class="title">13.3. Activating shared logical volumes</h2></div></div></div><p>
				You can control logical volume activation of a shared logical volume with the <code class="literal">-a</code> option of the <code class="literal">lvchange</code> and <code class="literal">vgchange</code> commands, as follows.
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285074346368" scope="col">Command</th><th align="left" valign="top" id="idm140285074345280" scope="col">Activation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285074346368"> <p>
								<code class="literal">lvchange -ay|e</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285074345280"> <p>
								Activate the shared logical volume in exclusive mode, allowing only a single host to activate the logical volume. If the activation fails, as would happen if the logical volume is active on another host, an error is reported.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285074346368"> <p>
								<code class="literal">lvchange -asy</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285074345280"> <p>
								Activate the shared logical volume in shared mode, allowing multiple hosts to activate the logical volume concurrently. If the activation fails, as would happen if the logical volume is active exclusively on another host, an error is reported. If the logical type prohibits shared access, such as a snapshot, the command will report an error and fail. Logical volume types that cannot be used concurrently from multiple hosts include thin, cache, raid, and snapshot.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285074346368"> <p>
								<code class="literal">lvchange -an</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140285074345280"> <p>
								Deactivate the logical volume.
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="proc_setting-lvm-activation-mode-lvm-activation"><div class="titlepage"><div><div><h2 class="title">13.4. Activating a logical volume with missing devices</h2></div></div></div><p>
				You can configure which logical volumes with missing devices are activated by setting the <code class="literal">activation_mode</code> parameter with the <code class="literal">lvchange</code> command to one of the following values.
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140285073667088" scope="col">Activation Mode</th><th align="left" valign="top" id="idm140285073666000" scope="col">Meaning</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140285073667088"> <p>
								complete
							</p>
							 </td><td align="left" valign="top" headers="idm140285073666000"> <p>
								Allows only logical volumes with no missing physical volumes to be activated. This is the most restrictive mode.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073667088"> <p>
								degraded
							</p>
							 </td><td align="left" valign="top" headers="idm140285073666000"> <p>
								Allows RAID logical volumes with missing physical volumes to be activated.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm140285073667088"> <p>
								partial
							</p>
							 </td><td align="left" valign="top" headers="idm140285073666000"> <p>
								Allows any logical volume with missing physical volumes to be activated. This option should be used for recovery or repair only.
							</p>
							 </td></tr></tbody></table></div><p>
				The default value of <code class="literal">activation_mode</code> is determined by the <code class="literal">activation_mode</code> setting in the <code class="literal">/etc/lvm/lvm.conf</code> file. For further information, see the <code class="literal">lvmraid</code>(7) man page.
			</p></section></section><section class="chapter" id="assembly_device-scan-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Controlling LVM device scanning</h1></div></div></div><p>
			You can control LVM device scanning by configuring filters in the <code class="literal">/etc/lvm/lvm.conf</code> file. The filters in the <code class="literal">lvm.conf</code> file consist of a series of simple regular expressions that get applied to the device names in the <code class="literal">/dev</code> directory to decide whether to accept or reject each block device found.
		</p><section class="section" id="proc-controlling-device-scans-with-filters-device-scan"><div class="titlepage"><div><div><h2 class="title">14.1. Configuring filters to control device scanning</h2></div></div></div><p>
				The following examples show the use of filters to control which devices LVM scans. Note that some of these examples do not necessarily represent recommended practice, as the regular expressions are matched freely against the complete pathname. For example, <code class="literal">a/loop/</code> is equivalent to <code class="literal">a/.*loop.*/</code> and would match <code class="literal">/dev/solooperation/lvol1</code>.
			</p><p>
				The following filter adds all discovered devices, which is the default behavior as there is no filter configured in the configuration file:
			</p><pre class="literallayout">filter = [ "a/.*/" ]</pre><p>
				The following filter removes the cdrom device in order to avoid delays if the drive contains no media:
			</p><pre class="literallayout">filter = [ "r|/dev/cdrom|" ]</pre><p>
				The following filter adds all loop and removes all other block devices:
			</p><pre class="literallayout">filter = [ "a/loop.*/", "r/.*/" ]</pre><p>
				The following filter adds all loop and IDE and removes all other block devices:
			</p><pre class="literallayout">filter =[ "a|loop.*|", "a|/dev/hd.*|", "r|.*|" ]</pre><p>
				The following filter adds just partition 8 on the first IDE drive and removes all other block devices:
			</p><pre class="literallayout">filter = [ "a|^/dev/hda8$|", "r/.*/" ]</pre></section><section class="section" id="proc-controlling-device-scans-filters-device-scan"><div class="titlepage"><div><div><h2 class="title">14.2. Controlling whether LVM commands scan logical volumes</h2></div></div></div><p>
				By default, LVM commands do not scan the logical volumes on your system. This default behavior provides the following advantages:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If there are many active logical volumes on the system, every LVM command would require additional time, negatively impacting performance and causing unwanted delays or timeouts.
					</li><li class="listitem">
						If logical volumes contain physical volumes from a guest VM image, the host usually does not want to scan or use those layered physical volumes which belong to the guest. Note, however, that in the cases where a guest VM’s physical volume exists directly on an SCSI device visible to the host, in order to prevent LVM on the host from accessing those physical volumes you will need to configure a filter, as described in <a class="link" href="index.html#proc-controlling-device-scans-with-filters-device-scan" title="14.1. Configuring filters to control device scanning">Configuring filters to control device scanning</a>.
					</li></ul></div><p>
				Scanning logical volumes may be necessary when layering physical volumes on top of logical volumes is intentional. This will allow the <code class="literal">pvcreate</code> command to be run on a logical volume. To configure LVM to scan all logical volumes, set the <code class="literal">scan_lvs</code> configuration option in the <code class="literal">/etc/lvm/lvm.conf</code> file to <code class="literal">scan_lvs=1</code>. To restrict which logical volumes LVM commands scan, you can then set up device filters in the <code class="literal">/etc/lvm/lvm.conf</code> configuration file, as described in <a class="link" href="index.html#proc-controlling-device-scans-with-filters-device-scan" title="14.1. Configuring filters to control device scanning">Configuring filters to control device scanning</a>.
			</p></section></section><section class="chapter" id="assembly_controlling-lvm-allocation-configuring-and-managing-logical-volumes"><div class="titlepage"><div><div><h1 class="title">Chapter 15. Controlling LVM allocation</h1></div></div></div><p>
			By default, a volume group allocates physical extents according to common-sense rules such as not placing parallel stripes on the same physical volume. This is the <code class="literal command">normal</code> allocation policy. You can use the <code class="literal command">--alloc</code> argument of the <code class="literal command">vgcreate</code> command to specify an allocation policy of <code class="literal command">contiguous</code>, <code class="literal command">anywhere</code>, or <code class="literal command">cling</code>. In general, allocation policies other than <code class="literal command">normal</code> are required only in special cases where you need to specify unusual or nonstandard extent allocation.
		</p><section class="section" id="ref_lvm-allocation-policies-controlling-lvm-allocation"><div class="titlepage"><div><div><h2 class="title">15.1. LVM allocation policies</h2></div></div></div><p>
				When an LVM operation needs to allocate physical extents for one or more logical volumes, the allocation proceeds as follows:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The complete set of unallocated physical extents in the volume group is generated for consideration. If you supply any ranges of physical extents at the end of the command line, only unallocated physical extents within those ranges on the specified physical volumes are considered.
					</li><li class="listitem">
						Each allocation policy is tried in turn, starting with the strictest policy (<code class="literal">contiguous</code>) and ending with the allocation policy specified using the <code class="literal option">--alloc</code> option or set as the default for the particular logical volume or volume group. For each policy, working from the lowest-numbered logical extent of the empty logical volume space that needs to be filled, as much space as possible is allocated, according to the restrictions imposed by the allocation policy. If more space is needed, LVM moves on to the next policy.
					</li></ul></div><p>
				The allocation policy restrictions are as follows:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						An allocation policy of <code class="literal">contiguous</code> requires that the physical location of any logical extent that is not the first logical extent of a logical volume is adjacent to the physical location of the logical extent immediately preceding it.
					</p><p class="simpara">
						When a logical volume is striped or mirrored, the <code class="literal">contiguous</code> allocation restriction is applied independently to each stripe or mirror image (leg) that needs space.
					</p></li><li class="listitem"><p class="simpara">
						An allocation policy of <code class="literal">cling</code> requires that the physical volume used for any logical extent be added to an existing logical volume that is already in use by at least one logical extent earlier in that logical volume. If the configuration parameter <code class="literal">allocation/cling_tag_list</code> is defined, then two physical volumes are considered to match if any of the listed tags is present on both physical volumes. This allows groups of physical volumes with similar properties (such as their physical location) to be tagged and treated as equivalent for allocation purposes.
					</p><p class="simpara">
						When a Logical Volume is striped or mirrored, the <code class="literal">cling</code> allocation restriction is applied independently to each stripe or mirror image (leg) that needs space.
					</p></li><li class="listitem"><p class="simpara">
						An allocation policy of <code class="literal">normal</code> will not choose a physical extent that shares the same physical volume as a logical extent already allocated to a parallel logical volume (that is, a different stripe or mirror image/leg) at the same offset within that parallel logical volume.
					</p><p class="simpara">
						When allocating a mirror log at the same time as logical volumes to hold the mirror data, an allocation policy of <code class="literal">normal</code> will first try to select different physical volumes for the log and the data. If that is not possible and the <code class="literal">allocation/mirror_logs_require_separate_pvs</code> configuration parameter is set to 0, it will then allow the log to share physical volume(s) with part of the data.
					</p><p class="simpara">
						Similarly, when allocating thin pool metadata, an allocation policy of <code class="literal">normal</code> will follow the same considerations as for allocation of a mirror log, based on the value of the <code class="literal">allocation/thin_pool_metadata_require_separate_pvs</code> configuration parameter.
					</p></li><li class="listitem">
						If there are sufficient free extents to satisfy an allocation request but a <code class="literal command">normal</code> allocation policy would not use them, the <code class="literal command">anywhere</code> allocation policy will, even if that reduces performance by placing two stripes on the same physical volume.
					</li></ul></div><p>
				The allocation policies can be changed using the <code class="literal command">vgchange</code> command.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you rely upon any layout behavior beyond that documented in this section according to the defined allocation policies, you should note that this might change in future versions of the code. For example, if you supply on the command line two empty physical volumes that have an identical number of free physical extents available for allocation, LVM currently considers using each of them in the order they are listed; there is no guarantee that future releases will maintain that property. If it is important to obtain a specific layout for a particular Logical Volume, then you should build it up through a sequence of <code class="literal command">lvcreate</code> and <code class="literal command">lvconvert</code> steps such that the allocation policies applied to each step leave LVM no discretion over the layout.
				</p></div></div><p>
				To view the way the allocation process currently works in any specific case, you can read the debug logging output, for example by adding the <code class="literal option">-vvvv</code> option to a command.
			</p></section><section class="section" id="proc_preventing-lvm-allocation-controlling-lvm-allocation"><div class="titlepage"><div><div><h2 class="title">15.2. Preventing allocation on a physical volume</h2></div></div></div><p>
				You can prevent allocation of physical extents on the free space of one or more physical volumes with the <code class="literal command">pvchange</code> command. This may be necessary if there are disk errors, or if you will be removing the physical volume.
			</p><p>
				The following command disallows the allocation of physical extents on <code class="literal">/dev/sdk1</code>.
			</p><pre class="literallayout"># <code class="literal">pvchange -x n /dev/sdk1</code></pre><p>
				You can also use the <code class="literal option">-xy</code> arguments of the <code class="literal command">pvchange</code> command to allow allocation where it had previously been disallowed.
			</p></section><section class="section" id="proc_extending-lvm-volume-with-cling-allocation-controlling-lvm-allocation"><div class="titlepage"><div><div><h2 class="title">15.3. Extending a logical volume with the <code class="literal">cling</code> allocation policy</h2></div></div></div><p>
				When extending an LVM volume, you can use the <code class="literal option">--alloc cling</code> option of the <code class="literal command">lvextend</code> command to specify the <code class="literal">cling</code> allocation policy. This policy will choose space on the same physical volumes as the last segment of the existing logical volume. If there is insufficient space on the physical volumes and a list of tags is defined in the <code class="literal">/etc/lvm/lvm.conf</code> file, LVM will check whether any of the tags are attached to the physical volumes and seek to match those physical volume tags between existing extents and new extents.
			</p><p>
				For example, if you have logical volumes that are mirrored between two sites within a single volume group, you can tag the physical volumes according to where they are situated by tagging the physical volumes with <code class="literal">@site1</code> and <code class="literal">@site2</code> tags. You can then specify the following line in the <code class="literal">lvm.conf</code> file:
			</p><pre class="literallayout">cling_tag_list = [ "@site1", "@site2" ]</pre><p>
				In the following example, the <code class="literal">lvm.conf</code> file has been modified to contain the following line:
			</p><pre class="literallayout">cling_tag_list = [ "@A", "@B" ]</pre><p>
				Also in this example, a volume group <code class="literal">taft</code> has been created that consists of the physical volumes <code class="literal">/dev/sdb1</code>, <code class="literal">/dev/sdc1</code>, <code class="literal">/dev/sdd1</code>, <code class="literal">/dev/sde1</code>, <code class="literal">/dev/sdf1</code>, <code class="literal">/dev/sdg1</code>, and <code class="literal">/dev/sdh1</code>. These physical volumes have been tagged with tags <code class="literal">A</code>, <code class="literal">B</code>, and <code class="literal">C</code>. The example does not use the <code class="literal">C</code> tag, but this will show that LVM uses the tags to select which physical volumes to use for the mirror legs.
			</p><pre class="literallayout"># pvs -a -o +pv_tags /dev/sd[bcdefgh]
  PV         VG   Fmt  Attr PSize  PFree  PV Tags
  /dev/sdb1  taft lvm2 a--  15.00g 15.00g A
  /dev/sdc1  taft lvm2 a--  15.00g 15.00g B
  /dev/sdd1  taft lvm2 a--  15.00g 15.00g B
  /dev/sde1  taft lvm2 a--  15.00g 15.00g C
  /dev/sdf1  taft lvm2 a--  15.00g 15.00g C
  /dev/sdg1  taft lvm2 a--  15.00g 15.00g A
  /dev/sdh1  taft lvm2 a--  15.00g 15.00g A</pre><p>
				The following command creates a 10 gigabyte mirrored volume from the volume group <code class="literal">taft</code>.
			</p><pre class="literallayout"># <code class="literal">lvcreate --type raid1 -m 1 -n mirror --nosync -L 10G taft</code>
  WARNING: New raid1 won't be synchronised. Don't read what you didn't write!
  Logical volume "mirror" created</pre><p>
				The following command shows which devices are used for the mirror legs and RAID metadata subvolumes.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o +devices</code>
  LV                VG   Attr       LSize  Log Cpy%Sync Devices
  mirror            taft Rwi-a-r--- 10.00g       100.00 mirror_rimage_0(0),mirror_rimage_1(0)
  [mirror_rimage_0] taft iwi-aor--- 10.00g              /dev/sdb1(1)
  [mirror_rimage_1] taft iwi-aor--- 10.00g              /dev/sdc1(1)
  [mirror_rmeta_0]  taft ewi-aor---  4.00m              /dev/sdb1(0)
  [mirror_rmeta_1]  taft ewi-aor---  4.00m              /dev/sdc1(0)</pre><p>
				The following command extends the size of the mirrored volume, using the <code class="literal">cling</code> allocation policy to indicate that the mirror legs should be extended using physical volumes with the same tag.
			</p><pre class="literallayout"># <code class="literal">lvextend --alloc cling -L +10G taft/mirror</code>
  Extending 2 mirror images.
  Extending logical volume mirror to 20.00 GiB
  Logical volume mirror successfully resized</pre><p>
				The following display command shows that the mirror legs have been extended using physical volumes with the same tag as the leg. Note that the physical volumes with a tag of <code class="literal">C</code> were ignored.
			</p><pre class="literallayout"># <code class="literal">lvs -a -o +devices</code>
  LV                VG   Attr       LSize  Log Cpy%Sync Devices
  mirror            taft Rwi-a-r--- 20.00g       100.00 mirror_rimage_0(0),mirror_rimage_1(0)
  [mirror_rimage_0] taft iwi-aor--- 20.00g              /dev/sdb1(1)
  [mirror_rimage_0] taft iwi-aor--- 20.00g              /dev/sdg1(0)
  [mirror_rimage_1] taft iwi-aor--- 20.00g              /dev/sdc1(1)
  [mirror_rimage_1] taft iwi-aor--- 20.00g              /dev/sdd1(0)
  [mirror_rmeta_0]  taft ewi-aor---  4.00m              /dev/sdb1(0)
  [mirror_rmeta_1]  taft ewi-aor---  4.00m              /dev/sdc1(0)</pre></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140285075047776"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2019 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="l_summit.png" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
