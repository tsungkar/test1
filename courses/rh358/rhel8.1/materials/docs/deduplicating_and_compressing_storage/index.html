<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="02cbb5d9-319e-4a5f-acc3-3ea196ce88ce" product="f321f43a-4a79-48fe-8aae-117b9d973ec0" revision="c13db53a8965c6bea58b25607c24e632e54cc50c:en-us" page="6d5fd4a8-c944-41cd-943b-a5d6a9365daa" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/index" />
<meta property="og:title" content="Deduplicating and compressing storage Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta property="og:description" content="This documentation collection provides instructions on how to use the Virtual Data Optimizer (VDO) to manage deduplicated and compressed storage pools in Red Hat Enterprise Linux 8." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/index" />
<meta name="twitter:title" content="Deduplicating and compressing storage Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This documentation collection provides instructions on how to use the Virtual Data Optimizer (VDO) to manage deduplicated and compressed storage pools in Red Hat Enterprise Linux 8." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Deduplicating and compressing storage Red Hat Enterprise Linux 8 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs06.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="2070d6b" />
<meta name="cp-chrome-build-date" content="2020-03-09T20:28:54.189Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "2070d6b",
        builddate : "2020-03-09T20:28:54.189Z",
        fetchdate : "2020-03-11T07:53:05-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=2070d6b.css" />

<link href="chosen.css%3Fv=2070d6b.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=2070d6b" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__1YIht1y1Jlm9D0PyxEuhS3DlWdYAlEsNpsFDOaUsfRw__ZnC7278ZsqBG-1FOUqflDl8B3Y1kLiAWXAIkoLrHbYg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       '02cbb5d9-319e-4a5f-acc3-3ea196ce88ce');
attributes.set('ResourceTitle',    'Deduplicating and compressing storage');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       'c13db53a8965c6bea58b25607c24e632e54cc50c:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat Enterprise Linux');
attributes.set('ProductVersion',   '8');
attributes.set('ProductId',        'Red Hat Enterprise Linux 8');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat Enterprise Linux", "/documentation/en-us/red_hat_enterprise_linux/"], ["8", "/documentation/en-us/red_hat_enterprise_linux/8/"], ["Deduplicating and compressing storage", "/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__veGxEiPQW6fkzAPZnAFA23SFz1CyJy2dlu6x8XuHM4s__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"JwKhMqyocFlzNvcMPYAsyhJTGa9f7feexyr8Xj4nGpY","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-group-group, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-group-group-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-group-group-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-group-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs07-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page admin-bar  kcs_external" >

  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
            <defs>
              <style>
                .rh-logo-hat {
                  fill: #e00;
                }
                .rh-logo-type {
                  fill: #fff;
                }
              </style>
            </defs>
            <title>Red Hat</title>
            <path
              class="rh-logo-hat"
              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
              <path class="rh-logo-band"
              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
              <path
              class="rh-logo-type"
              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
          </svg>
        </span>
        <span class="site-title"><span>Customer </span><span>Portal</span></span>
    </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <div class="input-group push-bottom">

                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Troubleshooting an issue? Try <a href="https://access.redhat.com/solution-engine">Solution Engine</a>&mdash;our new support tool.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                        <span class="logo-crop">
                          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                            <defs>
                              <style>
                                .rh-logo-hat {
                                  fill: #e00;
                                }
                                .rh-logo-type {
                                  fill: #fff;
                                }
                              </style>
                            </defs>
                            <title>Red Hat</title>
                            <path
                              class="rh-logo-hat"
                              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                              <path class="rh-logo-band"
                              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                              <path
                              class="rh-logo-type"
                              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                          </svg>
                        </span>
                        <span class="site-title"><span>Customer </span><span>Portal</span></span>
                    </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        <li><a href="https://access.redhat.com/ecosystem/" class="cta-link cta-link-darkbg">Ecosystem</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/">日本語</a></li>
                      <li><a href="index.html">English</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/pdf/deduplicating_and_compressing_storage/Red_Hat_Enterprise_Linux-8-Deduplicating_and_compressing_storage-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/epub/deduplicating_and_compressing_storage/Red_Hat_Enterprise_Linux-8-Deduplicating_and_compressing_storage-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Deduplicating and compressing storage</a></li><li class=" leaf"><a href="index.html#proc_providing-feedback-on-red-hat-documentation_deduplicating-and-compressing-storage">Providing feedback on Red Hat documentation</a></li><li class=" leaf"><a href="index.html#deploying-vdo_deduplicating-and-compressing-storage">1. Deploying VDO</a><ol class="menu"><li class=" leaf"><a href="index.html#con_introduction-to-vdo-deploying-vdo">1.1. Introduction to VDO</a></li><li class=" leaf"><a href="index.html#vdo-deployment-scenarios_deploying-vdo">1.2. VDO deployment scenarios</a></li><li class=" leaf"><a href="index.html#vdo-requirements_deploying-vdo">1.3. VDO requirements</a><ol class="menu"><li class=" leaf"><a href="index.html#placement-of-vdo-in-the-storage-stack_vdo-requirements">1.3.1. Placement of VDO in the storage stack</a></li><li class=" leaf"><a href="index.html#vdo-memory-requirements_vdo-requirements">1.3.2. VDO memory requirements</a></li><li class=" leaf"><a href="index.html#vdo-storage-space-requirements_vdo-requirements">1.3.3. VDO storage space requirements</a></li><li class=" leaf"><a href="index.html#examples-of-vdo-requirements-by-physical-volume-size_vdo-requirements">1.3.4. Examples of VDO requirements by physical volume size</a></li></ol></li><li class=" leaf"><a href="index.html#proc_installing-vdo-deploying-vdo">1.4. Installing VDO</a></li><li class=" leaf"><a href="index.html#proc_creating-a-vdo-volume-deploying-vdo">1.5. Creating a VDO volume</a></li><li class=" leaf"><a href="index.html#mounting-a-vdo-volume_deploying-vdo">1.6. Mounting a VDO volume</a></li><li class=" leaf"><a href="index.html#enabling-periodic-block-discard_deploying-vdo">1.7. Enabling periodic block discard</a></li><li class=" leaf"><a href="index.html#proc_monitoring-vdo_deploying-vdo">1.8. Monitoring VDO</a></li></ol></li><li class=" leaf"><a href="index.html#maintaining-vdo_deduplicating-and-compressing-storage">2. Maintaining VDO</a><ol class="menu"><li class=" leaf"><a href="index.html#managing-free-space-on-vdo-volumes_maintaining-vdo">2.1. Managing free space on VDO volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#thin-provisioning-in-vdo_managing-free-space-on-vdo-volumes">2.1.1. Thin provisioning in VDO</a></li><li class=" leaf"><a href="index.html#proc_monitoring-vdo_managing-free-space-on-vdo-volumes">2.1.2. Monitoring VDO</a></li><li class=" leaf"><a href="index.html#reclaiming-space-for-vdo-on-file-systems_managing-free-space-on-vdo-volumes">2.1.3. Reclaiming space for VDO on file systems</a></li><li class=" leaf"><a href="index.html#reclaiming-space-for-vdo-without-a-file-system_managing-free-space-on-vdo-volumes">2.1.4. Reclaiming space for VDO without a file system</a></li><li class=" leaf"><a href="index.html#reclaiming-space-for-vdo-on-fibre-channel-or-ethernet-network_managing-free-space-on-vdo-volumes">2.1.5. Reclaiming space for VDO on Fibre Channel or Ethernet network</a></li></ol></li><li class=" leaf"><a href="index.html#starting-or-stopping-vdo-volumes_maintaining-vdo">2.2. Starting or stopping VDO volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#started-and-activated-vdo-volumes_starting-or-stopping-vdo-volumes">2.2.1. Started and activated VDO volumes</a></li><li class=" leaf"><a href="index.html#starting-a-vdo-volume_starting-or-stopping-vdo-volumes">2.2.2. Starting a VDO volume</a></li><li class=" leaf"><a href="index.html#stopping-a-vdo-volume_starting-or-stopping-vdo-volumes">2.2.3. Stopping a VDO volume</a></li><li class=" leaf"><a href="index.html#related-information-starting-or-stopping-vdo-volumes">2.2.4. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#automatically-starting-vdo-volumes-at-system-boot_maintaining-vdo">2.3. Automatically starting VDO volumes at system boot</a><ol class="menu"><li class=" leaf"><a href="index.html#started-and-activated-vdo-volumes_automatically-starting-vdo-volumes-at-system-boot">2.3.1. Started and activated VDO volumes</a></li><li class=" leaf"><a href="index.html#activating-a-vdo-volume_automatically-starting-vdo-volumes-at-system-boot">2.3.2. Activating a VDO volume</a></li><li class=" leaf"><a href="index.html#deactivating-a-vdo-volume_automatically-starting-vdo-volumes-at-system-boot">2.3.3. Deactivating a VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#selecting-a-vdo-write-mode_maintaining-vdo">2.4. Selecting a VDO write mode</a><ol class="menu"><li class=" leaf"><a href="index.html#vdo-write-modes_selecting-a-vdo-write-mode">2.4.1. VDO write modes</a></li><li class=" leaf"><a href="index.html#the-internal-processing-of-vdo-write-modes_selecting-a-vdo-write-mode">2.4.2. The internal processing of VDO write modes</a></li><li class=" leaf"><a href="index.html#checking-the-write-mode-on-a-vdo-volume_selecting-a-vdo-write-mode">2.4.3. Checking the write mode on a VDO volume</a></li><li class=" leaf"><a href="index.html#checking-for-a-volatile-cache_selecting-a-vdo-write-mode">2.4.4. Checking for a volatile cache</a></li><li class=" leaf"><a href="index.html#setting-a-vdo-write-mode_selecting-a-vdo-write-mode">2.4.5. Setting a VDO write mode</a></li></ol></li><li class=" leaf"><a href="index.html#recovering-a-vdo-volume-after-an-unclean-shutdown_maintaining-vdo">2.5. Recovering a VDO volume after an unclean shutdown</a><ol class="menu"><li class=" leaf"><a href="index.html#vdo-write-modes_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.1. VDO write modes</a></li><li class=" leaf"><a href="index.html#vdo-volume-recovery_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.2. VDO volume recovery</a></li><li class=" leaf"><a href="index.html#vdo-operating-modes_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.3. VDO operating modes</a></li><li class=" leaf"><a href="index.html#recovering-a-vdo-volume-online_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.4. Recovering a VDO volume online</a></li><li class=" leaf"><a href="index.html#forcing-an-offline-rebuild-of-a-vdo-volume-metadata_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.5. Forcing an offline rebuild of a VDO volume metadata</a></li><li class=" leaf"><a href="index.html#removing-an-unsuccessfully-created-vdo-volume_recovering-a-vdo-volume-after-an-unclean-shutdown">2.5.6. Removing an unsuccessfully created VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#optimizing-the-uds-index_maintaining-vdo">2.6. Optimizing the UDS index</a><ol class="menu"><li class=" leaf"><a href="index.html#the-uds-index_optimizing-the-uds-index">2.6.1. The UDS index</a></li><li class=" leaf"><a href="index.html#recommended-uds-index-configuration_optimizing-the-uds-index">2.6.2. Recommended UDS index configuration</a></li></ol></li><li class=" leaf"><a href="index.html#enabling-or-disabling-deduplication-in-vdo_maintaining-vdo">2.7. Enabling or disabling deduplication in VDO</a><ol class="menu"><li class=" leaf"><a href="index.html#deduplication-in-vdo_enabling-or-disabling-deduplication-in-vdo">2.7.1. Deduplication in VDO</a></li><li class=" leaf"><a href="index.html#enabling-deduplication-on-a-vdo-volume_enabling-or-disabling-deduplication-in-vdo">2.7.2. Enabling deduplication on a VDO volume</a></li><li class=" leaf"><a href="index.html#disabling-deduplication-on-a-vdo-volume_enabling-or-disabling-deduplication-in-vdo">2.7.3. Disabling deduplication on a VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#enabling-or-disabling-compression-in-vdo_maintaining-vdo">2.8. Enabling or disabling compression in VDO</a><ol class="menu"><li class=" leaf"><a href="index.html#compression-in-vdo_enabling-or-disabling-compression-in-vdo">2.8.1. Compression in VDO</a></li><li class=" leaf"><a href="index.html#enabling-compression-on-a-vdo-volume_enabling-or-disabling-compression-in-vdo">2.8.2. Enabling compression on a VDO volume</a></li><li class=" leaf"><a href="index.html#disabling-compression-on-a-vdo-volume_enabling-or-disabling-compression-in-vdo">2.8.3. Disabling compression on a VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#increasing-the-size-of-a-vdo-volume_maintaining-vdo">2.9. Increasing the size of a VDO volume</a><ol class="menu"><li class=" leaf"><a href="index.html#thin-provisioning-in-vdo_increasing-the-size-of-a-vdo-volume">2.9.1. Thin provisioning in VDO</a></li><li class=" leaf"><a href="index.html#increasing-the-logical-size-of-a-vdo-volume_increasing-the-size-of-a-vdo-volume">2.9.2. Increasing the logical size of a VDO volume</a></li><li class=" leaf"><a href="index.html#increasing-the-physical-size-of-a-vdo-volume_increasing-the-size-of-a-vdo-volume">2.9.3. Increasing the physical size of a VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#removing-vdo-volumes_maintaining-vdo">2.10. Removing VDO volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#removing-a-working-vdo-volume_removing-vdo-volumes">2.10.1. Removing a working VDO volume</a></li><li class=" leaf"><a href="index.html#removing-an-unsuccessfully-created-vdo-volume_removing-vdo-volumes">2.10.2. Removing an unsuccessfully created VDO volume</a></li></ol></li><li class=" leaf"><a href="index.html#related-information-maintaining-vdo">2.11. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#testing-vdo-space-savings_deduplicating-and-compressing-storage">3. Testing VDO space savings</a><ol class="menu"><li class=" leaf"><a href="index.html#the-purpose-and-outcomes-of-testing-vdo_testing-vdo-space-savings">3.1. The purpose and outcomes of testing VDO</a></li><li class=" leaf"><a href="index.html#thin-provisioning-in-vdo_testing-vdo-space-savings">3.2. Thin provisioning in VDO</a></li><li class=" leaf"><a href="index.html#information-to-record-before-each-vdo-test_testing-vdo-space-savings">3.3. Information to record before each VDO test</a></li><li class=" leaf"><a href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings">3.4. Creating a VDO test volume</a></li><li class=" leaf"><a href="index.html#testing-the-vdo-test-volume_testing-vdo-space-savings">3.5. Testing the VDO test volume</a></li><li class=" leaf"><a href="index.html#cleaning-up-the-vdo-test-volume_testing-vdo-space-savings">3.6. Cleaning up the VDO test volume</a></li><li class=" leaf"><a href="index.html#measuring-vdo-deduplication_testing-vdo-space-savings">3.7. Measuring VDO deduplication</a></li><li class=" leaf"><a href="index.html#measuring-vdo-compression_testing-vdo-space-savings">3.8. Measuring VDO compression</a></li><li class=" leaf"><a href="index.html#measuring-total-vdo-space-savings_testing-vdo-space-savings">3.9. Measuring total VDO space savings</a></li><li class=" leaf"><a href="index.html#testing-the-effect-of-trim-and-discard-on-vdo_testing-vdo-space-savings">3.10. Testing the effect of TRIM and DISCARD on VDO</a></li></ol></li><li class=" leaf"><a href="index.html#discarding-unused-blocks_deduplicating-and-compressing-storage">4. Discarding unused blocks</a><ol class="menu"><li class=" leaf"><a href="index.html#block-discard-operations_discarding-unused-blocks">4.1. Block discard operations</a></li><li class=" leaf"><a href="index.html#types-of-block-discard-operations_discarding-unused-blocks">4.2. Types of block discard operations</a></li><li class=" leaf"><a href="index.html#performing-batch-block-discard_discarding-unused-blocks">4.3. Performing batch block discard</a></li><li class=" leaf"><a href="index.html#enabling-online-block-discard_discarding-unused-blocks">4.4. Enabling online block discard</a></li><li class=" leaf"><a href="index.html#enabling-online-block-discard-using-rhel-system-roles_discarding-unused-blocks">4.5. Enabling online block discard using RHEL System Roles</a><ol class="menu"><li class=" leaf"><a href="index.html#an-example-ansible-playbook-to-enable-online-block-discard_enabling-online-block-discard-using-rhel-system-roles">4.5.1. Example Ansible playbook to enable online block discard</a></li><li class=" leaf"><a href="index.html#additional_resources">4.5.2. Additional resources</a></li></ol></li><li class=" leaf"><a href="index.html#enabling-periodic-block-discard_discarding-unused-blocks">4.6. Enabling periodic block discard</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_overview-of-persistent-naming-attributes_deduplicating-and-compressing-storage">5. Overview of persistent naming attributes</a><ol class="menu"><li class=" leaf"><a href="index.html#con_disadvantages-of-non-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes">5.1. Disadvantages of non-persistent naming attributes</a></li><li class=" leaf"><a href="index.html#file-system-and-device-identifiers_assembly_overview-of-persistent-naming-attributes">5.2. File system and device identifiers</a></li><li class=" leaf"><a href="index.html#con_device-names-managed-by-the-udev-mechanism-in-dev-disk-_assembly_overview-of-persistent-naming-attributes">5.3. Device names managed by the udev mechanism in /dev/disk/</a><ol class="menu"><li class=" leaf"><a href="index.html#file-system-identifiers_assembly_overview-of-persistent-naming-attributes">5.3.1. File system identifiers</a></li><li class=" leaf"><a href="index.html#device-identifiers_assembly_overview-of-persistent-naming-attributes">5.3.2. Device identifiers</a></li></ol></li><li class=" leaf"><a href="index.html#con_the-world-wide-identifier-with-dm-multipath_assembly_overview-of-persistent-naming-attributes">5.4. The World Wide Identifier with DM Multipath</a></li><li class=" leaf"><a href="index.html#con_limitations-of-the-udev-device-naming-convention_assembly_overview-of-persistent-naming-attributes">5.5. Limitations of the udev device naming convention</a></li><li class=" leaf"><a href="index.html#proc_listing-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes">5.6. Listing persistent naming attributes</a></li><li class=" leaf"><a href="index.html#proc_modifying-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes">5.7. Modifying persistent naming attributes</a></li></ol></li><li class=" leaf"><a href="index.html#using-the-web-console-for-managing-virtual-data-optimizer-volumes_deduplicating-and-compressing-storage">6. Using the web console for managing Virtual Data Optimizer volumes</a><ol class="menu"><li class=" leaf"><a href="index.html#vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes">6.1. VDO volumes in the web console</a></li><li class=" leaf"><a href="index.html#creating-virtual-data-optimizer-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes">6.2. Creating VDO volumes in the web console</a></li><li class=" leaf"><a href="index.html#formatting-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes">6.3. Formatting VDO volumes in the web console</a></li><li class=" leaf"><a href="index.html#extending-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes">6.4. Extending VDO volumes in the web console</a></li></ol></li><li class=" leaf"><a href="index.html#idm140696568946704">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-training-banner"  >
  
      
  
  <div class="card card-light card-md push-bottom">
  <h2 class="card-heading card-heading-red card-heading-sm card-heading-flush">Red Hat Training</h2>
  <p>A Red Hat training course is available for <a href="https://www.redhat.com/en/services/training/courses-by-curriculum?intcmp=701f2000001D4OtAAK&amp;#Red-Hat-Enterprise-Linux" class="cta-link">RHEL 8</a></p>
</div>

  
  </div>
<div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Deduplicating and compressing storage</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm140696557169696"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">8</span></div><div><h2 class="subtitle">Using VDO to optimize storage capacity in RHEL 8</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="index.html#idm140696568946704">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This documentation collection provides instructions on how to use the Virtual Data Optimizer (VDO) to manage deduplicated and compressed storage pools in Red Hat Enterprise Linux 8.
			</div></div></div></div><hr/></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p>
			We appreciate your input on our documentation. Please let us know how we could make it better. To do so:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					For simple comments on specific passages:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Make sure you are viewing the documentation in the <span class="emphasis"><em>Multi-page HTML</em></span> format. In addition, ensure you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner of the document.
						</li><li class="listitem">
							Use your mouse cursor to highlight the part of text that you want to comment on.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Add Feedback</strong></span> pop-up that appears below the highlighted text.
						</li><li class="listitem">
							Follow the displayed instructions.
						</li></ol></div></li><li class="listitem"><p class="simpara">
					For submitting more complex feedback, create a Bugzilla ticket:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Go to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">Bugzilla</a> website.
						</li><li class="listitem">
							As the Component, use <span class="strong strong"><strong>Documentation</strong></span>.
						</li><li class="listitem">
							Fill in the <span class="strong strong"><strong>Description</strong></span> field with your suggestion for improvement. Include a link to the relevant part(s) of documentation.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Submit Bug</strong></span>.
						</li></ol></div></li></ul></div></section><section class="chapter" id="deploying-vdo_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Deploying VDO</h1></div></div></div><p>
			As a system administrator, you can use VDO to create deduplicated and compressed storage pools.
		</p><section class="section" id="con_introduction-to-vdo-deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.1. Introduction to VDO</h2></div></div></div><p>
				Virtual Data Optimizer (VDO) provides inline data reduction for Linux in the form of deduplication, compression, and thin provisioning. When you set up a VDO volume, you specify a block device on which to construct your VDO volume and the amount of logical storage you plan to present.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						When hosting active VMs or containers, Red Hat recommends provisioning storage at a 10:1 logical to physical ratio: that is, if you are utilizing 1 TB of physical storage, you would present it as 10 TB of logical storage.
					</li><li class="listitem">
						For object storage, such as the type provided by Ceph, Red Hat recommends using a 3:1 logical to physical ratio: that is, 1 TB of physical storage would present as 3 TB logical storage.
					</li></ul></div><p>
				In either case, you can simply put a file system on top of the logical device presented by VDO and then use it directly or as part of a distributed cloud storage architecture.
			</p><p>
				Because VDO is thinly provisioned, the file system and applications only see the logical space in use and are not aware of the actual physical space available. Scripting should be used to monitor the actual available space and generate an alert if use exceeds a threshold: for example, when the VDO volume is 80% full. See <a class="xref" href="index.html#managing-free-space-on-vdo-volumes_maintaining-vdo" title="2.1. Managing free space on VDO volumes">Section 2.1, “Managing free space on VDO volumes”</a> for details.
			</p></section><section class="section" id="vdo-deployment-scenarios_deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.2. VDO deployment scenarios</h2></div></div></div><p>
				You can deploy VDO in a variety of ways to provide deduplicated storage for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						both block and file access
					</li><li class="listitem">
						both local and remote storage
					</li></ul></div><p>
				Because VDO exposes its deduplicated storage as a standard Linux block device, you can use it with standard file systems, iSCSI and FC target drivers, or as unified storage.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					VDO deployment with Ceph Storage is currently not supported.
				</p></div></div><h4 id="kvm">KVM</h4><p>
				You can deploy VDO on a KVM server configured with Direct Attached Storage.
			</p><div class="informalfigure"><div class="mediaobject"><img src="vdo-kvm1.png" alt="VDO Deployment with KVM"/></div></div><h4 id="file_systems">File systems</h4><p>
				You can create file systems on top of VDO and expose them to NFS or CIFS users with the NFS server or Samba.
			</p><div class="informalfigure"><div class="mediaobject"><img src="vdo-integration-deploy_file.png" alt="Deduplicated NAS"/></div></div><h4 id="iscsi_target">iSCSI target</h4><p>
				You can export the entirety of the VDO storage target as an iSCSI target to remote iSCSI initiators.
			</p><div class="informalfigure"><div class="mediaobject"><img src="vdo-integration-deploy_block.png" alt="Deduplicated block storage target"/></div></div><h4 id="lvm">LVM</h4><p>
				On more feature-rich systems, you can use LVM to provide multiple logical unit numbers (LUNs) that are all backed by the same deduplicated storage pool.
			</p><p>
				In the following diagram, the VDO target is registered as a physical volume so that it can be managed by LVM. Multiple logical volumes (<span class="emphasis"><em>LV1</em></span> to <span class="emphasis"><em>LV4</em></span>) are created out of the deduplicated storage pool. In this way, VDO can support multiprotocol unified block or file access to the underlying deduplicated storage pool.
			</p><div class="informalfigure"><div class="mediaobject"><img src="vdo-integration-deploy_unified.png" alt="Deduplicated unified storage"/></div></div><p>
				Deduplicated unified storage design enables for multiple file systems to collectively use the same deduplication domain through the LVM tools. Also, file systems can take advantage of LVM snapshot, copy-on-write, and shrink or grow features, all on top of VDO.
			</p><h4 id="encryption">Encryption</h4><p>
				Device Mapper (DM) mechanisms such as DM Crypt are compatible with VDO. Encrypting VDO volumes helps ensure data security, and any file systems above VDO are still deduplicated.
			</p><div class="informalfigure"><div class="mediaobject"><img src="vdo-integration-vdo_encryption_layering.png" alt="Using VDO with encryption"/></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Applying the encryption layer above VDO results in little if any data deduplication. Encryption makes duplicate blocks different before VDO can deduplicate them.
				</p><p>
					Always place the encryption layer below VDO.
				</p></div></div></section><section class="section" id="vdo-requirements_deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.3. VDO requirements</h2></div></div></div><p>
				VDO has certain requirements on its placement and your system resources.
			</p><section class="section" id="placement-of-vdo-in-the-storage-stack_vdo-requirements"><div class="titlepage"><div><div><h3 class="title">1.3.1. Placement of VDO in the storage stack</h3></div></div></div><p>
					You should place certain storage layers under VDO and others above VDO.
				</p><p>
					A VDO volume is a thinly provisioned block device. To prevent running out of physical space, place the volume on top of storage that you can expand at a later time. Examples of such expandable storage are LVM volumes or MD RAID arrays.
				</p><p>
					You can place thick-provisioned layers on top of VDO, but you cannot rely on the guarantees of thick provisioning in that case. Because the VDO layer is thin-provisioned, the effects of thin provisioning apply to all layers above it. If you do not monitor the VDO device, you might run out of physical space on thick-provisioned volumes above VDO.
				</p><p>
					Red Hat recommends the following configurations:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Place only under VDO</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										DM Multipath
									</li><li class="listitem">
										DM Crypt
									</li><li class="listitem">
										Software RAID (LVM or MD RAID)
									</li></ul></div></dd><dt><span class="term">Place only above VDO</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										LVM cache
									</li><li class="listitem">
										LVM snapshots
									</li><li class="listitem">
										LVM thin provisioning
									</li></ul></div></dd></dl></div><p>
					The following configurations are <span class="strong strong"><strong>not supported</strong></span>:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							VDO on top of VDO volumes: storage → VDO → LVM → VDO
						</li><li class="listitem">
							VDO on top of LVM snapshots
						</li><li class="listitem">
							VDO on top of LVM cache
						</li><li class="listitem">
							VDO on top of a loopback device
						</li><li class="listitem">
							VDO on top of LVM thin provisioning
						</li><li class="listitem">
							Encrypted volumes on top of VDO: storage → VDO → DM-Crypt
						</li><li class="listitem">
							Partitions on a VDO volume
						</li><li class="listitem">
							RAID (LVM RAID, MD RAID, or any other type) on top of a VDO volume
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information on stacking VDO with LVM, see the <a class="link" href="https://access.redhat.com/articles/2106521#vdo">Stacking LVM volumes</a> article.
						</li></ul></div></section><section class="section" id="vdo-memory-requirements_vdo-requirements"><div class="titlepage"><div><div><h3 class="title">1.3.2. VDO memory requirements</h3></div></div></div><p>
					Each VDO volume has two distinct memory requirements:
				</p><h5 id="the_vdo_module">The VDO module</h5><p>
					VDO requires 370 MB of RAM plus an additional 268 MB per each 1 TB of physical storage managed by the volume.
				</p><h5 id="the_universal_deduplication_service_uds_index">The Universal Deduplication Service (UDS) index</h5><p>
					UDS requires a minimum of 250 MB of RAM, which is also the default amount that deduplication uses.
				</p><p>
					The memory required for the UDS index is determined by the index type and the required size of the deduplication window:
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 17%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 50%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696566143312" scope="col">Index type</th><th align="left" valign="top" id="idm140696566142224" scope="col">Deduplication window</th><th align="left" valign="top" id="idm140696565869952" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696566143312"> <p>
									Dense
								</p>
								 </td><td align="left" valign="top" headers="idm140696566142224"> <p>
									1 TB per 1 GB of RAM
								</p>
								 </td><td align="left" valign="top" headers="idm140696565869952"> <p>
									A 1 GB dense index is generally sufficient for up to 4 TB of physical storage.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696566143312"> <p>
									Sparse
								</p>
								 </td><td align="left" valign="top" headers="idm140696566142224"> <p>
									10 TB per 1 GB of RAM
								</p>
								 </td><td align="left" valign="top" headers="idm140696565869952"> <p>
									A 1 GB sparse index is generally sufficient for up to 40 TB of physical storage.
								</p>
								 </td></tr></tbody></table></div><p>
					The UDS Sparse Indexing feature is the recommended mode for VDO. It relies on the temporal locality of data and attempts to retain only the most relevant index entries in memory. With the sparse index, UDS can maintain a deduplication window that is ten times larger than with dense, while using the same amount of memory.
				</p><p>
					Although the sparse index provides the greatest coverage, the dense index provides more deduplication advice. For most workloads, given the same amount of memory, the difference in deduplication rates between dense and sparse indexes is negligible.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For concrete examples of UDS index memory requirements, see <a class="xref" href="index.html#examples-of-vdo-requirements-by-physical-volume-size_vdo-requirements" title="1.3.4. Examples of VDO requirements by physical volume size">Section 1.3.4, “Examples of VDO requirements by physical volume size”</a>.
						</li></ul></div></section><section class="section" id="vdo-storage-space-requirements_vdo-requirements"><div class="titlepage"><div><div><h3 class="title">1.3.3. VDO storage space requirements</h3></div></div></div><p>
					You can configure a VDO volume to use up to 256 TB of physical storage. Only a certain part of the physical storage is usable to store data. This section provides the calculations to determine the usable size of a VDO-managed volume.
				</p><p>
					VDO requires storage for two types of VDO metadata and for the UDS index:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The first type of VDO metadata uses approximately 1 MB for each 4 GB of <span class="emphasis"><em>physical storage</em></span> plus an additional 1 MB per slab.
						</li><li class="listitem">
							The second type of VDO metadata consumes approximately 1.25 MB for each 1 GB of <span class="emphasis"><em>logical storage</em></span>, rounded up to the nearest slab.
						</li><li class="listitem">
							The amount of storage required for the UDS index depends on the type of index and the amount of RAM allocated to the index. For each 1 GB of RAM, a dense UDS index uses 17 GB of storage, and a sparse UDS index will use 170 GB of storage.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For concrete examples of VDO storage requirements, see <a class="xref" href="index.html#examples-of-vdo-requirements-by-physical-volume-size_vdo-requirements" title="1.3.4. Examples of VDO requirements by physical volume size">Section 1.3.4, “Examples of VDO requirements by physical volume size”</a>.
						</li></ul></div></section><section class="section" id="examples-of-vdo-requirements-by-physical-volume-size_vdo-requirements"><div class="titlepage"><div><div><h3 class="title">1.3.4. Examples of VDO requirements by physical volume size</h3></div></div></div><p>
					The following tables provide approximate system requirements of VDO based on the size of the underlying physical volume. Each table lists requirements appropriate to the intended deployment, such as primary storage or backup storage.
				</p><p>
					The exact numbers depend on your configuration of the VDO volume.
				</p><h5 id="primary_storage_deployment">Primary storage deployment</h5><p>
					In the primary storage case, the UDS index is between 0.01% to 25% the size of the physical volume.
				</p><div class="table" id="idm140696562670736"><p class="title"><strong>Table 1.1. Storage and memory requirements for primary storage</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696566734640" scope="col">Physical volume size</th><th align="left" valign="top" id="idm140696566733552" scope="col">RAM usage</th><th align="left" valign="top" id="idm140696566732464" scope="col">Disk usage</th><th align="left" valign="top" id="idm140696566731376" scope="col">Index type</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696566734640"> <p>
									10GB–1TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566733552"> <p>
									250MB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									2.5 GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Dense
								</p>
								 </td></tr><tr><td rowspan="2" align="left" valign="top" headers="idm140696566734640"> <p>
									2–10TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566733552"> <p>
									1GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									10GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Dense
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696566733552"> <p>
									250MB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									22GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696566734640"> <p>
									11–50TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566733552"> <p>
									2GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									170GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696566734640"> <p>
									51–100TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566733552"> <p>
									3GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									255GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696566734640"> <p>
									101–256TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566733552"> <p>
									12GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566732464"> <p>
									1020GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696566731376"> <p>
									Sparse
								</p>
								 </td></tr></tbody></table></div></div><h5 id="backup_storage_deployment">Backup storage deployment</h5><p>
					In the backup storage case, the UDS index covers the size of the backup set but is not bigger than the physical volume. If you expect the backup set or the physical size to grow in the future, factor this into the index size.
				</p><div class="table" id="idm140696566642992"><p class="title"><strong>Table 1.2. Storage and memory requirements for backup storage</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696562341664" scope="col">Physical volume size</th><th align="left" valign="top" id="idm140696562340576" scope="col">RAM usage</th><th align="left" valign="top" id="idm140696562339488" scope="col">Disk usage</th><th align="left" valign="top" id="idm140696562338400" scope="col">Index type</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696562341664"> <p>
									10GB–1TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562340576"> <p>
									250MB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562339488"> <p>
									2.5 GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562338400"> <p>
									Dense
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696562341664"> <p>
									2–10TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562340576"> <p>
									2GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562339488"> <p>
									170GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562338400"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696562341664"> <p>
									11–50TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562340576"> <p>
									10GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562339488"> <p>
									850GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562338400"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696562341664"> <p>
									51–100TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562340576"> <p>
									20GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562339488"> <p>
									1700GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562338400"> <p>
									Sparse
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140696562341664"> <p>
									101–256TB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562340576"> <p>
									26GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562339488"> <p>
									3400GB
								</p>
								 </td><td align="left" valign="top" headers="idm140696562338400"> <p>
									Sparse
								</p>
								 </td></tr></tbody></table></div></div></section></section><section class="section" id="proc_installing-vdo-deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.4. Installing VDO</h2></div></div></div><p>
				This procedure installs software necessary to create, mount, and manage VDO volumes.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Install the <code class="literal">vdo</code> and <code class="literal">kmod-kvdo</code> packages:
					</p><pre class="screen"># yum install vdo kmod-kvdo</pre></li></ul></div></section><section class="section" id="proc_creating-a-vdo-volume-deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.5. Creating a VDO volume</h2></div></div></div><p>
				This procedure creates a VDO volume on a block device.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Install the VDO software. See <a class="xref" href="index.html#proc_installing-vdo-deploying-vdo" title="1.4. Installing VDO">Section 1.4, “Installing VDO”</a>.
					</li><li class="listitem">
						Use expandable storage as the backing block device. For more information, see <a class="xref" href="index.html#placement-of-vdo-in-the-storage-stack_vdo-requirements" title="1.3.1. Placement of VDO in the storage stack">Section 1.3.1, “Placement of VDO in the storage stack”</a>.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					In all the following steps, replace <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> with the identifier you want to use for your VDO volume; for example, <code class="literal">vdo1</code>. You must use a different name and device for each instance of VDO on the system.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find a persistent name for the block device where you want to create the VDO volume. For more information on persistent names, see <a class="xref" href="index.html#assembly_overview-of-persistent-naming-attributes_deduplicating-and-compressing-storage" title="Chapter 5. Overview of persistent naming attributes">Chapter 5, <em>Overview of persistent naming attributes</em></a>.
					</p><p class="simpara">
						If you use a non-persistent device name, then VDO might fail to start properly in the future if the device name changes.
					</p></li><li class="listitem"><p class="simpara">
						Create the VDO volume:
					</p><pre class="screen"># vdo create \
      --name=<span class="emphasis"><em>vdo-name</em></span> \
      --device=<span class="emphasis"><em>block-device</em></span> \
      --vdoLogicalSize=<span class="emphasis"><em>logical-size</em></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span> with the persistent name of the block device where you want to create the VDO volume. For example, <code class="literal filename">/dev/disk/by-id/scsi-3600508b1001c264ad2af21e903ad031f</code>.
							</li><li class="listitem"><p class="simpara">
								Replace <span class="emphasis"><em><span class="replaceable replaceable">logical-size</span></em></span> with the amount of logical storage that the VDO volume should present:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										For active VMs or container storage, use logical size that is <span class="strong strong"><strong>ten</strong></span> times the physical size of your block device. For example, if your block device is 1TB in size, use <code class="literal">10T</code> here.
									</li><li class="listitem">
										For object storage, use logical size that is <span class="strong strong"><strong>three</strong></span> times the physical size of your block device. For example, if your block device is 1TB in size, use <code class="literal">3T</code> here.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								If the physical block device is larger than 16TiB, add the <code class="literal option">--vdoSlabSize=32G</code> option to increase the slab size on the volume to 32GiB.
							</p><p class="simpara">
								Using the default slab size of 2GiB on block devices larger than 16TiB results in the <code class="literal">vdo create</code> command failing with the following error:
							</p><pre class="screen">vdo: ERROR - vdoformat: formatVDO failed on '/dev/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>': VDO Status: Exceeds maximum number of slabs supported</pre></li></ul></div><div class="example" id="idm140696568029808"><p class="title"><strong>Example 1.1. Creating VDO for container storage</strong></p><div class="example-contents"><p>
							For example, to create a VDO volume for container storage on a 1TB block device, you might use:
						</p><pre class="screen"># vdo create \
      --name=<span class="emphasis"><em>vdo1</em></span> \
      --device=<span class="emphasis"><em>/dev/disk/by-id/scsi-3600508b1001c264ad2af21e903ad031f</em></span> \
      --vdoLogicalSize=<span class="emphasis"><em>10T</em></span></pre></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							If a failure occurs when creating the VDO volume, remove the volume to clean up. See <a class="xref" href="index.html#removing-an-unsuccessfully-created-vdo-volume_removing-vdo-volumes" title="2.10.2. Removing an unsuccessfully created VDO volume">Section 2.10.2, “Removing an unsuccessfully created VDO volume”</a> for details.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Create a file system on top of the VDO volume:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For the XFS file system:
							</p><pre class="screen"># mkfs.xfs -K /dev/mapper/<span class="emphasis"><em>vdo-name</em></span></pre></li><li class="listitem"><p class="simpara">
								For the ext4 file system:
							</p><pre class="screen"># mkfs.ext4 -E nodiscard /dev/mapper/<span class="emphasis"><em>vdo-name</em></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Use the following command to wait for the system to register the new device node:
					</p><pre class="screen"># udevadm settle</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Next steps</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Mount the file system. See <a class="xref" href="index.html#mounting-a-vdo-volume_deploying-vdo" title="1.6. Mounting a VDO volume">Section 1.6, “Mounting a VDO volume”</a> for details.
					</li><li class="listitem">
						Enable the <code class="literal">discard</code> feature for the file system on your VDO device. See <a class="xref" href="index.html#enabling-periodic-block-discard_deploying-vdo" title="1.7. Enabling periodic block discard">Section 1.7, “Enabling periodic block discard”</a> for details.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vdo(8)</code> man page
					</li></ul></div></section><section class="section" id="mounting-a-vdo-volume_deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.6. Mounting a VDO volume</h2></div></div></div><p>
				This procedure mounts a file system on a VDO volume, either manually or persistently.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A VDO volume has been created on your system. For instructions, see <a class="xref" href="index.html#proc_creating-a-vdo-volume-deploying-vdo" title="1.5. Creating a VDO volume">Section 1.5, “Creating a VDO volume”</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To mount the file system on the VDO volume manually, use:
					</p><pre class="screen"># mount /dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem"><p class="simpara">
						To configure the file system to mount automatically at boot, add a line to the <code class="literal filename">/etc/fstab</code> file:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								For the XFS file system:
							</p><pre class="screen">/dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span> xfs defaults,_netdev,x-systemd.device-timeout=0,x-systemd.requires=vdo.service 0 0</pre></li><li class="listitem"><p class="simpara">
								For the ext4 file system:
							</p><pre class="screen">/dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span> ext4 defaults,_netdev,x-systemd.device-timeout=0,x-systemd.requires=vdo.service 0 0</pre></li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vdo(8)</code> man page
					</li></ul></div></section><section class="section" id="enabling-periodic-block-discard_deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.7. Enabling periodic block discard</h2></div></div></div><p>
				This procedure enables a <code class="literal">systemd</code> timer that regularly discards unused blocks on all supported file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">systemd</code> timer:
					</p><pre class="screen"># systemctl enable --now fstrim.timer</pre></li></ul></div></section><section class="section" id="proc_monitoring-vdo_deploying-vdo"><div class="titlepage"><div><div><h2 class="title">1.8. Monitoring VDO</h2></div></div></div><p>
				This procedure describes how to obtain usage and efficiency information from a VDO volume.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Install the VDO software. See <a class="xref" href="index.html#proc_installing-vdo-deploying-vdo" title="1.4. Installing VDO">Section 1.4, “Installing VDO”</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the <code class="literal">vdostats</code> utility to get information about a VDO volume:
					</p><pre class="screen"># vdostats --human-readable

Device                   1K-blocks    Used     Available    Use%    Space saving%
/dev/mapper/node1osd1    926.5G       21.0G    905.5G       2%      73%
/dev/mapper/node1osd2    926.5G       28.2G    898.3G       3%      64%</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">vdostats(8)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="maintaining-vdo_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Maintaining VDO</h1></div></div></div><p>
			After deploying a VDO volume, you can perform certain tasks to maintain or optimize it. Some of the following tasks are required for the correct functioning of VDO volumes.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					VDO is installed and deployed. See <a class="xref" href="index.html#deploying-vdo_deduplicating-and-compressing-storage" title="Chapter 1. Deploying VDO">Chapter 1, <em>Deploying VDO</em></a>.
				</li></ul></div><section class="section" id="managing-free-space-on-vdo-volumes_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.1. Managing free space on VDO volumes</h2></div></div></div><p>
				VDO is a thinly provisioned block storage target. Because of that, you must actively monitor and manage space usage on VDO volumes.
			</p><section class="section" id="thin-provisioning-in-vdo_managing-free-space-on-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.1.1. Thin provisioning in VDO</h3></div></div></div><p>
					VDO is a thinly provisioned block storage target. The amount of physical space that a VDO volume uses might differ from the size of the volume that is presented to users of the storage. You can make use of this disparity to save on storage costs.
				</p><div class="formalpara"><p class="title"><strong>Out-of-space conditions</strong></p><p>
						Take care to avoid unexpectedly running out of storage space, if the data written does not achieve the expected rate of optimization.
					</p></div><p>
					Whenever the number of logical blocks (virtual storage) exceeds the number of physical blocks (actual storage), it becomes possible for file systems and applications to unexpectedly run out of space. For that reason, storage systems using VDO must provide you with a way of monitoring the size of the free pool on the VDO volume.
				</p><p>
					You can determine the size of this free pool by using the <code class="literal">vdostats</code> utility. The default output of this utility lists information for all running VDO volumes in a format similar to the Linux <code class="literal">df</code> utility. For example:
				</p><pre class="screen">Device                1K-blocks   Used        Available   Use%
/dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>  211812352   105906176   105906176   50%</pre><p>
					When the physical storage capacity of a VDO volume is almost full, VDO reports a warning in the system log, similar to the following:
				</p><pre class="screen">Oct  2 17:13:39 system lvm[13863]: Monitoring VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>.
Oct  2 17:27:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 80.69% full.
Oct  2 17:28:19 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 85.25% full.
Oct  2 17:29:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 90.64% full.
Oct  2 17:30:29 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 96.07% full.</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						These warning messages appear only when the <code class="literal">lvm2-monitor</code> service is running. It is enabled by default.
					</p></div></div><div class="formalpara"><p class="title"><strong>How to prevent out-of-space conditions</strong></p><p>
						If the size of free pool drops below a certain level, you can take action by:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Deleting data. This reclaims space whenever the deleted data is not duplicated. Deleting data frees the space only after discards are issued.
						</li><li class="listitem">
							Adding physical storage
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Monitor physical space on your VDO volumes to prevent out-of-space situations. Running out of physical blocks might result in losing recently written, unacknowledged data on the VDO volume.
					</p></div></div><div class="formalpara"><p class="title"><strong>Thin provisioning and the TRIM and DISCARD commands</strong></p><p>
						To benefit from the storage savings of thin provisioning, the physical storage layer needs to know when data is deleted. File systems that work with thinly provisioned storage send <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands to inform the storage system when a logical block is no longer required.
					</p></div><p>
					Several methods of sending the <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands are available:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							With the <code class="literal">discard</code> mount option, the file systems can send these commands whenever a block is deleted.
						</li><li class="listitem">
							You can send the commands in a controlled manner by using utilities such as <code class="literal">fstrim</code>. These utilities tell the file system to detect which logical blocks are unused and send the information to the storage system in the form of a <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> command.
						</li></ul></div><p>
					The need to use <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> on unused blocks is not unique to VDO. Any thinly provisioned storage system has the same challenge.
				</p></section><section class="section" id="proc_monitoring-vdo_managing-free-space-on-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.1.2. Monitoring VDO</h3></div></div></div><p>
					This procedure describes how to obtain usage and efficiency information from a VDO volume.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Install the VDO software. See <a class="xref" href="index.html#proc_installing-vdo-deploying-vdo" title="1.4. Installing VDO">Section 1.4, “Installing VDO”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use the <code class="literal">vdostats</code> utility to get information about a VDO volume:
						</p><pre class="screen"># vdostats --human-readable

Device                   1K-blocks    Used     Available    Use%    Space saving%
/dev/mapper/node1osd1    926.5G       21.0G    905.5G       2%      73%
/dev/mapper/node1osd2    926.5G       28.2G    898.3G       3%      64%</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">vdostats(8)</code> man page.
						</li></ul></div></section><section class="section" id="reclaiming-space-for-vdo-on-file-systems_managing-free-space-on-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.1.3. Reclaiming space for VDO on file systems</h3></div></div></div><p>
					This procedure reclaims storage space on a VDO volume that hosts a file system.
				</p><p>
					VDO cannot reclaim space unless file systems communicate that blocks are free using the <code class="literal">DISCARD</code>, <code class="literal">TRIM</code>, or <code class="literal">UNMAP</code> commands.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							If the file system on your VDO volume supports discard operations, enable them. See <a class="xref" href="index.html#discarding-unused-blocks_deduplicating-and-compressing-storage" title="Chapter 4. Discarding unused blocks">Chapter 4, <em>Discarding unused blocks</em></a>.
						</li><li class="listitem">
							For file systems that do not use <code class="literal">DISCARD</code>, <code class="literal">TRIM</code>, or <code class="literal">UNMAP</code>, you can manually reclaim free space. Store a file consisting of binary zeros and then delete that file.
						</li></ul></div></section><section class="section" id="reclaiming-space-for-vdo-without-a-file-system_managing-free-space-on-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.1.4. Reclaiming space for VDO without a file system</h3></div></div></div><p>
					This procedure reclaims storage space on a VDO volume that is used as a block storage target without a file system.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use the <code class="literal">blkdiscard</code> utility.
						</p><p class="simpara">
							For example, a single VDO volume can be carved up into multiple subvolumes by deploying LVM on top of it. Before deprovisioning a logical volume, use the <code class="literal">blkdiscard</code> utility to free the space previously used by that logical volume.
						</p><p class="simpara">
							LVM supports the <code class="literal">REQ_DISCARD</code> command and forwards the requests to VDO at the appropriate logical block addresses in order to free the space. If you use other volume managers, they also need to support <code class="literal">REQ_DISCARD</code>, or equivalently, <code class="literal">UNMAP</code> for SCSI devices or <code class="literal">TRIM</code> for ATA devices.
						</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">blkdiscard(8)</code> man page
						</li></ul></div></section><section class="section" id="reclaiming-space-for-vdo-on-fibre-channel-or-ethernet-network_managing-free-space-on-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.1.5. Reclaiming space for VDO on Fibre Channel or Ethernet network</h3></div></div></div><p>
					This procedure reclaims storage space on VDO volumes (or portions of volumes) that are provisioned to hosts on a Fibre Channel storage fabric or an Ethernet network using SCSI target frameworks such as LIO or SCST.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							SCSI initiators can use the <code class="literal">UNMAP</code> command to free space on thinly provisioned storage targets, but the SCSI target framework needs to be configured to advertise support for this command. This is typically done by enabling thin provisioning on these volumes.
						</p><p class="simpara">
							Verify support for <code class="literal">UNMAP</code> on Linux-based SCSI initiators by running the following command:
						</p><pre class="screen"># sg_vpd --page=0xb0 /dev/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span></pre><p class="simpara">
							In the output, verify that the <span class="emphasis"><em>Maximum unmap LBA count</em></span> value is greater than zero.
						</p></li></ul></div></section></section><section class="section" id="starting-or-stopping-vdo-volumes_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.2. Starting or stopping VDO volumes</h2></div></div></div><p>
				You can start or stop a given VDO volume, or all VDO volumes, and their associated UDS indexes.
			</p><section class="section" id="started-and-activated-vdo-volumes_starting-or-stopping-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.2.1. Started and activated VDO volumes</h3></div></div></div><p>
					During the system boot, the <code class="literal">vdo</code> <code class="literal">systemd</code> unit automatically <span class="emphasis"><em>starts</em></span> all VDO devices that are configured as <span class="emphasis"><em>activated</em></span>.
				</p><p>
					The <code class="literal">vdo</code> <code class="literal">systemd</code> unit is installed and enabled by default when the <code class="literal">vdo</code> package is installed. This unit automatically runs the <code class="literal">vdo start --all</code> command at system startup to bring up all activated VDO volumes.
				</p><p>
					You can also create a VDO volume that does not start automatically by adding the <code class="literal">--activate=disabled</code> option to the <code class="literal command">vdo create</code> command.
				</p><div class="formalpara"><p class="title"><strong>The starting order</strong></p><p>
						Some systems might place LVM volumes both above VDO volumes and below them. On these systems, it is necessary to start services in the right order:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The lower layer of LVM must start first. In most systems, starting this layer is configured automatically when the LVM package is installed.
						</li><li class="listitem">
							The <code class="literal">vdo</code> <code class="literal">systemd</code> unit must start then.
						</li><li class="listitem">
							Finally, additional scripts must run in order to start LVM volumes or other services on top of the running VDO volumes.
						</li></ol></div><div class="formalpara"><p class="title"><strong>How long it takes to stop a volume</strong></p><p>
						Stopping a VDO volume takes time based on the speed of your storage device and the amount of data that the volume needs to write:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The volume always writes around 1GiB for every 1GiB of the UDS index.
						</li><li class="listitem">
							With a sparse UDS index, the volume additionally writes the amount of data equal to the block map cache size plus up to 8MiB per slab.
						</li></ul></div></section><section class="section" id="starting-a-vdo-volume_starting-or-stopping-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.2.2. Starting a VDO volume</h3></div></div></div><p>
					This procedure starts a given VDO volume or all VDO volumes on your system.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To start a given VDO volume, use:
						</p><pre class="screen"># vdo start --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem"><p class="simpara">
							To start all VDO volumes, use:
						</p><pre class="screen"># vdo start --all</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">vdo(8)</code> man page
						</li></ul></div></section><section class="section" id="stopping-a-vdo-volume_starting-or-stopping-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.2.3. Stopping a VDO volume</h3></div></div></div><p>
					This procedure stops a given VDO volume or all VDO volumes on your system.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Stop the volume.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To stop a given VDO volume, use:
								</p><pre class="screen"># vdo stop --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem"><p class="simpara">
									To stop all VDO volumes, use:
								</p><pre class="screen"># vdo stop --all</pre></li></ul></div></li><li class="listitem">
							Wait for the volume to finish writing data to the disk.
						</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">vdo(8)</code> man page
						</li></ul></div></section><section class="section" id="related-information-starting-or-stopping-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.2.4. Related information</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							If restarted after an unclean shutdown, VDO performs a rebuild to verify the consistency of its metadata and repairs it if necessary. See <a class="xref" href="index.html#recovering-a-vdo-volume-after-an-unclean-shutdown_maintaining-vdo" title="2.5. Recovering a VDO volume after an unclean shutdown">Section 2.5, “Recovering a VDO volume after an unclean shutdown”</a> for more information on the rebuild process.
						</li></ul></div></section></section><section class="section" id="automatically-starting-vdo-volumes-at-system-boot_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.3. Automatically starting VDO volumes at system boot</h2></div></div></div><p>
				You can configure VDO volumes so that they start automatically at system boot. You can also disable the automatic start.
			</p><section class="section" id="started-and-activated-vdo-volumes_automatically-starting-vdo-volumes-at-system-boot"><div class="titlepage"><div><div><h3 class="title">2.3.1. Started and activated VDO volumes</h3></div></div></div><p>
					During the system boot, the <code class="literal">vdo</code> <code class="literal">systemd</code> unit automatically <span class="emphasis"><em>starts</em></span> all VDO devices that are configured as <span class="emphasis"><em>activated</em></span>.
				</p><p>
					The <code class="literal">vdo</code> <code class="literal">systemd</code> unit is installed and enabled by default when the <code class="literal">vdo</code> package is installed. This unit automatically runs the <code class="literal">vdo start --all</code> command at system startup to bring up all activated VDO volumes.
				</p><p>
					You can also create a VDO volume that does not start automatically by adding the <code class="literal">--activate=disabled</code> option to the <code class="literal command">vdo create</code> command.
				</p><div class="formalpara"><p class="title"><strong>The starting order</strong></p><p>
						Some systems might place LVM volumes both above VDO volumes and below them. On these systems, it is necessary to start services in the right order:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The lower layer of LVM must start first. In most systems, starting this layer is configured automatically when the LVM package is installed.
						</li><li class="listitem">
							The <code class="literal">vdo</code> <code class="literal">systemd</code> unit must start then.
						</li><li class="listitem">
							Finally, additional scripts must run in order to start LVM volumes or other services on top of the running VDO volumes.
						</li></ol></div><div class="formalpara"><p class="title"><strong>How long it takes to stop a volume</strong></p><p>
						Stopping a VDO volume takes time based on the speed of your storage device and the amount of data that the volume needs to write:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The volume always writes around 1GiB for every 1GiB of the UDS index.
						</li><li class="listitem">
							With a sparse UDS index, the volume additionally writes the amount of data equal to the block map cache size plus up to 8MiB per slab.
						</li></ul></div></section><section class="section" id="activating-a-vdo-volume_automatically-starting-vdo-volumes-at-system-boot"><div class="titlepage"><div><div><h3 class="title">2.3.2. Activating a VDO volume</h3></div></div></div><p>
					This procedure activates a VDO volume to enable it to start automatically.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To activate a specific volume:
						</p><pre class="screen"># vdo activate --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem"><p class="simpara">
							To activate all volumes:
						</p><pre class="screen"># vdo activate --all</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">vdo(8)</code> man page
						</li></ul></div></section><section class="section" id="deactivating-a-vdo-volume_automatically-starting-vdo-volumes-at-system-boot"><div class="titlepage"><div><div><h3 class="title">2.3.3. Deactivating a VDO volume</h3></div></div></div><p>
					This procedure deactivates a VDO volume to prevent it from starting automatically.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To deactivate a specific volume:
						</p><pre class="screen"># vdo deactivate --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem"><p class="simpara">
							To deactivate all volumes:
						</p><pre class="screen"># vdo deactivate --all</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">vdo(8)</code> man page
						</li></ul></div></section></section><section class="section" id="selecting-a-vdo-write-mode_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.4. Selecting a VDO write mode</h2></div></div></div><p>
				You can configure write mode for a VDO volume, based on what the underlying block device requires. By default, VDO selects write mode automatically.
			</p><section class="section" id="vdo-write-modes_selecting-a-vdo-write-mode"><div class="titlepage"><div><div><h3 class="title">2.4.1. VDO write modes</h3></div></div></div><p>
					VDO supports the following write modes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">sync</code></span></dt><dd><p class="simpara">
								When VDO is in <code class="literal">sync</code> mode, the layers above it assume that a write command writes data to persistent storage. As a result, it is not necessary for the file system or application, for example, to issue FLUSH or force unit access (FUA) requests to cause the data to become persistent at critical points.
							</p><p class="simpara">
								VDO must be set to <code class="literal">sync</code> mode only when the underlying storage guarantees that data is written to persistent storage when the write command completes. That is, the storage must either have no volatile write cache, or have a write through cache.
							</p></dd><dt><span class="term"><code class="literal">async</code></span></dt><dd><p class="simpara">
								When VDO is in <code class="literal">async</code> mode, VDO does not guarantee that the data is written to persistent storage when a write command is acknowledged. The file system or application must issue FLUSH or FUA requests to ensure data persistence at critical points in each transaction.
							</p><p class="simpara">
								VDO must be set to <code class="literal">async</code> mode if the underlying storage does not guarantee that data is written to persistent storage when the write command completes; that is, when the storage has a volatile write back cache.
							</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
									When VDO is running in <code class="literal">async</code> mode, it is not compliant with Atomicity, Consistency, Isolation, Durability (ACID). When there is an application or a file system that assumes ACID compliance on top of the VDO volume, <code class="literal">async</code> mode might cause unexpected data loss.
								</p></div></div></dd><dt><span class="term"><code class="literal">auto</code></span></dt><dd>
								The <code class="literal">auto</code> mode automatically selects <code class="literal">sync</code> or <code class="literal">async</code> based on the characteristics of each device. This is the default option.
							</dd></dl></div></section><section class="section" id="the-internal-processing-of-vdo-write-modes_selecting-a-vdo-write-mode"><div class="titlepage"><div><div><h3 class="title">2.4.2. The internal processing of VDO write modes</h3></div></div></div><p>
					This section provides details on how the <code class="literal">sync</code> and <code class="literal">async</code> VDO write modes operate.
				</p><p>
					If the <code class="literal">kvdo</code> module is operating in synchronous mode:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							It temporarily writes the data in the request to the allocated block and then acknowledges the request.
						</li><li class="listitem">
							Once the acknowledgment is complete, an attempt is made to deduplicate the block by computing a MurmurHash-3 signature of the block data, which is sent to the VDO index.
						</li><li class="listitem">
							If the VDO index contains an entry for a block with the same signature, <code class="literal">kvdo</code> reads the indicated block and does a byte-by-byte comparison of the two blocks to verify that they are identical.
						</li><li class="listitem">
							If they are indeed identical, then <code class="literal">kvdo</code> updates its block map so that the logical block points to the corresponding physical block and releases the allocated physical block.
						</li><li class="listitem">
							If the VDO index did not contain an entry for the signature of the block being written, or the indicated block does not actually contain the same data, <code class="literal">kvdo</code> updates its block map to make the temporary physical block permanent.
						</li></ol></div><p>
					If <code class="literal">kvdo</code> is operating in asynchronous mode:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Instead of writing the data, it will immediately acknowledge the request.
						</li><li class="listitem">
							It will then attempt to deduplicate the block in same manner as described above.
						</li><li class="listitem">
							If the block turns out to be a duplicate, <code class="literal">kvdo</code> updates its block map and releases the allocated block. Otherwise, it writes the data in the request to the allocated block and updates the block map to make the physical block permanent.
						</li></ol></div></section><section class="section" id="checking-the-write-mode-on-a-vdo-volume_selecting-a-vdo-write-mode"><div class="titlepage"><div><div><h3 class="title">2.4.3. Checking the write mode on a VDO volume</h3></div></div></div><p>
					This procedure lists the active write mode on a selected VDO volume.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Use the following command to see the write mode used by a VDO volume:
						</p><pre class="screen"># vdo status --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre><p class="simpara">
							The output lists:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									The <span class="emphasis"><em>configured write policy</em></span>, which is the option selected from <code class="literal">sync</code>, <code class="literal">async</code>, or <code class="literal">auto</code>
								</li><li class="listitem">
									The <span class="emphasis"><em>write policy</em></span>, which is the particular write mode that VDO applied, that is either <code class="literal">sync</code> or <code class="literal">async</code>
								</li></ul></div></li></ul></div></section><section class="section" id="checking-for-a-volatile-cache_selecting-a-vdo-write-mode"><div class="titlepage"><div><div><h3 class="title">2.4.4. Checking for a volatile cache</h3></div></div></div><p>
					This procedure determines if a block device has a volatile cache or not. You can use the information to choose between the <code class="literal">sync</code> and <code class="literal">async</code> VDO write modes.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Use either of the following methods to determine if a device has a writeback cache:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Read the <code class="literal filename">/sys/block/<span class="emphasis"><em><span class="replaceable replaceable">block-device</span></em></span>/device/scsi_disk/<span class="emphasis"><em><span class="replaceable replaceable">identifier</span></em></span>/cache_type</code> <code class="literal">sysfs</code> file. For example:
								</p><pre class="screen">$ cat '/sys/block/sda/device/scsi_disk/7:0:0:0/cache_type'

write back</pre><pre class="screen">$ cat '/sys/block/sdb/device/scsi_disk/1:2:0:0/cache_type'

None</pre></li><li class="listitem"><p class="simpara">
									Alternatively, you can find whether the above mentioned devices have a write cache or not in the kernel boot log:
								</p><pre class="screen">sd 7:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
sd 1:2:0:0: [sdb] Write cache: disabled, read cache: disabled, supports DPO and FUA</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							In the previous examples:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Device <code class="literal">sda</code> indicates that it <span class="emphasis"><em>has</em></span> a writeback cache. Use <code class="literal">async</code> mode for it.
								</li><li class="listitem">
									Device <code class="literal">sdb</code> indicates that it <span class="emphasis"><em>does not have</em></span> a writeback cache. Use <code class="literal">sync</code> mode for it.
								</li></ul></div><p class="simpara">
							You should configure VDO to use the <code class="literal">sync</code> write mode if the <code class="literal">cache_type</code> value is <code class="literal">None</code> or <code class="literal">write through</code>.
						</p></li></ol></div></section><section class="section" id="setting-a-vdo-write-mode_selecting-a-vdo-write-mode"><div class="titlepage"><div><div><h3 class="title">2.4.5. Setting a VDO write mode</h3></div></div></div><p>
					This procedure sets a write mode for a VDO volume, either for an existing one or when creating a new volume.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Using an incorrect write mode might result in data loss after a power failure, a system crash, or any unexpected loss of contact with the disk.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Determine which write mode is correct for your device. See <a class="xref" href="index.html#checking-for-a-volatile-cache_selecting-a-vdo-write-mode" title="2.4.4. Checking for a volatile cache">Section 2.4.4, “Checking for a volatile cache”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You can set a write mode either on an existing VDO volume or when creating a new volume:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									To modify an existing VDO volume, use:
								</p><pre class="screen"># vdo changeWritePolicy --writePolicy=<span class="emphasis"><em><span class="replaceable replaceable">sync|async|auto</span></em></span> \
                        --name=<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span></pre></li><li class="listitem">
									To specify a write mode when creating a VDO volume, add the <code class="literal option">--writePolicy=<span class="emphasis"><em><span class="replaceable replaceable">sync|async|auto</span></em></span></code> option to the <code class="literal">vdo create</code> command.
								</li></ul></div></li></ul></div></section></section><section class="section" id="recovering-a-vdo-volume-after-an-unclean-shutdown_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.5. Recovering a VDO volume after an unclean shutdown</h2></div></div></div><p>
				You can recover a VDO volume after an unclean shutdown to enable it to continue operating. The task is mostly automated. Additionally, you can clean up after a VDO volume was unsuccessfully created because of a failure in the process.
			</p><section class="section" id="vdo-write-modes_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.1. VDO write modes</h3></div></div></div><p>
					VDO supports the following write modes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">sync</code></span></dt><dd><p class="simpara">
								When VDO is in <code class="literal">sync</code> mode, the layers above it assume that a write command writes data to persistent storage. As a result, it is not necessary for the file system or application, for example, to issue FLUSH or force unit access (FUA) requests to cause the data to become persistent at critical points.
							</p><p class="simpara">
								VDO must be set to <code class="literal">sync</code> mode only when the underlying storage guarantees that data is written to persistent storage when the write command completes. That is, the storage must either have no volatile write cache, or have a write through cache.
							</p></dd><dt><span class="term"><code class="literal">async</code></span></dt><dd><p class="simpara">
								When VDO is in <code class="literal">async</code> mode, VDO does not guarantee that the data is written to persistent storage when a write command is acknowledged. The file system or application must issue FLUSH or FUA requests to ensure data persistence at critical points in each transaction.
							</p><p class="simpara">
								VDO must be set to <code class="literal">async</code> mode if the underlying storage does not guarantee that data is written to persistent storage when the write command completes; that is, when the storage has a volatile write back cache.
							</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
									When VDO is running in <code class="literal">async</code> mode, it is not compliant with Atomicity, Consistency, Isolation, Durability (ACID). When there is an application or a file system that assumes ACID compliance on top of the VDO volume, <code class="literal">async</code> mode might cause unexpected data loss.
								</p></div></div></dd><dt><span class="term"><code class="literal">auto</code></span></dt><dd>
								The <code class="literal">auto</code> mode automatically selects <code class="literal">sync</code> or <code class="literal">async</code> based on the characteristics of each device. This is the default option.
							</dd></dl></div></section><section class="section" id="vdo-volume-recovery_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.2. VDO volume recovery</h3></div></div></div><p>
					When a VDO volume restarts after an unclean shutdown, VDO performs the following actions:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Verifies the consistency of the metadata on the volume.
						</li><li class="listitem">
							Rebuilds a portion of the metadata to repair it if necessary.
						</li></ul></div><p>
					Rebuilds are automatic and do not require user intervention.
				</p><p>
					VDO might rebuild different writes depending on the active write mode:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">sync</code></span></dt><dd>
								If VDO was running on synchronous storage and write policy was set to <code class="literal">sync</code>, all data written to the volume are fully recovered.
							</dd><dt><span class="term"><code class="literal">async</code></span></dt><dd>
								If the write policy was <code class="literal">async</code>, some writes might not be recovered if they were not made durable. This is done by sending VDO a <code class="literal">FLUSH</code> command or a write I/O tagged with the FUA (force unit access) flag. You can accomplish this from user mode by invoking a data integrity operation like <code class="literal">fsync</code>, <code class="literal">fdatasync</code>, <code class="literal">sync</code>, or <code class="literal">umount</code>.
							</dd></dl></div><p>
					In either mode, some writes that were either unacknowledged or not followed by a flush might also be rebuilt.
				</p><h5 id="automatic_and_manual_recovery">Automatic and manual recovery</h5><p>
					When a VDO volume enters <code class="literal">recovering</code> operating mode, VDO automatically rebuilds the unclean VDO volume after the it comes back online. This is called <span class="emphasis"><em>online recovery</em></span>.
				</p><p>
					If VDO cannot recover a VDO volume successfully, it places the volume in <code class="literal">read-only</code> operating mode that persists across volume restarts. You need to fix the problem manually by forcing a rebuild.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information on automatic and manual recovery and VDO operating modes, see <a class="xref" href="index.html#vdo-operating-modes_recovering-a-vdo-volume-after-an-unclean-shutdown" title="2.5.3. VDO operating modes">Section 2.5.3, “VDO operating modes”</a>.
						</li></ul></div></section><section class="section" id="vdo-operating-modes_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.3. VDO operating modes</h3></div></div></div><p>
					This section describes the modes that indicate whether a VDO volume is operating normally or is recovering from an error.
				</p><p>
					You can display the current operating mode of a VDO volume using the <code class="literal command">vdostats --verbose <span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span></code> command. See the <span class="emphasis"><em>Operating mode</em></span> attribute in the output.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">normal</code></span></dt><dd>
								This is the default operating mode. VDO volumes are always in <code class="literal">normal</code> mode, unless either of the following states forces a different mode. A newly created VDO volume starts in <code class="literal">normal</code> mode.
							</dd><dt><span class="term"><code class="literal">recovering</code></span></dt><dd><p class="simpara">
								When a VDO volume does not save all of its metadata before shutting down, it automatically enters <code class="literal">recovering</code> mode the next time that it starts up. The typical reasons for entering this mode are sudden power loss or a problem from the underlying storage device.
							</p><p class="simpara">
								In <code class="literal">recovering</code> mode, VDO is fixing the references counts for each physical block of data on the device. Recovery usually does not take very long. The time depends on how large the VDO volume is, how fast the underlying storage device is, and how many other requests VDO is handling simultaneously. The VDO volume functions normally with the following exceptions:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Initially, the amount of space available for write requests on the volume might be limited. As more of the metadata is recovered, more free space becomes available.
									</li><li class="listitem">
										Data written while the VDO volume is recovering might fail to deduplicate against data written before the crash if that data is in a portion of the volume that has not yet been recovered. VDO can compress data while recovering the volume. You can still read or overwrite compressed blocks.
									</li><li class="listitem">
										During an online recovery, certain statistics are unavailable: for example, <span class="emphasis"><em>blocks in use</em></span> and <span class="emphasis"><em>blocks free</em></span>. These statistics become available when the rebuild is complete.
									</li><li class="listitem">
										Response times for reads and writes might be slower than usual due to the ongoing recovery work
									</li></ul></div><p class="simpara">
								You can safely shut down the VDO volume in <code class="literal">recovering</code> mode. If the recovery does not finish before shutting down, the device enters <code class="literal">recovering</code> mode again the next time that it starts up.
							</p><p class="simpara">
								The VDO volume automatically exits <code class="literal">recovering</code> mode and moves to <code class="literal">normal</code> mode when it has fixed all the reference counts. No administrator action is necessary. For details, see <a class="xref" href="index.html#recovering-a-vdo-volume-online_recovering-a-vdo-volume-after-an-unclean-shutdown" title="2.5.4. Recovering a VDO volume online">Section 2.5.4, “Recovering a VDO volume online”</a>.
							</p></dd><dt><span class="term"><code class="literal">read-only</code></span></dt><dd><p class="simpara">
								When a VDO volume encounters a fatal internal error, it enters <code class="literal">read-only</code> mode. Events that might cause <code class="literal">read-only</code> mode include metadata corruption or the backing storage device becoming read-only. This mode is an error state.
							</p><p class="simpara">
								In <code class="literal">read-only</code> mode, data reads work normally but data writes always fail. The VDO volume stays in <code class="literal">read-only</code> mode until an administrator fixes the problem.
							</p><p class="simpara">
								You can safely shut down a VDO volume in <code class="literal">read-only</code> mode. The mode usually persists after the VDO volume is restarted. In rare cases, the VDO volume is not able to record the <code class="literal">read-only</code> state to the backing storage device. In these cases, VDO attempts to do a recovery instead.
							</p><p class="simpara">
								Once a volume is in read-only mode, there is no guarantee that data on the volume has not been lost or corrupted. In such cases, Red Hat recommends copying the data out of the read-only volume and possibly restoring the volume from backup.
							</p><p class="simpara">
								If the risk of data corruption is acceptable, it is possible to force an offline rebuild of the VDO volume metadata so the volume can be brought back online and made available. The integrity of the rebuilt data cannot be guaranteed. For details, see <a class="xref" href="index.html#forcing-an-offline-rebuild-of-a-vdo-volume-metadata_recovering-a-vdo-volume-after-an-unclean-shutdown" title="2.5.5. Forcing an offline rebuild of a VDO volume metadata">Section 2.5.5, “Forcing an offline rebuild of a VDO volume metadata”</a>.
							</p></dd></dl></div></section><section class="section" id="recovering-a-vdo-volume-online_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.4. Recovering a VDO volume online</h3></div></div></div><p>
					This procedure performs an online recovery on a VDO volume to recover metadata after an unclean shutdown.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							If the VDO volume is not already started, start it:
						</p><pre class="screen"># vdo start --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre><p class="simpara">
							No additional steps are necessary. The recovery runs in the background.
						</p></li><li class="listitem">
							If you rely on volume statistics like <span class="emphasis"><em>blocks in use</em></span> and <span class="emphasis"><em>blocks free</em></span>, wait until they are available.
						</li></ol></div></section><section class="section" id="forcing-an-offline-rebuild-of-a-vdo-volume-metadata_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.5. Forcing an offline rebuild of a VDO volume metadata</h3></div></div></div><p>
					This procedure performs a forced offline rebuild of a VDO volume metadata to recover after an unclean shutdown.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						This procedure might cause data loss on the volume.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The VDO volume is started.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check if the volume is in read-only mode. See the <span class="emphasis"><em>operating mode</em></span> attribute in the command output:
						</p><pre class="screen"># vdo status --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre><p class="simpara">
							If the volume is not in read-only mode, it is not necessary to force an offline rebuild. Perform an online recovery as described in <a class="xref" href="index.html#recovering-a-vdo-volume-online_recovering-a-vdo-volume-after-an-unclean-shutdown" title="2.5.4. Recovering a VDO volume online">Section 2.5.4, “Recovering a VDO volume online”</a>.
						</p></li><li class="listitem"><p class="simpara">
							Stop the volume if it is running:
						</p><pre class="screen"># vdo stop --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem"><p class="simpara">
							Restart the volume with the <code class="literal option">--forceRebuild</code> option:
						</p><pre class="screen"># vdo start --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span> --forceRebuild</pre></li></ol></div></section><section class="section" id="removing-an-unsuccessfully-created-vdo-volume_recovering-a-vdo-volume-after-an-unclean-shutdown"><div class="titlepage"><div><div><h3 class="title">2.5.6. Removing an unsuccessfully created VDO volume</h3></div></div></div><p>
					This procedure cleans up a VDO volume in an intermediate state. A volume is left in an intermediate state if a failure occurs when creating the volume. This might happen when, for example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The system crashes
						</li><li class="listitem">
							Power fails
						</li><li class="listitem">
							The administrator interrupts a running <code class="literal command">vdo create</code> command
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To clean up, remove the unsuccessfully created volume with the <code class="literal option">--force</code> option:
						</p><pre class="screen"># vdo remove --force --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre><p class="simpara">
							The <code class="literal option">--force</code> option is required because the administrator might have caused a conflict by changing the system configuration since the volume was unsuccessfully created.
						</p><p class="simpara">
							Without the <code class="literal option">--force</code> option, the <code class="literal command">vdo remove</code> command fails with the following message:
						</p><pre class="screen">[...]
A previous operation failed.
Recovery from the failure either failed or was interrupted.
Add '--force' to 'remove' to perform the following cleanup.
Steps to clean up VDO <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>:
umount -f /dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>
udevadm settle
dmsetup remove <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>
vdo: ERROR - VDO volume <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span> previous operation (create) is incomplete</pre></li></ul></div></section></section><section class="section" id="optimizing-the-uds-index_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.6. Optimizing the UDS index</h2></div></div></div><p>
				You can configure certain settings of the UDS index to optimize it on your system.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					You cannot change the properties of the UDS index <span class="emphasis"><em>after</em></span> creating the VDO volume.
				</p></div></div><section class="section" id="the-uds-index_optimizing-the-uds-index"><div class="titlepage"><div><div><h3 class="title">2.6.1. The UDS index</h3></div></div></div><p>
					VDO uses a high-performance deduplication index called UDS to detect duplicate blocks of data as they are being stored.
				</p><p>
					The UDS index provides the foundation of the VDO product. For each new piece of data, it quickly determines if that piece is identical to any previously stored piece of data. If the index finds match, the storage system can then internally reference the existing item to avoid storing the same information more than once.
				</p><p>
					The UDS index runs inside the kernel as the <code class="literal">uds</code> kernel module.
				</p><p>
					The <span class="emphasis"><em>deduplication window</em></span> is the number of previously written blocks that the index remembers. The size of the deduplication window is configurable. For a given window size, the index requires a specific amount of RAM and a specific amount of disk space. The size of the window is usually determined by specifying the size of the index memory using the <code class="literal option">--indexMem=size</code> option. VDO then determines the amount of disk space to use automatically.
				</p><p>
					The UDS index consists of two parts:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A compact representation is used in memory that contains at most one entry per unique block.
						</li><li class="listitem">
							An on-disk component that records the associated block names presented to the index as they occur, in order.
						</li></ul></div><p>
					UDS uses an average of 4 bytes per entry in memory, including cache.
				</p><p>
					The on-disk component maintains a bounded history of data passed to UDS. UDS provides deduplication advice for data that falls within this deduplication window, containing the names of the most recently seen blocks. The deduplication window allows UDS to index data as efficiently as possible while limiting the amount of memory required to index large data repositories. Despite the bounded nature of the deduplication window, most datasets which have high levels of deduplication also exhibit a high degree of temporal locality — in other words, most deduplication occurs among sets of blocks that were written at about the same time. Furthermore, in general, data being written is more likely to duplicate data that was recently written than data that was written a long time ago. Therefore, for a given workload over a given time interval, deduplication rates will often be the same whether UDS indexes only the most recent data or all the data.
				</p><p>
					Because duplicate data tends to exhibit temporal locality, it is rarely necessary to index every block in the storage system. Were this not so, the cost of index memory would outstrip the savings of reduced storage costs from deduplication. Index size requirements are more closely related to the rate of data ingestion. For example, consider a storage system with 100 TB of total capacity but with an ingestion rate of 1 TB per week. With a deduplication window of 4 TB, UDS can detect most redundancy among the data written within the last month.
				</p></section><section class="section" id="recommended-uds-index-configuration_optimizing-the-uds-index"><div class="titlepage"><div><div><h3 class="title">2.6.2. Recommended UDS index configuration</h3></div></div></div><p>
					This section describes the recommended options to use with the UDS index, based on your intended use case.
				</p><p>
					In general, Red Hat recommends using a <span class="strong strong"><strong>sparse</strong></span> UDS index for all production use cases. This is an extremely efficient indexing data structure, requiring approximately one-tenth of a byte of RAM per block in its deduplication window. On disk, it requires approximately 72 bytes of disk space per block. The minimum configuration of this index uses 256 MB of RAM and approximately 25 GB of space on disk.
				</p><p>
					To use this configuration, specify the <code class="literal option">--sparseIndex=enabled --indexMem=0.25</code> options to the <code class="literal command">vdo create</code> command. This configuration results in a deduplication window of 2.5 TB (meaning it will remember a history of 2.5 TB). For most use cases, a deduplication window of 2.5 TB is appropriate for deduplicating storage pools that are up to 10 TB in size.
				</p><p>
					The default configuration of the index, however, is to use a <span class="strong strong"><strong>dense</strong></span> index. This index is considerably less efficient (by a factor of 10) in RAM, but it has much lower (also by a factor of 10) minimum required disk space, making it more convenient for evaluation in constrained environments.
				</p><p>
					In general, a deduplication window that is one quarter of the physical size of a VDO volume is a recommended configuration. However, this is not an actual requirement. Even small deduplication windows (compared to the amount of physical storage) can find significant amounts of duplicate data in many use cases. Larger windows may also be used, but it in most cases, there will be little additional benefit to doing so.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Speak with your Red Hat Technical Account Manager representative for additional guidelines on tuning this important system parameter.
						</li></ul></div></section></section><section class="section" id="enabling-or-disabling-deduplication-in-vdo_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.7. Enabling or disabling deduplication in VDO</h2></div></div></div><p>
				In some instances, you might want to temporarily disable deduplication of data being written to a VDO volume while still retaining the ability to read to and write from the volume. Disabling deduplication prevents subsequent writes from being deduplicated, but the data that was already deduplicated remains so.
			</p><section class="section" id="deduplication-in-vdo_enabling-or-disabling-deduplication-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.7.1. Deduplication in VDO</h3></div></div></div><p>
					Deduplication is a technique for reducing the consumption of storage resources by eliminating multiple copies of duplicate blocks.
				</p><p>
					Instead of writing the same data more than once, VDO detects each duplicate block and records it as a reference to the original block. VDO maintains a mapping from logical block addresses, which are used by the storage layer above VDO, to physical block addresses, which are used by the storage layer under VDO.
				</p><p>
					After deduplication, multiple logical block addresses can be mapped to the same physical block address. These are called shared blocks. Block sharing is invisible to users of the storage, who read and write blocks as they would if VDO were not present.
				</p><p>
					When a shared block is overwritten, VDO allocates a new physical block for storing the new block data to ensure that other logical block addresses that are mapped to the shared physical block are not modified.
				</p></section><section class="section" id="enabling-deduplication-on-a-vdo-volume_enabling-or-disabling-deduplication-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.7.2. Enabling deduplication on a VDO volume</h3></div></div></div><p>
					This procedure restarts the associated UDS index and informs the VDO volume that deduplication is active again.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Deduplication is enabled by default.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To restart deduplication on a VDO volume, use the following command:
						</p><pre class="screen"># vdo enableDeduplication <span class="emphasis"><em><span class="replaceable replaceable">--name=my-vdo</span></em></span></pre></li></ul></div></section><section class="section" id="disabling-deduplication-on-a-vdo-volume_enabling-or-disabling-deduplication-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.7.3. Disabling deduplication on a VDO volume</h3></div></div></div><p>
					This procedure stops the associated UDS index and informs the VDO volume that deduplication is no longer active.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To stop deduplication on a VDO volume, use the following command:
						</p><pre class="screen"># vdo disableDeduplication <span class="emphasis"><em><span class="replaceable replaceable">--name=my-vdo</span></em></span></pre></li><li class="listitem">
							You can also disable deduplication when creating a new VDO volume by adding the <code class="literal option">--deduplication=disabled</code> option to the <code class="literal command">vdo create</code> command.
						</li></ul></div></section></section><section class="section" id="enabling-or-disabling-compression-in-vdo_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.8. Enabling or disabling compression in VDO</h2></div></div></div><p>
				VDO provides data compression. You can disable it to maximize performance or to speed processing of data that is unlikely to compress, or re-enable it to increase space savings.
			</p><section class="section" id="compression-in-vdo_enabling-or-disabling-compression-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.8.1. Compression in VDO</h3></div></div></div><p>
					In addition to block-level deduplication, VDO also provides inline block-level compression using the HIOPS Compression™ technology.
				</p><p>
					VDO volume compression is on by default.
				</p><p>
					While deduplication is the optimal solution for virtual machine environments and backup applications, compression works very well with structured and unstructured file formats that do not typically exhibit block-level redundancy, such as log files and databases.
				</p><p>
					Compression operates on blocks that have not been identified as duplicates. When VDO sees unique data for the first time, it compresses the data. Subsequent copies of data that have already been stored are deduplicated without requiring an additional compression step.
				</p><p>
					The compression feature is based on a parallelized packaging algorithm that enables it to handle many compression operations at once. After first storing the block and responding to the requestor, a best-fit packing algorithm finds multiple blocks that, when compressed, can fit into a single physical block. After it is determined that a particular physical block is unlikely to hold additional compressed blocks, it is written to storage and the uncompressed blocks are freed and reused.
				</p><p>
					By performing the compression and packaging operations after having already responded to the requestor, using compression imposes a minimal latency penalty.
				</p></section><section class="section" id="enabling-compression-on-a-vdo-volume_enabling-or-disabling-compression-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.8.2. Enabling compression on a VDO volume</h3></div></div></div><p>
					This procedure enables compression on a VDO volume to increase space savings.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Compression is enabled by default.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To start it again, use the following command:
						</p><pre class="screen"># vdo enableCompression --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li></ul></div></section><section class="section" id="disabling-compression-on-a-vdo-volume_enabling-or-disabling-compression-in-vdo"><div class="titlepage"><div><div><h3 class="title">2.8.3. Disabling compression on a VDO volume</h3></div></div></div><p>
					This procedure stops compression on a VDO volume to maximize performance or to speed processing of data that is unlikely to compress.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To stop compression on an existing VDO volume, use the following command:
						</p><pre class="screen"># vdo disableCompression --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li><li class="listitem">
							Alternatively, you can disable compression by adding the <code class="literal option">--compression=disabled</code> option to the <code class="literal command">vdo create</code> command when creating a new volume.
						</li></ul></div></section></section><section class="section" id="increasing-the-size-of-a-vdo-volume_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.9. Increasing the size of a VDO volume</h2></div></div></div><p>
				You can increase the physical size of a VDO volume to utilize more underlying storage capacity, or the logical size to provide more capacity on the volume.
			</p><section class="section" id="thin-provisioning-in-vdo_increasing-the-size-of-a-vdo-volume"><div class="titlepage"><div><div><h3 class="title">2.9.1. Thin provisioning in VDO</h3></div></div></div><p>
					VDO is a thinly provisioned block storage target. The amount of physical space that a VDO volume uses might differ from the size of the volume that is presented to users of the storage. You can make use of this disparity to save on storage costs.
				</p><div class="formalpara"><p class="title"><strong>Out-of-space conditions</strong></p><p>
						Take care to avoid unexpectedly running out of storage space, if the data written does not achieve the expected rate of optimization.
					</p></div><p>
					Whenever the number of logical blocks (virtual storage) exceeds the number of physical blocks (actual storage), it becomes possible for file systems and applications to unexpectedly run out of space. For that reason, storage systems using VDO must provide you with a way of monitoring the size of the free pool on the VDO volume.
				</p><p>
					You can determine the size of this free pool by using the <code class="literal">vdostats</code> utility. The default output of this utility lists information for all running VDO volumes in a format similar to the Linux <code class="literal">df</code> utility. For example:
				</p><pre class="screen">Device                1K-blocks   Used        Available   Use%
/dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>  211812352   105906176   105906176   50%</pre><p>
					When the physical storage capacity of a VDO volume is almost full, VDO reports a warning in the system log, similar to the following:
				</p><pre class="screen">Oct  2 17:13:39 system lvm[13863]: Monitoring VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>.
Oct  2 17:27:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 80.69% full.
Oct  2 17:28:19 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 85.25% full.
Oct  2 17:29:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 90.64% full.
Oct  2 17:30:29 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 96.07% full.</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						These warning messages appear only when the <code class="literal">lvm2-monitor</code> service is running. It is enabled by default.
					</p></div></div><div class="formalpara"><p class="title"><strong>How to prevent out-of-space conditions</strong></p><p>
						If the size of free pool drops below a certain level, you can take action by:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Deleting data. This reclaims space whenever the deleted data is not duplicated. Deleting data frees the space only after discards are issued.
						</li><li class="listitem">
							Adding physical storage
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Monitor physical space on your VDO volumes to prevent out-of-space situations. Running out of physical blocks might result in losing recently written, unacknowledged data on the VDO volume.
					</p></div></div><div class="formalpara"><p class="title"><strong>Thin provisioning and the TRIM and DISCARD commands</strong></p><p>
						To benefit from the storage savings of thin provisioning, the physical storage layer needs to know when data is deleted. File systems that work with thinly provisioned storage send <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands to inform the storage system when a logical block is no longer required.
					</p></div><p>
					Several methods of sending the <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands are available:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							With the <code class="literal">discard</code> mount option, the file systems can send these commands whenever a block is deleted.
						</li><li class="listitem">
							You can send the commands in a controlled manner by using utilities such as <code class="literal">fstrim</code>. These utilities tell the file system to detect which logical blocks are unused and send the information to the storage system in the form of a <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> command.
						</li></ul></div><p>
					The need to use <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> on unused blocks is not unique to VDO. Any thinly provisioned storage system has the same challenge.
				</p></section><section class="section" id="increasing-the-logical-size-of-a-vdo-volume_increasing-the-size-of-a-vdo-volume"><div class="titlepage"><div><div><h3 class="title">2.9.2. Increasing the logical size of a VDO volume</h3></div></div></div><p>
					This procedure increases the logical size of a given VDO volume. It enables you to initially create VDO volumes that have a logical size small enough to be safe from running out of space. After some period of time, you can evaluate the actual rate of data reduction, and if sufficient, you can grow the logical size of the VDO volume to take advantage of the space savings.
				</p><p>
					It is not possible to decrease the logical size of a VDO volume.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To grow the logical size, use:
						</p><pre class="screen"># vdo growLogical --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span> \
                  --vdoLogicalSize=<span class="emphasis"><em><span class="replaceable replaceable">new-logical-size</span></em></span></pre><p class="simpara">
							When the logical size increases, VDO informs any devices or file systems on top of the volume of the new size.
						</p></li></ul></div></section><section class="section" id="increasing-the-physical-size-of-a-vdo-volume_increasing-the-size-of-a-vdo-volume"><div class="titlepage"><div><div><h3 class="title">2.9.3. Increasing the physical size of a VDO volume</h3></div></div></div><p>
					This procedure increases the amount of physical storage available to a VDO volume.
				</p><p>
					It is not possible to shrink a VDO volume in this way.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The underlying block device has a larger capacity than the current physical size of the VDO volume.
						</p><p class="simpara">
							If it does not, you can attempt to increase the size of the device. The exact procedure depends on the type of the device. For example, to resize an MBR or GPT partition, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/assembly_getting-started-with-partitions_managing-storage-devices#assembly_resizing-a-partition_assembly_getting-started-with-partitions">Resizing a partition</a> section in the <span class="emphasis"><em>Managing storage devices</em></span> guide.
						</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Add the new physical storage space to the VDO volume:
						</p><pre class="screen"># vdo growPhysical --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li></ul></div></section></section><section class="section" id="removing-vdo-volumes_maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.10. Removing VDO volumes</h2></div></div></div><p>
				You can remove an existing VDO volume on your system.
			</p><section class="section" id="removing-a-working-vdo-volume_removing-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.10.1. Removing a working VDO volume</h3></div></div></div><p>
					This procedure removes a VDO volume and its associated UDS index.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Unmount the file systems and stop the applications that are using the storage on the VDO volume.
						</li><li class="listitem"><p class="simpara">
							To remove the VDO volume from your system, use:
						</p><pre class="screen"># vdo remove --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre></li></ol></div></section><section class="section" id="removing-an-unsuccessfully-created-vdo-volume_removing-vdo-volumes"><div class="titlepage"><div><div><h3 class="title">2.10.2. Removing an unsuccessfully created VDO volume</h3></div></div></div><p>
					This procedure cleans up a VDO volume in an intermediate state. A volume is left in an intermediate state if a failure occurs when creating the volume. This might happen when, for example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The system crashes
						</li><li class="listitem">
							Power fails
						</li><li class="listitem">
							The administrator interrupts a running <code class="literal command">vdo create</code> command
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To clean up, remove the unsuccessfully created volume with the <code class="literal option">--force</code> option:
						</p><pre class="screen"># vdo remove --force --name=<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span></pre><p class="simpara">
							The <code class="literal option">--force</code> option is required because the administrator might have caused a conflict by changing the system configuration since the volume was unsuccessfully created.
						</p><p class="simpara">
							Without the <code class="literal option">--force</code> option, the <code class="literal command">vdo remove</code> command fails with the following message:
						</p><pre class="screen">[...]
A previous operation failed.
Recovery from the failure either failed or was interrupted.
Add '--force' to 'remove' to perform the following cleanup.
Steps to clean up VDO <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>:
umount -f /dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>
udevadm settle
dmsetup remove <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span>
vdo: ERROR - VDO volume <span class="emphasis"><em><span class="replaceable replaceable">my-vdo</span></em></span> previous operation (create) is incomplete</pre></li></ul></div></section></section><section class="section" id="related-information-maintaining-vdo"><div class="titlepage"><div><div><h2 class="title">2.11. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You can use the <span class="strong strong"><strong>Ansible</strong></span> tool to automate VDO deployment and administration. For details, see:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Ansible documentation: <a class="link" href="https://docs.ansible.com/">https://docs.ansible.com/</a>
							</li><li class="listitem">
								VDO Ansible module documentation: <a class="link" href="https://docs.ansible.com/ansible/latest/modules/vdo_module.html">https://docs.ansible.com/ansible/latest/modules/vdo_module.html</a>
							</li></ul></div></li></ul></div></section></section><section class="chapter" id="testing-vdo-space-savings_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Testing VDO space savings</h1></div></div></div><p>
			You can perform a series of tests to determine how much storage space you can save by using VDO.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					One or more physical block devices are available.
				</li><li class="listitem">
					The target block device is larger than 512 GiB.
				</li><li class="listitem">
					VDO is installed.
				</li></ul></div><section class="section" id="the-purpose-and-outcomes-of-testing-vdo_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.1. The purpose and outcomes of testing VDO</h2></div></div></div><p>
				VDO tests provided by Red Hat help produce an assessment of the integration of VDO into existing storage devices. They are intended to augment, not replace, your internal evaluation efforts.
			</p><p>
				The test results help Red Hat engineers to assist you in understanding VDO behavior in specific storage environments. Original equipment manufacturers (OEMs) can learn how to design their deduplication and compression capable devices, and how their customers can tune their applications for those devices.
			</p><div class="itemizedlist"><p class="title"><strong>Goals</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Identify configuration settings that elicit optimal responses from the test device.
					</li><li class="listitem">
						Explain basic tuning parameters to help avoid product misconfigurations.
					</li><li class="listitem">
						Create a reference of performance results to compare with real use cases.
					</li><li class="listitem">
						Identify how different workloads affect performance and data efficiency.
					</li><li class="listitem">
						Shorten the time to market with VDO implementations.
					</li></ul></div><div class="formalpara"><p class="title"><strong>The test plan and test conditions</strong></p><p>
					The VDO tests provide conditions under which VDO can be most realistically evaluated. Altering test procedures or parameters might invalidate results. Red Hat sales engineers can guide you when modifying test plans.
				</p></div><p>
				For an effective test plan, you must study the VDO architecture and explore these items:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The performance in high-load environments
					</li><li class="listitem">
						The configurable properties of VDO for performance tuning end-user applications
					</li><li class="listitem">
						The impact of VDO being a native 4 KiB block device
					</li><li class="listitem">
						The response to access patterns and distributions of deduplication and compression
					</li><li class="listitem">
						The value of cost versus capacity versus performance for a given application
					</li></ul></div></section><section class="section" id="thin-provisioning-in-vdo_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.2. Thin provisioning in VDO</h2></div></div></div><p>
				VDO is a thinly provisioned block storage target. The amount of physical space that a VDO volume uses might differ from the size of the volume that is presented to users of the storage. You can make use of this disparity to save on storage costs.
			</p><div class="formalpara"><p class="title"><strong>Out-of-space conditions</strong></p><p>
					Take care to avoid unexpectedly running out of storage space, if the data written does not achieve the expected rate of optimization.
				</p></div><p>
				Whenever the number of logical blocks (virtual storage) exceeds the number of physical blocks (actual storage), it becomes possible for file systems and applications to unexpectedly run out of space. For that reason, storage systems using VDO must provide you with a way of monitoring the size of the free pool on the VDO volume.
			</p><p>
				You can determine the size of this free pool by using the <code class="literal">vdostats</code> utility. The default output of this utility lists information for all running VDO volumes in a format similar to the Linux <code class="literal">df</code> utility. For example:
			</p><pre class="screen">Device                1K-blocks   Used        Available   Use%
/dev/mapper/<span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>  211812352   105906176   105906176   50%</pre><p>
				When the physical storage capacity of a VDO volume is almost full, VDO reports a warning in the system log, similar to the following:
			</p><pre class="screen">Oct  2 17:13:39 system lvm[13863]: Monitoring VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span>.
Oct  2 17:27:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 80.69% full.
Oct  2 17:28:19 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 85.25% full.
Oct  2 17:29:39 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 90.64% full.
Oct  2 17:30:29 system lvm[13863]: WARNING: VDO pool <span class="emphasis"><em><span class="replaceable replaceable">vdo-name</span></em></span> is now 96.07% full.</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These warning messages appear only when the <code class="literal">lvm2-monitor</code> service is running. It is enabled by default.
				</p></div></div><div class="formalpara"><p class="title"><strong>How to prevent out-of-space conditions</strong></p><p>
					If the size of free pool drops below a certain level, you can take action by:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Deleting data. This reclaims space whenever the deleted data is not duplicated. Deleting data frees the space only after discards are issued.
					</li><li class="listitem">
						Adding physical storage
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Monitor physical space on your VDO volumes to prevent out-of-space situations. Running out of physical blocks might result in losing recently written, unacknowledged data on the VDO volume.
				</p></div></div><div class="formalpara"><p class="title"><strong>Thin provisioning and the TRIM and DISCARD commands</strong></p><p>
					To benefit from the storage savings of thin provisioning, the physical storage layer needs to know when data is deleted. File systems that work with thinly provisioned storage send <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands to inform the storage system when a logical block is no longer required.
				</p></div><p>
				Several methods of sending the <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> commands are available:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						With the <code class="literal">discard</code> mount option, the file systems can send these commands whenever a block is deleted.
					</li><li class="listitem">
						You can send the commands in a controlled manner by using utilities such as <code class="literal">fstrim</code>. These utilities tell the file system to detect which logical blocks are unused and send the information to the storage system in the form of a <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> command.
					</li></ul></div><p>
				The need to use <code class="literal">TRIM</code> or <code class="literal">DISCARD</code> on unused blocks is not unique to VDO. Any thinly provisioned storage system has the same challenge.
			</p></section><section class="section" id="information-to-record-before-each-vdo-test_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.3. Information to record before each VDO test</h2></div></div></div><p>
				You must record the following information at the start of each test to ensure that the test environment is fully understood. You can capture much of the required information by using the <code class="literal">sosreport</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Required information</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The used Linux build, including the kernel build number
					</li><li class="listitem">
						The complete list of installed packages, as obtained from the <code class="literal command">rpm -qa</code> command
					</li><li class="listitem"><p class="simpara">
						Complete system specifications
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								CPU type and quantity; available in the <code class="literal filename">/proc/cpuinfo</code> file
							</li><li class="listitem">
								Installed memory and the amount available after the rase OS is running; available in the <code class="literal filename">/proc/meminfo</code> file
							</li><li class="listitem">
								Types of used drive controllers
							</li><li class="listitem">
								Types and quantity of used disks
							</li></ul></div></li><li class="listitem">
						A complete list of running processes; available from the <code class="literal command">ps aux</code> command or a similar listing
					</li><li class="listitem">
						Name of the physical volume and the volume group created for use with VDO; available from the <code class="literal command">pvs</code> and <code class="literal command">vgs</code> commands
					</li><li class="listitem">
						File system used when formatting the VDO volume, if any
					</li><li class="listitem">
						Permissions on the mounted directory
					</li><li class="listitem">
						Content of the <code class="literal filename">/etc/vdoconf.yaml</code> file
					</li><li class="listitem">
						Location of the VDO files
					</li></ul></div></section><section class="section" id="creating-a-vdo-test-volume_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.4. Creating a VDO test volume</h2></div></div></div><p>
				This procedure creates a VDO volume with a logical size of 1 TiB on a 512 GiB physical volume for testing purposes.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a VDO volume:
					</p><pre class="screen"># vdo create --name=vdo-test \
             --device=<span class="emphasis"><em><span class="replaceable replaceable">/dev/sdb</span></em></span> \
             --vdoLogicalSize=1T \
             --writePolicy=<span class="emphasis"><em><span class="replaceable replaceable">policy</span></em></span> \
             --verbose</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <code class="literal"><span class="emphasis"><em><span class="replaceable replaceable">/dev/sdb</span></em></span></code> with the path to a block device.
							</li><li class="listitem">
								To test the VDO <code class="literal">async</code> mode on top of asynchronous storage, create an asynchronous volume using the <code class="literal option">--writePolicy=async</code> option.
							</li><li class="listitem">
								To test the VDO <code class="literal">sync</code> mode on top of synchronous storage, create a synchronous volume using the <code class="literal option">--writePolicy=sync</code> option.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Format the new volume with an XFS or ext4 file system.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								For XFS:
							</p><pre class="screen"># mkfs.xfs -K /dev/mapper/vdo-test</pre></li><li class="listitem"><p class="simpara">
								For ext4:
							</p><pre class="screen"># mkfs.ext4 -E nodiscard /dev/mapper/vdo-test</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Mount the formatted volume:
					</p><pre class="screen"># mkdir /mnt/vdo-test

# mount /dev/mapper/vdo-test /mnt/vdo-test &amp;&amp; \
  chmod a+rwx /mnt/vdo-test</pre></li></ol></div></section><section class="section" id="testing-the-vdo-test-volume_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.5. Testing the VDO test volume</h2></div></div></div><p>
				This procedure tests whether reading and writing to the VDO test volume works.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A newly created VDO test volume is mounted. For details, see <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Write 32 GiB of random data to the VDO volume:
					</p><pre class="screen">$ dd if=/dev/urandom of=/mnt/vdo-test/testfile bs=4096 count=8388608</pre></li><li class="listitem"><p class="simpara">
						Read the data from the VDO volume and write it to another volume:
					</p><pre class="screen">$ dd if=/mnt/vdo-test/testfile of=<span class="emphasis"><em><span class="replaceable replaceable">another-location</span></em></span>/testfile bs=4096</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Replace <span class="emphasis"><em><span class="replaceable replaceable">another-location</span></em></span> with any directory where you have write access that is not on the VDO test volume. For example, you can use your home directory.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Compare the two files:
					</p><pre class="screen">$ diff --report-identical-files /mnt/vdo-test/testfile <span class="emphasis"><em><span class="replaceable replaceable">another-location</span></em></span>/testfile</pre><p class="simpara">
						The command should report that the files are the same.
					</p></li><li class="listitem"><p class="simpara">
						Copy the file back to a new location on the VDO volume:
					</p><pre class="screen">$ dd if=<span class="emphasis"><em><span class="replaceable replaceable">another-location</span></em></span>/testfile of=/mnt/vdo-test/testfile2 bs=4096</pre></li><li class="listitem"><p class="simpara">
						Compare the third file to the second file:
					</p><pre class="screen">$ diff --report-identical-files /mnt/vdo-test/testfile2 <span class="emphasis"><em><span class="replaceable replaceable">another-location</span></em></span>/testfile</pre><p class="simpara">
						The command should report that the files are the same.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Cleanup steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Remove the VDO test volume as described in <a class="xref" href="index.html#cleaning-up-the-vdo-test-volume_testing-vdo-space-savings" title="3.6. Cleaning up the VDO test volume">Section 3.6, “Cleaning up the VDO test volume”</a>.
					</li></ul></div></section><section class="section" id="cleaning-up-the-vdo-test-volume_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.6. Cleaning up the VDO test volume</h2></div></div></div><p>
				This procedure removes the VDO volume used for testing VDO efficiency from the system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A VDO test volume is mounted. For details, see <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Unmount the file system created on the VDO volume:
					</p><pre class="screen"># umount /mnt/vdo-test</pre></li><li class="listitem"><p class="simpara">
						Remove the VDO test volume from the system:
					</p><pre class="screen"># vdo remove --name=vdo-test</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify that the volume has been removed:
					</p><pre class="screen"># vdo list --all | grep vdo-test</pre><p class="simpara">
						The command should not list the VDO test partition.
					</p></li></ol></div></section><section class="section" id="measuring-vdo-deduplication_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.7. Measuring VDO deduplication</h2></div></div></div><p>
				This procedure tests the efficiency of VDO data deduplication on a VDO test volume.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A newly created VDO test volume is mounted. For details, see <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Prepare a table where you can record the test results:
					</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696562383248" scope="col">Statistic</th><th align="left" valign="top" id="idm140696562382160" scope="col">Bare file system</th><th align="left" valign="top" id="idm140696562381072" scope="col">After seed</th><th align="left" valign="top" id="idm140696562379984" scope="col">After 10 copies</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696562383248"> <p>
										File system used size
									</p>
									 </td><td align="left" valign="top" headers="idm140696562382160"> </td><td align="left" valign="top" headers="idm140696562381072"> </td><td align="left" valign="top" headers="idm140696562379984"> </td></tr><tr><td align="left" valign="top" headers="idm140696562383248"> <p>
										VDO data used
									</p>
									 </td><td align="left" valign="top" headers="idm140696562382160"> </td><td align="left" valign="top" headers="idm140696562381072"> </td><td align="left" valign="top" headers="idm140696562379984"> </td></tr><tr><td align="left" valign="top" headers="idm140696562383248"> <p>
										VDO logical used
									</p>
									 </td><td align="left" valign="top" headers="idm140696562382160"> </td><td align="left" valign="top" headers="idm140696562381072"> </td><td align="left" valign="top" headers="idm140696562379984"> </td></tr></tbody></table></div></li><li class="listitem"><p class="simpara">
						Create 10 directories on the VDO volume to hold 10 copies of the test data set:
					</p><pre class="screen">$ mkdir /mnt/vdo-test/vdo{01..10}</pre></li><li class="listitem"><p class="simpara">
						Examine the disk usage reported by the file system:
					</p><pre class="screen">$ df --human-readable /mnt/vdo-test</pre><div class="example" id="idm140696558094352"><p class="title"><strong>Example 3.1. Disk usage</strong></p><div class="example-contents"><pre class="screen">Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vdo-test  1.5T  198M  1.4T   1% /mnt/vdo-test</pre></div></div></li><li class="listitem"><p class="simpara">
						Record the following values:
					</p><pre class="screen"># vdostats --verbose | grep "blocks used"</pre><div class="example" id="idm140696558091440"><p class="title"><strong>Example 3.2. Used blocks</strong></p><div class="example-contents"><pre class="screen">data blocks used                : 1090
overhead blocks used            : 538846
logical blocks used             : 6059434</pre></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">data blocks used</code> value is the number of blocks used by user data after optimization on the physical device running under VDO.
							</li><li class="listitem">
								The <code class="literal">logical blocks used</code> value is the number of blocks used before optimization. It will be used as the starting point for measurements.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Create a data source file on the VDO volume:
					</p><pre class="screen">$ dd if=/dev/urandom of=/mnt/vdo-test/sourcefile bs=4096 count=1048576

4294967296 bytes (4.3 GB) copied, 540.538 s, 7.9 MB/s</pre></li><li class="listitem"><p class="simpara">
						Re-examine the amount of used physical disk space:
					</p><pre class="screen">$ df --human-readable /mnt/vdo-test</pre><div class="example" id="idm140696558199344"><p class="title"><strong>Example 3.3. Disk usage with the data source file</strong></p><div class="example-contents"><pre class="screen">Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vdo-test  1.5T  4.2G  1.4T   1% /mnt/vdo-test</pre></div></div><pre class="screen"># vdostats --verbose | grep "blocks used"</pre><div class="example" id="idm140696558197344"><p class="title"><strong>Example 3.4. Used blocks with the data source file</strong></p><div class="example-contents"><pre class="screen">data blocks used                : 1050093  # Increased by 4GiB
overhead blocks used            : 538846   # Did not significantly change
logical blocks used             : 7108036  # Increased by 4GiB</pre></div></div><p class="simpara">
						This command should show an increase in the number of blocks used, corresponding to the size of the written file.
					</p></li><li class="listitem"><p class="simpara">
						Copy the file to each of the 10 subdirectories:
					</p><pre class="screen">$ for i in {01..10}; do
  cp /mnt/vdo-test/sourcefile /mnt/vdo-test/vdo$i
  done</pre></li><li class="listitem"><p class="simpara">
						Re-examine the amount of used physical disk space:
					</p><pre class="screen">$ df -h /mnt/vdo-test</pre><div class="example" id="idm140696558192176"><p class="title"><strong>Example 3.5. Disk usage after copying the file</strong></p><div class="example-contents"><pre class="screen">Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vdo-test  1.5T   45G  1.3T   4% /mnt/vdo-test</pre></div></div><pre class="screen"># vdostats --verbose | grep "blocks used"</pre><div class="example" id="idm140696558190176"><p class="title"><strong>Example 3.6. Used blocks after copying the file</strong></p><div class="example-contents"><pre class="screen">data blocks used                : 1050836   # Increased by 3 MiB
overhead blocks used            : 538846
logical blocks used             : 17594127  # Increased by 41 GiB</pre></div></div><p class="simpara">
						The <code class="literal">data blocks used</code> value should be similar to the result of the earlier listing, with only a slight increase due to file system journaling and metadata.
					</p></li><li class="listitem">
						Subtract this new value of the space used by the file system from the value found before writing the test data. This is the amount of space consumed by this test from the perspective of the file system.
					</li><li class="listitem"><p class="simpara">
						Observe the space savings in your recorded statistics:
					</p><div class="example" id="idm140696558185312"><p class="title"><strong>Example 3.7. Recorded values</strong></p><div class="example-contents"><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696562623680" scope="col">Statistic</th><th align="left" valign="top" id="idm140696562622592" scope="col">Bare file system</th><th align="left" valign="top" id="idm140696562621504" scope="col">After seed</th><th align="left" valign="top" id="idm140696562620416" scope="col">After 10 copies</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696562623680"> <p>
											File system used size
										</p>
										 </td><td align="left" valign="top" headers="idm140696562622592"> <p>
											198 MiB
										</p>
										 </td><td align="left" valign="top" headers="idm140696562621504"> <p>
											4.2 GiB
										</p>
										 </td><td align="left" valign="top" headers="idm140696562620416"> <p>
											45 GiB
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140696562623680"> <p>
											VDO data used
										</p>
										 </td><td align="left" valign="top" headers="idm140696562622592"> <p>
											4 MiB
										</p>
										 </td><td align="left" valign="top" headers="idm140696562621504"> <p>
											4.1 GiB
										</p>
										 </td><td align="left" valign="top" headers="idm140696562620416"> <p>
											4.1 GiB
										</p>
										 </td></tr><tr><td align="left" valign="top" headers="idm140696562623680"> <p>
											VDO logical used
										</p>
										 </td><td align="left" valign="top" headers="idm140696562622592"> <p>
											23.6 GiB <span class="emphasis"><em>(file system overhead for 1.6 TiB formatted drive)</em></span>
										</p>
										 </td><td align="left" valign="top" headers="idm140696562621504"> <p>
											27.8 GiB
										</p>
										 </td><td align="left" valign="top" headers="idm140696562620416"> <p>
											68.7 GiB
										</p>
										 </td></tr></tbody></table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In the table, values have been converted to MiB or GiB. Blocks in the <code class="literal">vdostats</code> output are 4,096 B in size.
							</p></div></div></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Cleanup steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Remove the VDO test volume as described in <a class="xref" href="index.html#cleaning-up-the-vdo-test-volume_testing-vdo-space-savings" title="3.6. Cleaning up the VDO test volume">Section 3.6, “Cleaning up the VDO test volume”</a>.
					</li></ul></div></section><section class="section" id="measuring-vdo-compression_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.8. Measuring VDO compression</h2></div></div></div><p>
				This procedure tests the efficiency of VDO data compression on a VDO test volume.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A newly created VDO test volume is mounted. For details, see <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Disable deduplication and enable compression on the VDO test volume:
					</p><pre class="screen"># vdo disableDeduplication --name=vdo-test
# vdo enableCompression --name=vdo-test</pre></li><li class="listitem"><p class="simpara">
						Synchronize the VDO volume to complete any unfinished compression:
					</p><pre class="screen"># sync &amp;&amp; dmsetup message vdo-test 0 sync-dedupe</pre></li><li class="listitem"><p class="simpara">
						Inspect VDO statistics before the transfer:
					</p><pre class="screen"># vdostats --verbose | grep "blocks used"</pre><p class="simpara">
						Make note of the <code class="literal">data blocks used</code> and <code class="literal">logical blocks used</code> values.
					</p></li><li class="listitem">
						VDO optimizes file system overhead as well as actual user data. Calculate the number of 4 KiB blocks saved by compression for the empty file system as <code class="literal">logical blocks used</code> minus <code class="literal">data blocks used</code>.
					</li><li class="listitem"><p class="simpara">
						Copy the content of the <code class="literal filename">/lib</code> directory to the VDO volume:
					</p><pre class="screen"># cp --verbose --recursive /lib /mnt/vdo-test

...
sent 152508960 bytes  received 60448 bytes  61027763.20 bytes/sec
total size is 152293104  speedup is 1.00</pre><p class="simpara">
						Record the total size of the copied data.
					</p></li><li class="listitem"><p class="simpara">
						Synchronize Linux caches and the VDO volume:
					</p><pre class="screen"># sync &amp;&amp; dmsetup message vdo-test 0 sync-dedupe</pre></li><li class="listitem"><p class="simpara">
						Inspect VDO statistics again:
					</p><pre class="screen"># vdostats --verbose | grep "blocks used"</pre><p class="simpara">
						Observe the <code class="literal">logical blocks used</code> and <code class="literal">data blocks used</code> values.
					</p></li><li class="listitem"><p class="simpara">
						Calculate the amount of bytes saved by compression using the following formula:
					</p><pre class="screen">saved_bytes = (logical_blocks_used - data_blocks_used) * 4096</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Cleanup steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Remove the VDO test volume as described in <a class="xref" href="index.html#cleaning-up-the-vdo-test-volume_testing-vdo-space-savings" title="3.6. Cleaning up the VDO test volume">Section 3.6, “Cleaning up the VDO test volume”</a>.
					</li></ul></div></section><section class="section" id="measuring-total-vdo-space-savings_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.9. Measuring total VDO space savings</h2></div></div></div><p>
				This procedure tests the combined efficiency of VDO data deduplication and compression on a VDO test volume.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Create and mount a VDO volume as described in <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li><li class="listitem">
						Perform the tests described in <a class="link" href="index.html#measuring-vdo-deduplication_testing-vdo-space-savings" title="3.7. Measuring VDO deduplication">] and xref:measuring-vdo-compression_testing-vdo-space-savings[</a> on the same volume without removing it. Observe changes to space savings in the <code class="literal">vdostats</code> output.
					</li><li class="listitem">
						Experiment with your own datasets.
					</li></ol></div></section><section class="section" id="testing-the-effect-of-trim-and-discard-on-vdo_testing-vdo-space-savings"><div class="titlepage"><div><div><h2 class="title">3.10. Testing the effect of TRIM and DISCARD on VDO</h2></div></div></div><p>
				This procedure tests whether the <code class="literal">TRIM</code> and <code class="literal">DISCARD</code> commands properly free up blocks from deleted files on a VDO test volume. It demonstrates that discards inform VDO that the space is no longer used.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A newly created VDO test volume is mounted. For details, see <a class="xref" href="index.html#creating-a-vdo-test-volume_testing-vdo-space-savings" title="3.4. Creating a VDO test volume">Section 3.4, “Creating a VDO test volume”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Prepare a table where you can record the test results:
					</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696569049728" scope="col">Step</th><th align="left" valign="top" id="idm140696569048640" scope="col">File space used (MB)</th><th align="left" valign="top" id="idm140696569047552" scope="col">Data blocks used</th><th align="left" valign="top" id="idm140696569046464" scope="col">Logical blocks used</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696569049728"> <p>
										Initial
									</p>
									 </td><td align="left" valign="top" headers="idm140696569048640"> </td><td align="left" valign="top" headers="idm140696569047552"> </td><td align="left" valign="top" headers="idm140696569046464"> </td></tr><tr><td align="left" valign="top" headers="idm140696569049728"> <p>
										Add 1 GiB file
									</p>
									 </td><td align="left" valign="top" headers="idm140696569048640"> </td><td align="left" valign="top" headers="idm140696569047552"> </td><td align="left" valign="top" headers="idm140696569046464"> </td></tr><tr><td align="left" valign="top" headers="idm140696569049728"> <p>
										Run <code class="literal">fstrim</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696569048640"> </td><td align="left" valign="top" headers="idm140696569047552"> </td><td align="left" valign="top" headers="idm140696569046464"> </td></tr><tr><td align="left" valign="top" headers="idm140696569049728"> <p>
										Delete 1 GiB file
									</p>
									 </td><td align="left" valign="top" headers="idm140696569048640"> </td><td align="left" valign="top" headers="idm140696569047552"> </td><td align="left" valign="top" headers="idm140696569046464"> </td></tr><tr><td align="left" valign="top" headers="idm140696569049728"> <p>
										Run <code class="literal">fstrim</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696569048640"> </td><td align="left" valign="top" headers="idm140696569047552"> </td><td align="left" valign="top" headers="idm140696569046464"> </td></tr></tbody></table></div></li><li class="listitem"><p class="simpara">
						Trim the file system to remove unneeded blocks:
					</p><pre class="screen"># fstrim /mnt/vdo-test</pre><p class="simpara">
						The command might take a long time.
					</p></li><li class="listitem"><p class="simpara">
						Record the initial space usage in the file system:
					</p><pre class="screen">$ df -m /mnt/vdo-test</pre></li><li class="listitem"><p class="simpara">
						See how many physical and logical data blocks the VDO volume uses:
					</p><pre class="screen"># vdostats --verbose | grep "blocks used"</pre></li><li class="listitem"><p class="simpara">
						Create a 1 GiB file with non-duplicate data on the VDO volume:
					</p><pre class="screen">$ dd if=/dev/urandom of=/mnt/vdo-test/file bs=1M count=1K</pre></li><li class="listitem"><p class="simpara">
						Record the space usage again:
					</p><pre class="screen">$ df -m /mnt/vdo-test

# vdostats --verbose | grep "blocks used"</pre><p class="simpara">
						The file system should use an additional 1 GiB. The <code class="literal">data blocks used</code> and <code class="literal">logical blocks used</code> values should increase similarly.
					</p></li><li class="listitem"><p class="simpara">
						Trim the file system again:
					</p><pre class="screen"># fstrim /mnt/vdo-test</pre></li><li class="listitem"><p class="simpara">
						Inspect the space usage again to confirm that the trim had no impact on the physical volume usage:
					</p><pre class="screen">$ df -m /mnt/vdo-test

# vdostats --verbose | grep "blocks used"</pre></li><li class="listitem"><p class="simpara">
						Delete the 1 GiB file:
					</p><pre class="screen">$ rm /mnt/vdo-test/file</pre></li><li class="listitem"><p class="simpara">
						Check and record the space usage again:
					</p><pre class="screen">$ df -m /mnt/vdo-test

# vdostats --verbose | grep "blocks used"</pre><p class="simpara">
						The file system is aware that a file has been deleted, but there is no change to the number of physical or logical blocks because the file deletion has not been communicated to the underlying storage.
					</p></li><li class="listitem"><p class="simpara">
						Trim the file system again:
					</p><pre class="screen"># fstrim /mnt/vdo-test</pre></li><li class="listitem"><p class="simpara">
						Check and record the space usage again:
					</p><pre class="screen">$ df -m /mnt/vdo-test

# vdostats --verbose | grep "blocks used"</pre><p class="simpara">
						The <code class="literal">fstrim</code> utility looks for free blocks in the file system and sends a <code class="literal">TRIM</code> command to the VDO volume for unused addresses, which releases the associated logical blocks. VDO processes the <code class="literal">TRIM</code> command to release the underlying physical blocks.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on the <code class="literal">TRIM</code> and <code class="literal">DISCARD</code> commands, the <code class="literal">fstrim</code> utility, and the <code class="literal">discard</code> mount option, see <a class="xref" href="index.html#discarding-unused-blocks_deduplicating-and-compressing-storage" title="Chapter 4. Discarding unused blocks">Chapter 4, <em>Discarding unused blocks</em></a>
					</li></ul></div></section></section><section class="chapter" id="discarding-unused-blocks_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Discarding unused blocks</h1></div></div></div><p>
			You can perform or schedule discard operations on block devices that support them.
		</p><section class="section" id="block-discard-operations_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.1. Block discard operations</h2></div></div></div><p>
				Block discard operations discard blocks that are no longer in use by a mounted file system. They are useful on:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Solid-state drives (SSDs)
					</li><li class="listitem">
						Thinly-provisioned storage
					</li></ul></div><h4 id="requirements">Requirements</h4><p>
				The block device underlying the file system must support physical discard operations.
			</p><p>
				Physical discard operations are supported if the value in the <code class="literal filename">/sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/discard_max_bytes</code> file is not zero.
			</p></section><section class="section" id="types-of-block-discard-operations_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.2. Types of block discard operations</h2></div></div></div><p>
				You can run discard operations using different methods:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Batch discard</span></dt><dd>
							Are run explicitly by the user. They discard all unused blocks in the selected file systems.
						</dd><dt><span class="term">Online discard</span></dt><dd>
							Are specified at mount time. They run in real time without user intervention. Online discard operations discard only the blocks that are transitioning from used to free.
						</dd><dt><span class="term">Periodic discard</span></dt><dd>
							Are batch operations that are run regularly by a <code class="literal">systemd</code> service.
						</dd></dl></div><p>
				All types are supported by the XFS and ext4 file systems and by VDO.
			</p><h4 id="recommendations">Recommendations</h4><p>
				Red Hat recommends that you use batch or periodic discard.
			</p><p>
				Use online discard only if:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						the system’s workload is such that batch discard is not feasible, or
					</li><li class="listitem">
						online discard operations are necessary to maintain performance.
					</li></ul></div></section><section class="section" id="performing-batch-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.3. Performing batch block discard</h2></div></div></div><p>
				This procedure performs a batch block discard operation to discard unused blocks on a mounted file system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The file system is mounted.
					</li><li class="listitem">
						The block device underlying the file system supports physical discard operations.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Use the <code class="literal">fstrim</code> utility:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								To perform discard only on a selected file system, use:
							</p><pre class="screen"># fstrim <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem"><p class="simpara">
								To perform discard on all mounted file systems, use:
							</p><pre class="screen"># fstrim --all</pre></li></ul></div></li></ul></div><p>
				If you execute the <code class="literal">fstrim</code> command on:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						a device that does not support discard operations, or
					</li><li class="listitem">
						a logical device (LVM or MD) composed of multiple devices, where any one of the device does not support discard operations,
					</li></ul></div><p>
				the following message displays:
			</p><pre class="screen"># fstrim <span class="emphasis"><em><span class="replaceable replaceable">/mnt/non_discard</span></em></span>

fstrim: <span class="emphasis"><em><span class="replaceable replaceable">/mnt/non_discard</span></em></span>: the discard operation is not supported</pre><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">fstrim(8)</code> man page
					</li></ul></div></section><section class="section" id="enabling-online-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.4. Enabling online block discard</h2></div></div></div><p>
				This procedure enables online block discard operations that automatically discard unused blocks on all supported file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Enable online discard at mount time:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								When mounting a file system manually, add the <code class="literal option">-o discard</code> mount option:
							</p><pre class="screen"># mount -o discard <span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">mount-point</span></em></span></pre></li><li class="listitem">
								When mounting a file system persistently, add the <code class="literal option">discard</code> option to the mount entry in the <code class="literal filename">/etc/fstab</code> file.
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">mount(8)</code> man page
					</li><li class="listitem">
						The <code class="literal">fstab(5)</code> man page
					</li></ul></div></section><section class="section" id="enabling-online-block-discard-using-rhel-system-roles_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.5. Enabling online block discard using RHEL System Roles</h2></div></div></div><p>
				This section describes how to enable online block discard using the <code class="literal">storage</code> role.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An Ansible playbook including the <code class="literal">storage</code> role exists.
					</li></ul></div><p>
				For information on how to apply such a playbook, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/getting-started-with-system-administration_configuring-basic-system-settings#applying-a-role_what-rhel-system-roles-are">Applying a role</a>.
			</p><section class="section" id="an-example-ansible-playbook-to-enable-online-block-discard_enabling-online-block-discard-using-rhel-system-roles"><div class="titlepage"><div><div><h3 class="title">4.5.1. Example Ansible playbook to enable online block discard</h3></div></div></div><p>
					This section provides an example Ansible playbook. This playbook applies the <code class="literal">storage</code> role to mount an XFS file system with online block discard enabled.
				</p><pre class="literallayout">---
- hosts: all
  vars:
    storage_volumes:
      - name: barefs
        type: disk
        disks:
          - sdb
        fs_type: xfs
        mount_point: /mnt/data
        mount_options: discard
  roles:
    - rhel-system-roles.storage</pre></section><section class="section" id="additional_resources"><div class="titlepage"><div><div><h3 class="title">4.5.2. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#managing-local-storage-using-rhel-system-roles_managing-file-systems">Managing file systems</a>.
						</li></ul></div></section></section><section class="section" id="enabling-periodic-block-discard_discarding-unused-blocks"><div class="titlepage"><div><div><h2 class="title">4.6. Enabling periodic block discard</h2></div></div></div><p>
				This procedure enables a <code class="literal">systemd</code> timer that regularly discards unused blocks on all supported file systems.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">systemd</code> timer:
					</p><pre class="screen"># systemctl enable --now fstrim.timer</pre></li></ul></div></section></section><section class="chapter" id="assembly_overview-of-persistent-naming-attributes_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Overview of persistent naming attributes</h1></div></div></div><p>
			As a system administrator, you need to refer to storage volumes using persistent naming attributes to build storage setups that are reliable over multiple system boots.
		</p><section class="section" id="con_disadvantages-of-non-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.1. Disadvantages of non-persistent naming attributes</h2></div></div></div><p>
				Red Hat Enterprise Linux provides a number of ways to identify storage devices. It is important to use the correct option to identify each device when used in order to avoid inadvertently accessing the wrong device, particularly when installing to or reformatting drives.
			</p><p>
				Traditionally, non-persistent names in the form of <code class="literal">/dev/sd<span class="emphasis"><em><span class="replaceable replaceable">(major number)</span></em></span><span class="emphasis"><em><span class="replaceable replaceable">(minor number)</span></em></span></code> are used on Linux to refer to storage devices. The major and minor number range and associated <code class="literal">sd</code> names are allocated for each device when it is detected. This means that the association between the major and minor number range and associated <code class="literal">sd</code> names can change if the order of device detection changes.
			</p><p>
				Such a change in the ordering might occur in the following situations:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The parallelization of the system boot process detects storage devices in a different order with each system boot.
					</li><li class="listitem">
						A disk fails to power up or respond to the SCSI controller. This results in it not being detected by the normal device probe. The disk is not accessible to the system and subsequent devices will have their major and minor number range, including the associated <code class="literal">sd</code> names shifted down. For example, if a disk normally referred to as <code class="literal">sdb</code> is not detected, a disk that is normally referred to as <code class="literal">sdc</code> would instead appear as <code class="literal">sdb</code>.
					</li><li class="listitem">
						A SCSI controller (host bus adapter, or HBA) fails to initialize, causing all disks connected to that HBA to not be detected. Any disks connected to subsequently probed HBAs are assigned different major and minor number ranges, and different associated <code class="literal">sd</code> names.
					</li><li class="listitem">
						The order of driver initialization changes if different types of HBAs are present in the system. This causes the disks connected to those HBAs to be detected in a different order. This might also occur if HBAs are moved to different PCI slots on the system.
					</li><li class="listitem">
						Disks connected to the system with Fibre Channel, iSCSI, or FCoE adapters might be inaccessible at the time the storage devices are probed, due to a storage array or intervening switch being powered off, for example. This might occur when a system reboots after a power failure, if the storage array takes longer to come online than the system take to boot. Although some Fibre Channel drivers support a mechanism to specify a persistent SCSI target ID to WWPN mapping, this does not cause the major and minor number ranges, and the associated <code class="literal">sd</code> names to be reserved; it only provides consistent SCSI target ID numbers.
					</li></ul></div><p>
				These reasons make it undesirable to use the major and minor number range or the associated <code class="literal">sd</code> names when referring to devices, such as in the <code class="literal filename">/etc/fstab</code> file. There is the possibility that the wrong device will be mounted and data corruption might result.
			</p><p>
				Occasionally, however, it is still necessary to refer to the <code class="literal">sd</code> names even when another mechanism is used, such as when errors are reported by a device. This is because the Linux kernel uses <code class="literal">sd</code> names (and also SCSI host/channel/target/LUN tuples) in kernel messages regarding the device.
			</p></section><section class="section" id="file-system-and-device-identifiers_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.2. File system and device identifiers</h2></div></div></div><p>
				This sections explains the difference between persistent attributes identifying file systems and block devices.
			</p><h4 id="file_system_identifiers">File system identifiers</h4><p>
				File system identifiers are tied to a particular file system created on a block device. The identifier is also stored as part of the file system. If you copy the file system to a different device, it still carries the same file system identifier. On the other hand, if you rewrite the device, such as by formatting it with the <code class="literal">mkfs</code> utility, the device loses the attribute.
			</p><p>
				File system identifiers include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Unique identifier (UUID)
					</li><li class="listitem">
						Label
					</li></ul></div><h4 id="device_identifiers">Device identifiers</h4><p>
				Device identifiers are tied to a block device: for example, a disk or a partition. If you rewrite the device, such as by formatting it with the <code class="literal">mkfs</code> utility, the device keeps the attribute, because it is not stored in the file system.
			</p><p>
				Device identifiers include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						World Wide Identifier (WWID)
					</li><li class="listitem">
						Partition UUID
					</li><li class="listitem">
						Serial number
					</li></ul></div><h4 id="recommendations_2">Recommendations</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Some file systems, such as logical volumes, span multiple devices. Red Hat recommends accessing these file systems using file system identifiers rather than device identifiers.
					</li></ul></div></section><section class="section" id="con_device-names-managed-by-the-udev-mechanism-in-dev-disk-_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.3. Device names managed by the udev mechanism in /dev/disk/</h2></div></div></div><p>
				This section lists different kinds of persistent naming attributes that the <code class="literal">udev</code> service provides in the <code class="literal filename">/dev/disk/</code> directory.
			</p><p>
				The <code class="literal">udev</code> mechanism is used for all types of devices in Linux, not just for storage devices. In the case of storage devices, Red Hat Enterprise Linux contains <code class="literal">udev</code> rules that create symbolic links in the <code class="literal filename">/dev/disk/</code> directory. This enables you to refer to storage devices by:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Their content
					</li><li class="listitem">
						A unique identifier
					</li><li class="listitem">
						Their serial number.
					</li></ul></div><p>
				Although <code class="literal">udev</code> naming attributes are persistent, in that they do not change on their own across system reboots, some are also configurable.
			</p><section class="section" id="file-system-identifiers_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h3 class="title">5.3.1. File system identifiers</h3></div></div></div><h4 id="the_uuid_attribute_in_dev_disk_by_uuid">The UUID attribute in /dev/disk/by-uuid/</h4><p>
					Entries in this directory provide a symbolic name that refers to the storage device by a <span class="strong strong"><strong>unique identifier</strong></span> (UUID) in the content (that is, the data) stored on the device. For example:
				</p><pre class="screen">/dev/disk/by-uuid/<span class="emphasis"><em>3e6be9de-8139-11d1-9106-a43f08d823a6</em></span></pre><p>
					You can use the UUID to refer to the device in the <code class="literal filename">/etc/fstab</code> file using the following syntax:
				</p><pre class="screen">UUID=<span class="emphasis"><em>3e6be9de-8139-11d1-9106-a43f08d823a6</em></span></pre><p>
					You can configure the UUID attribute when creating a file system, and you can also change it later on.
				</p><h4 id="the_label_attribute_in_dev_disk_by_label">The Label attribute in /dev/disk/by-label/</h4><p>
					Entries in this directory provide a symbolic name that refers to the storage device by a <span class="strong strong"><strong>label</strong></span> in the content (that is, the data) stored on the device.
				</p><p>
					For example:
				</p><pre class="screen">/dev/disk/by-label/<span class="emphasis"><em>Boot</em></span></pre><p>
					You can use the label to refer to the device in the <code class="literal filename">/etc/fstab</code> file using the following syntax:
				</p><pre class="screen">LABEL=<span class="emphasis"><em>Boot</em></span></pre><p>
					You can configure the Label attribute when creating a file system, and you can also change it later on.
				</p></section><section class="section" id="device-identifiers_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h3 class="title">5.3.2. Device identifiers</h3></div></div></div><h4 id="the_wwid_attribute_in_dev_disk_by_id">The WWID attribute in /dev/disk/by-id/</h4><p>
					The World Wide Identifier (WWID) is a persistent, <span class="strong strong"><strong>system-independent identifier</strong></span> that the SCSI Standard requires from all SCSI devices. The WWID identifier is guaranteed to be unique for every storage device, and independent of the path that is used to access the device. The identifier is a property of the device but is not stored in the content (that is, the data) on the devices.
				</p><p>
					This identifier can be obtained by issuing a SCSI Inquiry to retrieve the Device Identification Vital Product Data (page <code class="literal">0x83</code>) or Unit Serial Number (page <code class="literal">0x80</code>).
				</p><p>
					Red Hat Enterprise Linux automatically maintains the proper mapping from the WWID-based device name to a current <code class="literal">/dev/sd</code> name on that system. Applications can use the <code class="literal">/dev/disk/by-id/</code> name to reference the data on the disk, even if the path to the device changes, and even when accessing the device from different systems.
				</p><div class="example" id="idm140696560036096"><p class="title"><strong>Example 5.1. WWID mappings</strong></p><div class="example-contents"><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696560030016" scope="col">WWID symlink</th><th align="left" valign="top" id="idm140696560028928" scope="col">Non-persistent device</th><th align="left" valign="top" id="idm140696560027840" scope="col">Note</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696560030016"> <p>
										<code class="literal filename">/dev/disk/by-id/scsi-3600508b400105e210000900000490000</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560028928"> <p>
										<code class="literal filename">/dev/sda</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560027840"> <p>
										A device with a page <code class="literal">0x83</code> identifier
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140696560030016"> <p>
										<code class="literal filename">/dev/disk/by-id/scsi-SSEAGATE_ST373453LW_3HW1RHM6</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560028928"> <p>
										<code class="literal filename">/dev/sdb</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560027840"> <p>
										A device with a page <code class="literal">0x80</code> identifier
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140696560030016"> <p>
										<code class="literal filename">/dev/disk/by-id/ata-SAMSUNG_MZNLN256HMHQ-000L7_S2WDNX0J336519-part3</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560028928"> <p>
										<code class="literal filename">/dev/sdc3</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696560027840"> <p>
										A disk partition
									</p>
									 </td></tr></tbody></table></div></div></div><p>
					In addition to these persistent names provided by the system, you can also use <code class="literal">udev</code> rules to implement persistent names of your own, mapped to the WWID of the storage.
				</p><h4 id="the_partition_uuid_attribute_in_dev_disk_by_partuuid">The Partition UUID attribute in /dev/disk/by-partuuid</h4><p>
					The Partition UUID (PARTUUID) attribute identifies partitions as defined by GPT partition table.
				</p><div class="example" id="idm140696565222480"><p class="title"><strong>Example 5.2. Partition UUID mappings</strong></p><div class="example-contents"><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 60%; " class="col_1"><!--Empty--></col><col style="width: 40%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140696558804336" scope="col">PARTUUID symlink</th><th align="left" valign="top" id="idm140696558803248" scope="col">Non-persistent device</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140696558804336"> <p>
										<code class="literal filename">/dev/disk/by-partuuid/4cd1448a-01</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696558803248"> <p>
										<code class="literal filename">/dev/sda1</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140696558804336"> <p>
										<code class="literal filename">/dev/disk/by-partuuid/4cd1448a-02</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696558803248"> <p>
										<code class="literal filename">/dev/sda2</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140696558804336"> <p>
										<code class="literal filename">/dev/disk/by-partuuid/4cd1448a-03</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140696558803248"> <p>
										<code class="literal filename">/dev/sda3</code>
									</p>
									 </td></tr></tbody></table></div></div></div><h4 id="the_path_attribute_in_dev_disk_by_path">The Path attribute in /dev/disk/by-path/</h4><p>
					This attribute provides a symbolic name that refers to the storage device by the <span class="strong strong"><strong>hardware path</strong></span> used to access the device.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						The Path attribute is unreliable, and Red Hat does not recommend using it.
					</p></div></div></section></section><section class="section" id="con_the-world-wide-identifier-with-dm-multipath_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.4. The World Wide Identifier with DM Multipath</h2></div></div></div><p>
				This section describes the mapping between the World Wide Identifier (WWID) and non-persistent device names in a Device Mapper Multipath configuration.
			</p><p>
				If there are multiple paths from a system to a device, DM Multipath uses the WWID to detect this. DM Multipath then presents a single "pseudo-device" in the <code class="literal filename">/dev/mapper/wwid</code> directory, such as <code class="literal filename">/dev/mapper/3600508b400105df70000e00000ac0000</code>.
			</p><p>
				The command <code class="literal command">multipath -l</code> shows the mapping to the non-persistent identifiers:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal"><span class="emphasis"><em>Host</em></span>:<span class="emphasis"><em>Channel</em></span>:<span class="emphasis"><em>Target</em></span>:<span class="emphasis"><em>LUN</em></span></code>
					</li><li class="listitem">
						<code class="literal">/dev/sd</code> name
					</li><li class="listitem">
						<code class="literal"><span class="emphasis"><em>major</em></span>:<span class="emphasis"><em>minor</em></span></code> number
					</li></ul></div><div class="example" id="idm140696569021824"><p class="title"><strong>Example 5.3. WWID mappings in a multipath configuration</strong></p><div class="example-contents"><p>
					An example output of the <code class="literal command">multipath -l</code> command:
				</p><pre class="screen">3600508b400105df70000e00000ac0000 dm-2 vendor,product
[size=20G][features=1 queue_if_no_path][hwhandler=0][rw]
\_ round-robin 0 [prio=0][active]
 \_ 5:0:1:1 sdc 8:32  [active][undef]
 \_ 6:0:1:1 sdg 8:96  [active][undef]
\_ round-robin 0 [prio=0][enabled]
 \_ 5:0:0:1 sdb 8:16  [active][undef]
 \_ 6:0:0:1 sdf 8:80  [active][undef]</pre></div></div><p>
				DM Multipath automatically maintains the proper mapping of each WWID-based device name to its corresponding <code class="literal">/dev/sd</code> name on the system. These names are persistent across path changes, and they are consistent when accessing the device from different systems.
			</p><p>
				When the <code class="literal option">user_friendly_names</code> feature of DM Multipath is used, the WWID is mapped to a name of the form <code class="literal">/dev/mapper/mpath<span class="emphasis"><em>N</em></span></code>. By default, this mapping is maintained in the file <code class="literal filename">/etc/multipath/bindings</code>. These <code class="literal">mpath<span class="emphasis"><em>N</em></span></code> names are persistent as long as that file is maintained.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you use <code class="literal option">user_friendly_names</code>, then additional steps are required to obtain consistent names in a cluster.
				</p></div></div></section><section class="section" id="con_limitations-of-the-udev-device-naming-convention_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.5. Limitations of the udev device naming convention</h2></div></div></div><p>
				The following are some limitations of the <code class="literal">udev</code> naming convention:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						It is possible that the device might not be accessible at the time the query is performed because the <code class="literal">udev</code> mechanism might rely on the ability to query the storage device when the <code class="literal">udev</code> rules are processed for a <code class="literal">udev</code> event. This is more likely to occur with Fibre Channel, iSCSI or FCoE storage devices when the device is not located in the server chassis.
					</li><li class="listitem">
						The kernel might send <code class="literal">udev</code> events at any time, causing the rules to be processed and possibly causing the <code class="literal filename">/dev/disk/by-*/</code> links to be removed if the device is not accessible.
					</li><li class="listitem">
						There might be a delay between when the <code class="literal">udev</code> event is generated and when it is processed, such as when a large number of devices are detected and the user-space <code class="literal">udevd</code> service takes some amount of time to process the rules for each one. This might cause a delay between when the kernel detects the device and when the <code class="literal filename">/dev/disk/by-*/</code> names are available.
					</li><li class="listitem">
						External programs such as <code class="literal">blkid</code> invoked by the rules might open the device for a brief period of time, making the device inaccessible for other uses.
					</li></ul></div></section><section class="section" id="proc_listing-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.6. Listing persistent naming attributes</h2></div></div></div><p>
				This procedure describes how to find out the persistent naming attributes of non-persistent storage devices.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To list the UUID and Label attributes, use the <code class="literal">lsblk</code> utility:
					</p><pre class="screen">$ lsblk --fs <span class="emphasis"><em><span class="replaceable replaceable">storage-device</span></em></span></pre><p class="simpara">
						For example:
					</p><div class="example" id="idm140696561229200"><p class="title"><strong>Example 5.4. Viewing the UUID and Label of a file system</strong></p><div class="example-contents"><pre class="screen">$ lsblk --fs /dev/sda1

NAME FSTYPE <span class="strong strong"><strong>LABEL</strong></span> <span class="strong strong"><strong>UUID</strong></span>                                 MOUNTPOINT
sda1 xfs    <span class="strong strong"><strong>Boot</strong></span>  <span class="strong strong"><strong>afa5d5e3-9050-48c3-acc1-bb30095f3dc4</strong></span> /boot</pre></div></div></li><li class="listitem"><p class="simpara">
						To list the PARTUUID attribute, use the <code class="literal">lsblk</code> utility with the <code class="literal option">--output +PARTUUID</code> option:
					</p><pre class="screen">$ lsblk --output +PARTUUID</pre><p class="simpara">
						For example:
					</p><div class="example" id="idm140696557880048"><p class="title"><strong>Example 5.5. Viewing the PARTUUID attribute of a partition</strong></p><div class="example-contents"><pre class="screen">$ lsblk --output +PARTUUID /dev/sda1

NAME MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT <span class="strong strong"><strong>PARTUUID</strong></span>
sda1   8:1    0  512M  0 part /boot      <span class="strong strong"><strong>4cd1448a-01</strong></span></pre></div></div></li><li class="listitem"><p class="simpara">
						To list the WWID attribute, examine the targets of symbolic links in the <code class="literal filename">/dev/disk/by-id/</code> directory. For example:
					</p><div class="example" id="idm140696557875376"><p class="title"><strong>Example 5.6. Viewing the WWID of all storage devices on the system</strong></p><div class="example-contents"><pre class="screen">$ file /dev/disk/by-id/*

/dev/disk/by-id/ata-QEMU_HARDDISK_QM00001
symbolic link to ../../sda
/dev/disk/by-id/ata-QEMU_HARDDISK_QM00001-part1
symbolic link to ../../sda1
/dev/disk/by-id/ata-QEMU_HARDDISK_QM00001-part2
symbolic link to ../../sda2
/dev/disk/by-id/dm-name-rhel_rhel8-root
symbolic link to ../../dm-0
/dev/disk/by-id/dm-name-rhel_rhel8-swap
symbolic link to ../../dm-1
/dev/disk/by-id/dm-uuid-LVM-QIWtEHtXGobe5bewlIUDivKOz5ofkgFhP0RMFsNyySVihqEl2cWWbR7MjXJolD6g
symbolic link to ../../dm-1
/dev/disk/by-id/dm-uuid-LVM-QIWtEHtXGobe5bewlIUDivKOz5ofkgFhXqH2M45hD2H9nAf2qfWSrlRLhzfMyOKd
symbolic link to ../../dm-0
/dev/disk/by-id/lvm-pv-uuid-atlr2Y-vuMo-ueoH-CpMG-4JuH-AhEF-wu4QQm
symbolic link to ../../sda2</pre></div></div></li></ul></div></section><section class="section" id="proc_modifying-persistent-naming-attributes_assembly_overview-of-persistent-naming-attributes"><div class="titlepage"><div><div><h2 class="title">5.7. Modifying persistent naming attributes</h2></div></div></div><p>
				This procedure describes how to change the UUID or Label persistent naming attribute of a file system.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Changing <code class="literal">udev</code> attributes happens in the background and might take a long time. The <code class="literal command">udevadm settle</code> command waits until the change is fully registered, which ensures that your next command will be able to utilize the new attribute correctly.
				</p></div></div><p>
				In the following commands:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Replace <span class="emphasis"><em><span class="replaceable replaceable">new-uuid</span></em></span> with the UUID you want to set; for example, <code class="literal">1cdfbc07-1c90-4984-b5ec-f61943f5ea50</code>. You can generate a UUID using the <code class="literal command">uuidgen</code> command.
					</li><li class="listitem">
						Replace <span class="emphasis"><em><span class="replaceable replaceable">new-label</span></em></span> with a label; for example, <code class="literal">backup_data</code>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						If you are modifying the attributes of an XFS file system, unmount it first.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To change the UUID or Label attributes of an <span class="strong strong"><strong>XFS</strong></span> file system, use the <code class="literal">xfs_admin</code> utility:
					</p><pre class="screen"># xfs_admin -U <span class="emphasis"><em><span class="replaceable replaceable">new-uuid</span></em></span> -L <span class="emphasis"><em><span class="replaceable replaceable">new-label</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">storage-device</span></em></span>
# udevadm settle</pre></li><li class="listitem"><p class="simpara">
						To change the UUID or Label attributes of an <span class="strong strong"><strong>ext4</strong></span>, <span class="strong strong"><strong>ext3</strong></span>, or <span class="strong strong"><strong>ext2</strong></span> file system, use the <code class="literal">tune2fs</code> utility:
					</p><pre class="screen"># tune2fs -U <span class="emphasis"><em><span class="replaceable replaceable">new-uuid</span></em></span> -L <span class="emphasis"><em><span class="replaceable replaceable">new-label</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">storage-device</span></em></span>
# udevadm settle</pre></li><li class="listitem"><p class="simpara">
						To change the UUID or Label attributes of a swap volume, use the <code class="literal">swaplabel</code> utility:
					</p><pre class="screen"># swaplabel --uuid <span class="emphasis"><em><span class="replaceable replaceable">new-uuid</span></em></span> --label <span class="emphasis"><em><span class="replaceable replaceable">new-label</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">swap-device</span></em></span>
# udevadm settle</pre></li></ul></div></section></section><section class="chapter" id="using-the-web-console-for-managing-virtual-data-optimizer-volumes_deduplicating-and-compressing-storage"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Using the web console for managing Virtual Data Optimizer volumes</h1></div></div></div><p>
			This chapter describes the Virtual Data Optimizer (VDO) configuration using the RHEL 8 web console. After reading it, you will be able to:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Create VDO volumes
				</li><li class="listitem">
					Format VDO volumes
				</li><li class="listitem">
					Extend VDO volumes
				</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					The RHEL 8 web console is installed and accessible.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#installing-the-web-console_getting-started-with-the-rhel-8-web-console">Installing the web console</a>.
				</p></li></ul></div><section class="section" id="vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"><div class="titlepage"><div><div><h2 class="title">6.1. VDO volumes in the web console</h2></div></div></div><p>
				Red Hat Enterprise Linux 8 supports Virtual Data Optimizer (VDO). VDO is a block virtualization technology that combines:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Compression</span></dt><dd>
							For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-compression-in-vdo_maintaining-vdo">Enabling or disabling compression in VDO</a>.
						</dd><dt><span class="term">Deduplication</span></dt><dd>
							For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-deduplication-in-vdo_maintaining-vdo">Enabling or disabling deduplication in VDO</a>.
						</dd><dt><span class="term">Thin provisioning</span></dt><dd>
							For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/logical_volumes-configuring-and-managing-logical-volumes#con_thin-volumes_lvm-logical-volumes">Thinly-provisioned logical volumes (thin volumes)</a>.
						</dd></dl></div><p>
				Using these technologies, VDO:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Saves storage space inline
					</li><li class="listitem">
						Compresses files
					</li><li class="listitem">
						Eliminates duplications
					</li><li class="listitem">
						Enables you to allocate more virtual space than how much the physical or logical storage provides
					</li><li class="listitem">
						Enables you to extend the virtual storage by growing
					</li></ul></div><p>
				VDO can be created on top of many types of storage. In the RHEL 8 web console, you can configure VDO on top of:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						LVM
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							It is not possible to configure VDO on top of thinly-provisioned volumes.
						</p></div></div></li><li class="listitem">
						Physical volume
					</li><li class="listitem">
						Software RAID
					</li></ul></div><p>
				For details about placement of VDO in the Storage Stack, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage#vdo-requirements_deploying-vdo">System Requirements</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For details about VDO, see <a class="link" href="index.html">Deduplicating and compressing storage</a>.
					</li></ul></div></section><section class="section" id="creating-virtual-data-optimizer-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"><div class="titlepage"><div><div><h2 class="title">6.2. Creating VDO volumes in the web console</h2></div></div></div><p>
				This section helps you to create a VDO volume in the RHEL web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Physical drives, LVMs, or RAID from which you want to create VDO.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 8 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Click the <span class="strong strong"><strong>+</strong></span> icon in the <span class="strong strong"><strong>VDO Devices</strong></span> box.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-adding-vdo.png" alt="cockpit adding vdo"/></span>

					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Name</strong></span> field, enter a name of a VDO volume without spaces.
					</li><li class="listitem">
						Select the drive that you want to use.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Logical Size</strong></span> bar, set up the size of the VDO volume. You can extend it more than ten times, but consider for what purpose you are creating the VDO volume:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For active VMs or container storage, use logical size that is ten times the physical size of the volume.
							</li><li class="listitem">
								For object storage, use logical size that is three times the physical size of the volume.
							</li></ul></div><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage">Deploying VDO</a>.
					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Index Memory</strong></span> bar, allocate memory for the VDO volume.
					</p><p class="simpara">
						For details about VDO system requirements, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage#vdo-requirements_deploying-vdo">System Requirements</a>.
					</p></li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Compression</strong></span> option. This option can efficiently reduce various file formats.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-compression-in-vdo_maintaining-vdo">Enabling or disabling compression in VDO</a>.
					</p></li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Deduplication</strong></span> option.
					</p><p class="simpara">
						This option reduces the consumption of storage resources by eliminating multiple copies of duplicate blocks. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-deduplication-in-vdo_maintaining-vdo">Enabling or disabling deduplication in VDO</a>.
					</p></li><li class="listitem">
						[Optional] If you want to use the VDO volume with applications that need a 512 bytes block size, select <span class="strong strong"><strong>Use 512 Byte emulation</strong></span>. This reduces the performance of the VDO volume, but should be very rarely needed. If in doubt, leave it off.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Create</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-create-vdo-dialog.png" alt="cockpit create vdo dialog"/></span>

					</p></li></ol></div><p>
				If the process of creating the VDO volume succeeds, you can see the new VDO volume in the <span class="strong strong"><strong>Storage</strong></span> section and format it with a file system.
			</p><p>
				<span class="inlinemediaobject"><img src="cockpit-vdo-created.png" alt="cockpit vdo created"/></span>

			</p></section><section class="section" id="formatting-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"><div class="titlepage"><div><div><h2 class="title">6.3. Formatting VDO volumes in the web console</h2></div></div></div><p>
				VDO volumes act as physical drives. To use them, you need to format them with a file system.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Formatting VDO will erase all data on the volume.
				</p></div></div><p>
				The following steps describe the procedure to format VDO volumes.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A VDO volume is created. For details, see <a class="xref" href="index.html#creating-virtual-data-optimizer-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes" title="6.2. Creating VDO volumes in the web console">Section 6.2, “Creating VDO volumes in the web console”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 8 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem">
						Click the VDO volume.
					</li><li class="listitem">
						Click on the <span class="strong strong"><strong>Unrecognized Data</strong></span> tab.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Format</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-vdo-format.png" alt="cockpit vdo format"/></span>

					</p></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Erase</strong></span> drop down menu, select:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="strong strong"><strong>Don’t overwrite existing data</strong></span></span></dt><dd>
									The RHEL web console rewrites only the disk header. The advantage of this option is the speed of formatting.
								</dd><dt><span class="term"><span class="strong strong"><strong>Overwrite existing data with zeros</strong></span></span></dt><dd>
									The RHEL web console rewrites the whole disk with zeros. This option is slower because the program has to go through the whole disk. Use this option if the disk includes any data and you need to rewrite them.
								</dd></dl></div></li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Type</strong></span> drop down menu, select a filesystem:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								The <span class="strong strong"><strong>XFS</strong></span> file system supports large logical volumes, switching physical drives online without outage, and growing. Leave this file system selected if you do not have a different strong preference.
							</p><p class="simpara">
								XFS does not support shrinking volumes. Therefore, you will not be able to reduce volume formatted with XFS.
							</p></li><li class="listitem">
								The <span class="strong strong"><strong>ext4</strong></span> file system supports logical volumes, switching physical drives online without outage, growing, and shrinking.
							</li></ul></div><p class="simpara">
						You can also select a version with the LUKS (Linux Unified Key Setup) encryption, which allows you to encrypt the volume with a passphrase.
					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Name</strong></span> field, enter the logical volume name.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Mounting</strong></span> drop down menu, select <span class="strong strong"><strong>Custom</strong></span>.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Default</strong></span> option does not ensure that the file system will be mounted on the next boot.
					</p></li><li class="listitem">
						In the <span class="strong strong"><strong>Mount Point</strong></span> field, add the mount path.
					</li><li class="listitem"><p class="simpara">
						Select <span class="strong strong"><strong>Mount at boot</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-lv-format.png" alt="cockpit lv format"/></span>

					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Format</strong></span>.
					</p><p class="simpara">
						Formatting can take several minutes depending on the used formatting options and the volume size.
					</p><p class="simpara">
						After a successful finish, you can see the details of the formatted VDO volume on the <span class="strong strong"><strong>Filesystem</strong></span> tab.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-vdo-formatted.png" alt="cockpit vdo formatted"/></span>

					</p></li><li class="listitem">
						To use the VDO volume, click <span class="strong strong"><strong>Mount</strong></span>.
					</li></ol></div><p>
				At this point, the system uses the mounted and formatted VDO volume.
			</p></section><section class="section" id="extending-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"><div class="titlepage"><div><div><h2 class="title">6.4. Extending VDO volumes in the web console</h2></div></div></div><p>
				This section describes extending VDO volumes in the RHEL 8 web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The VDO volume created.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Log in to the RHEL 8 web console.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Storage</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Click your VDO volume in the <span class="strong strong"><strong>VDO Devices</strong></span> box.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-vdo-created.png" alt="cockpit vdo created"/></span>

					</p></li><li class="listitem">
						In the VDO volume details, click the <span class="strong strong"><strong>Grow</strong></span> button.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Grow logical size of VDO</strong></span> dialog box, extend the logical size of the VDO volume.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="cockpit-vdo-grow-done.png" alt="cockpit vdo grow done"/></span>

					</p><p class="simpara">
						Original size of the logical volume from the screenshot was 6 GB. As you can see, the RHEL web console enables you to grow the volume to more than ten times the size and it works correctly because of the compression and deduplication.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>Grow</strong></span>.
					</li></ol></div><p>
				If the process of growing VDO succeeds, you can see the new size in the VDO volume details.
			</p><p>
				<span class="inlinemediaobject"><img src="cockpit-vdo-grow-details.png" alt="cockpit vdo grow details"/></span>

			</p></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140696568946704"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2020 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="l_summit.png" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
