<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="81fe5550-3fb1-4f14-ac33-4b91eb1f1fd0" product="f321f43a-4a79-48fe-8aae-117b9d973ec0" revision="2819beea55897f272e7af0af12c6069ae950046e:en-us" page="2375a891-c77e-4c33-a9d9-74a4dbbaad05" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/index" />
<meta property="og:title" content="Managing, monitoring and updating the kernel Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta property="og:description" content="This document provides the users and administrators with necessary information about configuring their workstations on the Linux kernel level. Such adjustments bring performance enhancements, easier troubleshooting or optimized system." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/index" />
<meta name="twitter:title" content="Managing, monitoring and updating the kernel Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This document provides the users and administrators with necessary information about configuring their workstations on the Linux kernel level. Such adjustments bring performance enhancements, easier troubleshooting or optimized system." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Managing, monitoring and updating the kernel Red Hat Enterprise Linux 8 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs07.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="2070d6b" />
<meta name="cp-chrome-build-date" content="2020-03-09T20:28:54.189Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "2070d6b",
        builddate : "2020-03-09T20:28:54.189Z",
        fetchdate : "2020-03-11T07:52:05-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=2070d6b.css" />

<link href="chosen.css%3Fv=2070d6b.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=2070d6b" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__1YIht1y1Jlm9D0PyxEuhS3DlWdYAlEsNpsFDOaUsfRw__ZnC7278ZsqBG-1FOUqflDl8B3Y1kLiAWXAIkoLrHbYg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       '81fe5550-3fb1-4f14-ac33-4b91eb1f1fd0');
attributes.set('ResourceTitle',    'Managing, monitoring and updating the kernel');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       '2819beea55897f272e7af0af12c6069ae950046e:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat Enterprise Linux');
attributes.set('ProductVersion',   '8');
attributes.set('ProductId',        'Red Hat Enterprise Linux 8');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat Enterprise Linux", "/documentation/en-us/red_hat_enterprise_linux/"], ["8", "/documentation/en-us/red_hat_enterprise_linux/8/"], ["Managing, monitoring and updating the kernel", "/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__veGxEiPQW6fkzAPZnAFA23SFz1CyJy2dlu6x8XuHM4s__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"bDL_26CKx_uGD6MTCp2TkBMF1UpWiwNDIEUF-DIHu04","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-group-group, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-group-group-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-group-group-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-group-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs07-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page admin-bar  kcs_external" >

  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
            <defs>
              <style>
                .rh-logo-hat {
                  fill: #e00;
                }
                .rh-logo-type {
                  fill: #fff;
                }
              </style>
            </defs>
            <title>Red Hat</title>
            <path
              class="rh-logo-hat"
              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
              <path class="rh-logo-band"
              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
              <path
              class="rh-logo-type"
              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
          </svg>
        </span>
        <span class="site-title"><span>Customer </span><span>Portal</span></span>
    </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <div class="input-group push-bottom">

                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Troubleshooting an issue? Try <a href="https://access.redhat.com/solution-engine">Solution Engine</a>&mdash;our new support tool.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                        <span class="logo-crop">
                          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                            <defs>
                              <style>
                                .rh-logo-hat {
                                  fill: #e00;
                                }
                                .rh-logo-type {
                                  fill: #fff;
                                }
                              </style>
                            </defs>
                            <title>Red Hat</title>
                            <path
                              class="rh-logo-hat"
                              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                              <path class="rh-logo-band"
                              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                              <path
                              class="rh-logo-type"
                              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                          </svg>
                        </span>
                        <span class="site-title"><span>Customer </span><span>Portal</span></span>
                    </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        <li><a href="https://access.redhat.com/ecosystem/" class="cta-link cta-link-darkbg">Ecosystem</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/">日本語</a></li>
                      <li><a href="index.html">English</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/pdf/managing_monitoring_and_updating_the_kernel/Red_Hat_Enterprise_Linux-8-Managing_monitoring_and_updating_the_kernel-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/epub/managing_monitoring_and_updating_the_kernel/Red_Hat_Enterprise_Linux-8-Managing_monitoring_and_updating_the_kernel-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Managing, monitoring and updating the kernel</a></li><li class=" leaf"><a href="index.html#proc_providing-feedback-on-red-hat-documentation_managing-monitoring-and-updating-the-kernel">Providing feedback on Red Hat documentation</a></li><li class=" leaf"><a href="index.html#the-linux-kernel-rpm_managing-monitoring-and-updating-the-kernel">1. The Linux kernel RPM</a><ol class="menu"><li class=" leaf"><a href="index.html#what-is-an-rpm_the-linux-kernel-rpm">1.1. What an RPM is</a></li><li class=" leaf"><a href="index.html#the-linux-kernel-rpm-package-overview_the-linux-kernel-rpm">1.2. The Linux kernel RPM package overview</a></li><li class=" leaf"><a href="index.html#displaying-contents-of-the-kernel-package_the-linux-kernel-rpm">1.3. Displaying contents of the kernel package</a></li></ol></li><li class=" leaf"><a href="index.html#updating-kernel-with-yum_managing-monitoring-and-updating-the-kernel">2. Updating kernel with yum</a><ol class="menu"><li class=" leaf"><a href="index.html#what-is-the-kernel_updating-kernel-with-yum">2.1. What is the kernel</a></li><li class=" leaf"><a href="index.html#what-is-yum_updating-kernel-with-yum">2.2. What is yum</a></li><li class=" leaf"><a href="index.html#updating-the-kernel_updating-kernel-with-yum">2.3. Updating the kernel</a></li><li class=" leaf"><a href="index.html#installing-the-kernel_updating-kernel-with-yum">2.4. Installing the kernel</a></li></ol></li><li class=" leaf"><a href="index.html#managing-kernel-modules_managing-monitoring-and-updating-the-kernel">3. Managing kernel modules</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction-to-kernel-modules_managing-kernel-modules">3.1. Introduction to kernel modules</a></li><li class=" leaf"><a href="index.html#kernel-module-dependencies_managing-kernel-modules">3.2. Kernel module dependencies</a></li><li class=" leaf"><a href="index.html#listing-currently-loaded-kernel-modules_managing-kernel-modules">3.3. Listing currently loaded kernel modules</a></li><li class=" leaf"><a href="index.html#displaying-information-about-kernel-modules_managing-kernel-modules">3.4. Displaying information about kernel modules</a></li><li class=" leaf"><a href="index.html#loading-kernel-modules-at-system-runtime_managing-kernel-modules">3.5. Loading kernel modules at system runtime</a></li><li class=" leaf"><a href="index.html#unloading-kernel-modules-at-system-runtime_managing-kernel-modules">3.6. Unloading kernel modules at system runtime</a></li><li class=" leaf"><a href="index.html#loading-kernel-modules-automatically-at-system-boot-time_managing-kernel-modules">3.7. Loading kernel modules automatically at system boot time</a></li><li class=" leaf"><a href="index.html#preventing-kernel-modules-from-being-automatically-loaded-at-system-boot-time_managing-kernel-modules">3.8. Preventing kernel modules from being automatically loaded at system boot time</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel">4. Configuring kernel command line parameters</a><ol class="menu"><li class=" leaf"><a href="index.html#what-are-kernel-command-line-parameters_configuring-kernel-command-line-parameters">4.1. What are kernel command line parameters</a></li><li class=" leaf"><a href="index.html#what-is-grubby_configuring-kernel-command-line-parameters">4.2. What is grubby</a></li><li class=" leaf"><a href="index.html#what-are-boot-entries_configuring-kernel-command-line-parameters">4.3. What are boot entries</a></li><li class=" leaf"><a href="index.html#setting-kernel-command-line-parameters_configuring-kernel-command-line-parameters">4.4. Setting kernel command line parameters</a><ol class="menu"><li class=" leaf"><a href="index.html#changing-kernel-command-line-parameters-for-all-boot-entries_setting-kernel-command-line-parameters">4.4.1. Changing kernel command line parameters for all boot entries</a></li><li class=" leaf"><a href="index.html#changing-kernel-command-line-parameters-for-a-single-boot-entry_setting-kernel-command-line-parameters">4.4.2. Changing kernel command line parameters for a single boot entry</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel">5. Configuring kernel parameters at runtime</a><ol class="menu"><li class=" leaf"><a href="index.html#what-are-kernel-parameters_configuring-kernel-parameters-at-runtime">5.1. What are kernel parameters</a></li><li class=" leaf"><a href="index.html#setting-kernel-parameters-at-runtime_configuring-kernel-parameters-at-runtime">5.2. Setting kernel parameters at runtime</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-kernel-parameters-temporarily-with-sysctl_setting-kernel-parameters-at-runtime">5.2.1. Configuring kernel parameters temporarily with sysctl</a></li><li class=" leaf"><a href="index.html#configuring-kernel-parameters-permanently-with-sysctl_setting-kernel-parameters-at-runtime">5.2.2. Configuring kernel parameters permanently with sysctl</a></li><li class=" leaf"><a href="index.html#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_setting-kernel-parameters-at-runtime">5.2.3. Using configuration files in /etc/sysctl.d/ to adjust kernel parameters</a></li><li class=" leaf"><a href="index.html#configuring-kernel-parameters-temporarily-through-proc-sys_setting-kernel-parameters-at-runtime">5.2.4. Configuring kernel parameters temporarily through /proc/sys/</a></li></ol></li><li class=" leaf"><a href="index.html#keeping-kernel-panic-parameters-disabled-in-virtualized-environments_configuring-kernel-parameters-at-runtime">5.3. Keeping kernel panic parameters disabled in virtualized environments</a><ol class="menu"><li class=" leaf"><a href="index.html#what-is-a-soft-lockup_keeping-kernel-panic-parameters-disabled-in-virtualized-environments">5.3.1. What is a soft lockup</a></li><li class=" leaf"><a href="index.html#parameters-controlling-kernel-panic_keeping-kernel-panic-parameters-disabled-in-virtualized-environments">5.3.2. Parameters controlling kernel panic</a></li><li class=" leaf"><a href="index.html#spurious-soft-lockups-in-virtualized-environments_keeping-kernel-panic-parameters-disabled-in-virtualized-environments">5.3.3. Spurious soft lockups in virtualized environments</a></li></ol></li><li class=" leaf"><a href="index.html#adjusting-kernel-parameters-for-database-servers_configuring-kernel-parameters-at-runtime">5.4. Adjusting kernel parameters for database servers</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction-to-databases_adjusting-kernel-parameters-for-database-servers">5.4.1. Introduction to database servers</a></li><li class=" leaf"><a href="index.html#parameters-affecting-performance-of-database-applications_adjusting-kernel-parameters-for-database-servers">5.4.2. Parameters affecting performance of database applications</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-kernel-logging_managing-monitoring-and-updating-the-kernel">6. Getting started with kernel logging</a><ol class="menu"><li class=" leaf"><a href="index.html#what-is-the-kernel-ring-buffer_getting-started-with-kernel-logging">6.1. What is the kernel ring buffer</a></li><li class=" leaf"><a href="index.html#role-of-printk-on-log-levels-and-kernel-logging_getting-started-with-kernel-logging">6.2. Role of printk on log-levels and kernel logging</a></li></ol></li><li class=" leaf"><a href="index.html#installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel">7. Installing and configuring kdump</a><ol class="menu"><li class=" leaf"><a href="index.html#what-is-kdump_installing-and-configuring-kdump">7.1. What is kdump</a></li><li class=" leaf"><a href="index.html#installing-kdump_installing-and-configuring-kdump">7.2. Installing kdump</a></li><li class=" leaf"><a href="index.html#configuring-kdump-on-the-command-line_installing-and-configuring-kdump">7.3. Configuring kdump on the command line</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line">7.3.1. Configuring kdump memory usage</a></li><li class=" leaf"><a href="index.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line">7.3.2. Configuring the kdump target</a></li><li class=" leaf"><a href="index.html#configuring-the-core-collector_configuring-kdump-on-the-command-line">7.3.3. Configuring the core collector</a></li><li class=" leaf"><a href="index.html#configuring-the-kdump-default-failure-responses_configuring-kdump-on-the-command-line">7.3.4. Configuring the kdump default failure responses</a></li><li class=" leaf"><a href="index.html#enabling-and-disabling-the-kdump-service_configuring-kdump-on-the-command-line">7.3.5. Enabling and disabling the kdump service</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-kdump-in-the-web-console_installing-and-configuring-kdump">7.4. Configuring kdump in the web console</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console">7.4.1. Configuring kdump memory usage and target location in web console</a></li></ol></li><li class=" leaf"><a href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump">7.5. Supported kdump configurations and targets</a><ol class="menu"><li class=" leaf"><a href="index.html#memory-requirements-for-kdump_supported-kdump-configurations-and-targets">7.5.1. Memory requirements for kdump</a></li><li class=" leaf"><a href="index.html#minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets">7.5.2. Minimum threshold for automatic memory reservation</a></li><li class=" leaf"><a href="index.html#supported-kdump-targets_supported-kdump-configurations-and-targets">7.5.3. Supported kdump targets</a></li><li class=" leaf"><a href="index.html#supported-kdump-filtering-levels_supported-kdump-configurations-and-targets">7.5.4. Supported kdump filtering levels</a></li><li class=" leaf"><a href="index.html#supported-default-failure-responses_supported-kdump-configurations-and-targets">7.5.5. Supported default failure responses</a></li><li class=" leaf"><a href="index.html#estimating-kdump-size_supported-kdump-configurations-and-targets">7.5.6. Estimating kdump size</a></li></ol></li><li class=" leaf"><a href="index.html#testing-the-kdump-configuration_installing-and-configuring-kdump">7.6. Testing the kdump configuration</a></li><li class=" leaf"><a href="index.html#analyzing-a-core-dump_installing-and-configuring-kdump">7.7. Analyzing a core dump</a><ol class="menu"><li class=" leaf"><a href="index.html#installing-the-crash-utility_analyzing-a-core-dump">7.7.1. Installing the crash utility</a></li><li class=" leaf"><a href="index.html#running-and-exiting-the-crash-utility_analyzing-a-core-dump">7.7.2. Running and exiting the crash utility</a></li><li class=" leaf"><a href="index.html#displaying-message-buffer-backtrace-and-other-indicators-in-the-crash-utility_analyzing-a-core-dump">7.7.3. Displaying message buffer, backtrace, and other indicators in the crash utility</a></li><li class=" leaf"><a href="index.html#using-kernel-oops-analyzer_analyzing-a-core-dump">7.7.4. Using Kernel Oops Analyzer</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#applying-patches-with-kernel-live-patching_managing-monitoring-and-updating-the-kernel">8. Applying patches with kernel live patching</a><ol class="menu"><li class=" leaf"><a href="index.html#limitations-of-kpatch_applying-patches-with-kernel-live-patching">8.1. Limitations of kpatch</a></li><li class=" leaf"><a href="index.html#support-for-third-party-live-patching_applying-patches-with-kernel-live-patching">8.2. Support for third-party live patching</a></li><li class=" leaf"><a href="index.html#access-to-kernel-live-patches_applying-patches-with-kernel-live-patching">8.3. Access to kernel live patches</a></li><li class=" leaf"><a href="index.html#components-of-kernel-live-patching_applying-patches-with-kernel-live-patching">8.4. Components of kernel live patching</a></li><li class=" leaf"><a href="index.html#how-kernel-live-patching-works_applying-patches-with-kernel-live-patching">8.5. How kernel live patching works</a></li><li class=" leaf"><a href="index.html#enabling-kernel-live-patching_applying-patches-with-kernel-live-patching">8.6. Enabling kernel live patching</a><ol class="menu"><li class=" leaf"><a href="index.html#subscribing-to-the-live-patching-stream_enabling-kernel-live-patching">8.6.1. Subscribing to the live patching stream</a></li></ol></li><li class=" leaf"><a href="index.html#updating-kernel-patch-modules_applying-patches-with-kernel-live-patching">8.7. Updating kernel patch modules</a></li><li class=" leaf"><a href="index.html#disabling-kernel-live-patching_applying-patches-with-kernel-live-patching">8.8. Disabling kernel live patching</a><ol class="menu"><li class=" leaf"><a href="index.html#removing-the-live-patching-package_disabling-kernel-live-patching">8.8.1. Removing the live patching package</a></li><li class=" leaf"><a href="index.html#uninstalling-the-kernel-patch-module_disabling-kernel-live-patching">8.8.2. Uninstalling the kernel patch module</a></li><li class=" leaf"><a href="index.html#disabling-kpatch-service_disabling-kernel-live-patching">8.8.3. Disabling kpatch.service</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#setting-limits-for-applications_managing-monitoring-and-updating-the-kernel">9. Setting limits for applications</a><ol class="menu"><li class=" leaf"><a href="index.html#what-are-control-groups_setting-limits-for-applications">9.1. What are control groups</a><ol class="menu"><li class=" leaf"><a href="index.html#control_groups_version_1">9.1.1. Control groups version 1</a></li><li class=" leaf"><a href="index.html#control_groups_version_2">9.1.2. Control groups version 2</a></li></ol></li><li class=" leaf"><a href="index.html#what-are-kernel-resource-controllers_setting-limits-for-applications">9.2. What are kernel resource controllers</a></li><li class=" leaf"><a href="index.html#what-are-namespaces_setting-limits-for-applications">9.3. What are namespaces</a></li><li class=" leaf"><a href="index.html#using-control-groups-through-a-virtual-file-system_setting-limits-for-applications">9.4. Using control groups through a virtual file system</a><ol class="menu"><li class=" leaf"><a href="index.html#setting-memory-limits-to-applications-through-cgroups-v1_using-control-groups-through-a-virtual-file-system">9.4.1. Setting memory limits to applications through cgroups-v1</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#analyzing-system-performance-with-bpf-compiler_collection_managing-monitoring-and-updating-the-kernel">10. Analyzing system performance with BPF Compiler Collection</a><ol class="menu"><li class=" leaf"><a href="index.html#bcc_analyzing-system-performance-with-bpf-compiler_collection">10.1. BCC</a></li><li class=" leaf"><a href="index.html#installing-bcc_analyzing-system-performance-with-bpf-compiler_collection">10.2. Installing BCC</a></li><li class=" leaf"><a href="index.html#using-selected-bcc-tools-for-performance-analyses_analyzing-system-performance-with-bpf-compiler_collection">10.3. Using selected bcc-tools for performance analyses</a></li></ol></li><li class=" leaf"><a href="index.html#idm139665230127408">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-training-banner"  >
  
      
  
  <div class="card card-light card-md push-bottom">
  <h2 class="card-heading card-heading-red card-heading-sm card-heading-flush">Red Hat Training</h2>
  <p>A Red Hat training course is available for <a href="https://www.redhat.com/en/services/training/courses-by-curriculum?intcmp=701f2000001D4OtAAK&amp;#Red-Hat-Enterprise-Linux" class="cta-link">RHEL 8</a></p>
</div>

  
  </div>
<div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Managing, monitoring and updating the kernel</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm139665222159648"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">8</span></div><div><h2 class="subtitle">A guide to managing the Linux kernel on Red Hat Enterprise Linux 8</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="index.html#idm139665230127408">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document provides the users and administrators with necessary information about configuring their workstations on the Linux kernel level. Such adjustments bring performance enhancements, easier troubleshooting or optimized system.
			</div></div></div></div><hr/></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p>
			We appreciate your input on our documentation. Please let us know how we could make it better. To do so:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					For simple comments on specific passages, make sure you are viewing the documentation in the Multi-page HTML format. Highlight the part of text that you want to comment on. Then, click the <span class="strong strong"><strong>Add Feedback</strong></span> pop-up that appears below the highlighted text, and follow the displayed instructions.
				</li><li class="listitem"><p class="simpara">
					For submitting more complex feedback, create a Bugzilla ticket:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Go to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">Bugzilla</a> website.
						</li><li class="listitem">
							As the Component, use <span class="strong strong"><strong>Documentation</strong></span>.
						</li><li class="listitem">
							Fill in the <span class="strong strong"><strong>Description</strong></span> field with your suggestion for improvement. Include a link to the relevant part(s) of documentation.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Submit Bug</strong></span>.
						</li></ol></div></li></ul></div></section><section class="chapter" id="the-linux-kernel-rpm_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 1. The Linux kernel RPM</h1></div></div></div><p>
			The following sections describe the Linux kernel RPM package provided and maintained by Red Hat.
		</p><section class="section" id="what-is-an-rpm_the-linux-kernel-rpm"><div class="titlepage"><div><div><h2 class="title">1.1. What an RPM is</h2></div></div></div><p>
				An RPM package is a file containing other files and their metadata (information about the files that are needed by the system).
			</p><p>
				Specifically, an RPM package consists of the <code class="literal">cpio</code> archive.
			</p><p>
				The <code class="literal">cpio</code> archive contains:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Files
					</li><li class="listitem"><p class="simpara">
						RPM header (package metadata)
					</p><p class="simpara">
						The <code class="literal">rpm</code> package manager uses this metadata to determine dependencies, where to install files, and other information.
					</p></li></ul></div><h4 id="types_of_rpm_packages">Types of RPM packages</h4><p>
				There are two types of RPM packages. Both types share the file format and tooling, but have different contents and serve different purposes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Source RPM (SRPM)
					</p><p class="simpara">
						An SRPM contains source code and a SPEC file, which describes how to build the source code into a binary RPM. Optionally, the patches to source code are included as well.
					</p></li><li class="listitem"><p class="simpara">
						Binary RPM
					</p><p class="simpara">
						A binary RPM contains the binaries built from the sources and patches.
					</p></li></ul></div></section><section class="section" id="the-linux-kernel-rpm-package-overview_the-linux-kernel-rpm"><div class="titlepage"><div><div><h2 class="title">1.2. The Linux kernel RPM package overview</h2></div></div></div><p>
				The <code class="literal">kernel</code> RPM is a meta package that does not contain any files, but rather ensures that the following sub-packages are properly installed:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal package">kernel-core</code> - contains a minimal number of kernel modules needed for core functionality. This sub-package alone could be used in virtualized and cloud environments to provide a Red Hat Enterprise Linux 8 kernel with a quick boot time and a small disk size footprint.
					</li><li class="listitem">
						<code class="literal package">kernel-modules</code> - contains further kernel modules.
					</li><li class="listitem">
						<code class="literal package">kernel-modules-extra</code> - contains kernel modules for rare hardware.
					</li></ul></div><p>
				The small set of <code class="literal package">kernel</code> sub-packages above aims to provide a reduced maintenance surface to system administrators especially in virtualized and cloud environments.
			</p><p>
				The other common kernel packages are for example:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal package">kernel-debug</code> — Contains a kernel with numerous debugging options enabled for kernel diagnosis, at the expense of reduced performance.
					</li><li class="listitem">
						<code class="literal package">kernel-tools</code> — Contains tools for manipulating the Linux kernel and supporting documentation.
					</li><li class="listitem">
						<code class="literal package">kernel-devel</code> — Contains the kernel headers and makefiles sufficient to build modules against the <code class="literal package">kernel</code> package.
					</li><li class="listitem">
						<code class="literal package">kernel-abi-whitelists</code> — Contains information pertaining to the Red Hat Enterprise Linux kernel ABI, including a list of kernel symbols that are needed by external Linux kernel modules and a <code class="literal package">yum</code> plug-in to aid enforcement.
					</li><li class="listitem">
						<code class="literal package">kernel-headers</code> — Includes the C header files that specify the interface between the Linux kernel and user-space libraries and programs. The header files define structures and constants that are needed for building most standard programs.
					</li></ul></div></section><section class="section" id="displaying-contents-of-the-kernel-package_the-linux-kernel-rpm"><div class="titlepage"><div><div><h2 class="title">1.3. Displaying contents of the kernel package</h2></div></div></div><p>
				The following procedure describes how to view the contents of the kernel package and its sub-packages without installing them using the <code class="literal">rpm</code> command.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Obtained <code class="literal package">kernel</code>, <code class="literal package">kernel-core</code>, <code class="literal package">kernel-modules</code>, <code class="literal package">kernel-modules-extra</code> RPM packages for your CPU architecture
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						List modules for <code class="literal packge">kernel</code>:
					</p><pre class="literallayout"><code class="literal command">$ rpm -qlp &lt;<span class="emphasis"><em>kernel_rpm</em></span>&gt;</code>
(contains no files)
…​</pre></li><li class="listitem"><p class="simpara">
						List modules for <code class="literal package">kernel-core</code>:
					</p><pre class="literallayout"><code class="literal command">$ rpm -qlp &lt;<span class="emphasis"><em>kernel-core_rpm</em></span>&gt;</code>
…​
/lib/modules/4.18.0-80.el8.x86_64/kernel/fs/udf/udf.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/fs/xfs
/lib/modules/4.18.0-80.el8.x86_64/kernel/fs/xfs/xfs.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/kernel
/lib/modules/4.18.0-80.el8.x86_64/kernel/kernel/trace
/lib/modules/4.18.0-80.el8.x86_64/kernel/kernel/trace/ring_buffer_benchmark.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/lib
/lib/modules/4.18.0-80.el8.x86_64/kernel/lib/cordic.ko.xz
…​</pre></li><li class="listitem"><p class="simpara">
						List modules for <code class="literal package">kernel-modules</code>:
					</p><pre class="literallayout"><code class="literal command">$ rpm -qlp &lt;<span class="emphasis"><em>kernel-modules_rpm</em></span>&gt;</code>
…​
/lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/infiniband/hw/mlx4/mlx4_ib.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/infiniband/hw/mlx5/mlx5_ib.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/infiniband/hw/qedr/qedr.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/infiniband/hw/usnic/usnic_verbs.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/kernel/drivers/infiniband/hw/vmw_pvrdma/vmw_pvrdma.ko.xz
…​</pre></li><li class="listitem"><p class="simpara">
						List modules for <code class="literal package">kernel-modules-extra</code>:
					</p><pre class="literallayout"><code class="literal command">$ rpm -qlp &lt;<span class="emphasis"><em>kernel-modules-extra_rpm</em></span>&gt;</code>
…​
/lib/modules/4.18.0-80.el8.x86_64/extra/net/sched/sch_cbq.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/extra/net/sched/sch_choke.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/extra/net/sched/sch_drr.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/extra/net/sched/sch_dsmark.ko.xz
/lib/modules/4.18.0-80.el8.x86_64/extra/net/sched/sch_gred.ko.xz
…​</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For information on how to use the <code class="literal">rpm</code> command on already installed <code class="literal package">kernel</code> RPM, including its sub-packages, see the <code class="literal">rpm(8)</code> manual page.
					</li><li class="listitem">
						Introduction to <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/packaging_and_distributing_software/index#rpm-packages_packaging-software">RPM packages</a></span></em></span>
					</li></ul></div></section></section><section class="chapter" id="updating-kernel-with-yum_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Updating kernel with yum</h1></div></div></div><p>
			The following sections bring information about the Linux kernel provided and maintained by Red Hat (Red Hat kernel), and how to keep the Red Hat kernel updated. As a consequence, the operating system will have all the latest bug fixes, performance enhancements, and patches ensuring compatibility with new hardware.
		</p><section class="section" id="what-is-the-kernel_updating-kernel-with-yum"><div class="titlepage"><div><div><h2 class="title">2.1. What is the kernel</h2></div></div></div><p>
				The kernel is a core part of a Linux operating system, which manages the system resources, and provides interface between hardware and software applications. The Red Hat kernel is a custom-built kernel based on the upstream Linux mainline kernel that Red Hat engineers further develop and harden with a focus on stability and compatibility with the latest technologies and hardware.
			</p><p>
				Before Red Hat releases a new kernel version, the kernel needs to pass a set of rigorous quality assurance tests.
			</p><p>
				The Red Hat kernels are packaged in the RPM format so that they are easy to upgrade and verify by the <span class="strong strong"><strong><span class="application application">yum</span></strong></span> package manager.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Kernels that have not been compiled by Red Hat are <span class="strong strong"><strong>not</strong></span> supported by Red Hat.
				</p></div></div></section><section class="section" id="what-is-yum_updating-kernel-with-yum"><div class="titlepage"><div><div><h2 class="title">2.2. What is yum</h2></div></div></div><p>
				This section refers to description of the <code class="literal application">yum</code> <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#introduction-to-yum-functionality">package manager</a></span></em></span>.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on <code class="literal application">yum</code> see the relevant sections of <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#installing-software-with-yum">Configuring basic system settings</a></span></em></span>.
					</li></ul></div></section><section class="section" id="updating-the-kernel_updating-kernel-with-yum"><div class="titlepage"><div><div><h2 class="title">2.3. Updating the kernel</h2></div></div></div><p>
				The following procedure describes how to update the kernel using the <span class="strong strong"><strong><span class="application application">yum</span></strong></span> package manager.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To update the kernel, use the following:
					</p><pre class="screen"><code class="literal command"># yum</code> <code class="literal option">update</code> <code class="literal option">kernel</code></pre><p class="simpara">
						This command updates the kernel along with all dependencies to the latest available version.
					</p></li><li class="listitem">
						Reboot your system for the changes to take effect.
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When upgrading from Red Hat Enterprise Linux 7 to Red Hat Enterprise Linux 8, follow relevant sections of the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/upgrading_to_rhel_8/index">Upgrading to RHEL 8</a></span></em></span> document.
				</p></div></div></section><section class="section" id="installing-the-kernel_updating-kernel-with-yum"><div class="titlepage"><div><div><h2 class="title">2.4. Installing the kernel</h2></div></div></div><p>
				The following procedure describes how to install new kernels using the <span class="strong strong"><strong><span class="application application">yum</span></strong></span> package manager.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To install a specific kernel version, use the following:
					</p><pre class="screen"><code class="literal command"># yum</code> <code class="literal option">install</code> <code class="literal option">kernel-{version}</code></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of available kernels, refer to <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/labs/rhcb/">Red Hat Code Browser</a></span></em></span>.
					</li><li class="listitem">
						For a list of release dates of specific kernel versions, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/articles/3078">this article</a></span></em></span>.
					</li></ul></div></section></section><section class="chapter" id="managing-kernel-modules_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Managing kernel modules</h1></div></div></div><p>
			The following sections explain what kernel modules are, how to display their information, and how to perform basic administrative tasks with kernel modules.
		</p><section class="section" id="introduction-to-kernel-modules_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.1. Introduction to kernel modules</h2></div></div></div><p>
				The Red Hat Enterprise Linux kernel can be extended with optional, additional pieces of functionality, called kernel modules, without having to reboot the system. On Red Hat Enterprise Linux 8, kernel modules are extra kernel code which is built into compressed <code class="literal file">&lt;KERNEL_MODULE_NAME&gt;.ko.xz</code> object files.
			</p><p>
				The most common functionality enabled by kernel modules are:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Device driver which adds support for new hardware
					</li><li class="listitem">
						Support for a file system such as <code class="literal">GFS2</code> or <code class="literal">NFS</code>
					</li><li class="listitem">
						System calls
					</li></ul></div><p>
				On modern systems, kernel modules are automatically loaded when needed. However, in some cases it is necessary to load or unload modules manually.
			</p><p>
				Like the kernel itself, the modules can take parameters that customize their behavior if needed.
			</p><p>
				Tooling is provided to inspect which modules are currently running, which modules are available to load into the kernel and which parameters a module accepts. The tooling also provides a mechanism to load and unload kernel modules into the running kernel.
			</p></section><section class="section" id="kernel-module-dependencies_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.2. Kernel module dependencies</h2></div></div></div><p>
				Certain kernel modules sometimes depend on one or more other kernel modules. The <code class="literal file">/lib/modules/&lt;KERNEL_VERSION&gt;/modules.dep</code> file contains a complete list of kernel module dependencies for the respective kernel version.
			</p><p>
				The dependency file is generated by the <code class="literal utility">depmod</code> program, which is a part of the <code class="literal package">kmod</code> package. Many of the utilities provided by <code class="literal package">kmod</code> take module dependencies into account when performing operations so that <span class="strong strong"><strong>manual</strong></span> dependency-tracking is rarely necessary.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					The code of kernel modules is executed in kernel-space in the unrestricted mode. Because of this, you should be mindful of what modules you are loading.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about <code class="literal file">/lib/modules/&lt;KERNEL_VERSION&gt;/modules.dep</code>, refer to the <code class="literal">modules.dep(5)</code> manual page.
					</li><li class="listitem">
						For further details including the synopsis and options of <code class="literal utility">depmod</code>, see the <code class="literal">depmod(8)</code> manual page.
					</li></ul></div></section><section class="section" id="listing-currently-loaded-kernel-modules_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.3. Listing currently loaded kernel modules</h2></div></div></div><p>
				The following procedure describes how to view the currently loaded kernel modules.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To list all currently loaded kernel modules, execute:
					</p><pre class="literallayout">$ lsmod

Module                  Size  Used by
fuse                  126976  3
uinput                 20480  1
xt_CHECKSUM            16384  1
ipt_MASQUERADE         16384  1
xt_conntrack           16384  1
ipt_REJECT             16384  1
nft_counter            16384  16
nf_nat_tftp            16384  0
nf_conntrack_tftp      16384  1 nf_nat_tftp
tun                    49152  1
bridge                192512  0
stp                    16384  1 bridge
llc                    16384  2 bridge,stp
nf_tables_set          32768  5
nft_fib_inet           16384  1
…​</pre><p class="simpara">
						In the example above:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The first column provides the <span class="strong strong"><strong>names</strong></span> of currently loaded modules.
							</li><li class="listitem">
								The second column displays the amount of <span class="strong strong"><strong>memory</strong></span> per module in kilobytes.
							</li><li class="listitem">
								The last column shows the number, and optionally the names of modules that are <span class="strong strong"><strong>dependent</strong></span> on a particular module.
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about <code class="literal package">kmod</code>, refer to the <code class="literal">/usr/share/doc/kmod/README</code> file or the <code class="literal">lsmod(8)</code> manual page.
					</li></ul></div></section><section class="section" id="displaying-information-about-kernel-modules_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.4. Displaying information about kernel modules</h2></div></div></div><p>
				When working with a kernel module, you may want to see further information about that module. This procedure describes how to display extra information about kernel modules.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To display information about any kernel module, execute:
					</p><pre class="literallayout">$ modinfo &lt;<span class="emphasis"><em>KERNEL_MODULE_NAME</em></span>&gt;

For example:
$ modinfo virtio_net

filename:       /lib/modules/4.18.0-94.el8.x86_64/kernel/drivers/net/virtio_net.ko.xz
license:        GPL
description:    Virtio network driver
rhelversion:    8.1
srcversion:     2E9345B281A898A91319773
alias:          virtio:d00000001v*
depends:        net_failover
intree:         Y
name:           virtio_net
vermagic:       4.18.0-94.el8.x86_64 SMP mod_unload modversions
…​
parm:           napi_weight:int
parm:           csum:bool
parm:           gso:bool
parm:           napi_tx:bool</pre><p class="simpara">
						The <code class="literal command">modinfo</code> command displays some detailed information about the specified kernel module. You can query information about all available modules, regardless of whether they are loaded or not. The <code class="literal">parm</code> entries show parameters the user is able to set for the module, and what type of value they expect.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When entering the name of a kernel module, do not append the <code class="literal">.ko.xz</code> extension to the end of the name. Kernel module names do not have extensions; their corresponding files do.
						</p></div></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about the <code class="literal command">modinfo</code>, refer to the <code class="literal">modinfo(8)</code> manual page.
					</li></ul></div></section><section class="section" id="loading-kernel-modules-at-system-runtime_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.5. Loading kernel modules at system runtime</h2></div></div></div><p>
				The optimal way to expand the functionality of the Linux kernel is by loading kernel modules. The following procedure describes how to use the <code class="literal command">modprobe</code> command to find and load a kernel module into the currently running kernel.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Root permissions
					</li><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li><li class="listitem">
						The respective kernel module is not loaded. To ensure this is the case, list the <a class="link" href="index.html#listing-currently-loaded-kernel-modules_managing-kernel-modules" title="3.3. Listing currently loaded kernel modules">loaded kernel modules</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Select a kernel module you want to load.
					</p><p class="simpara">
						The modules are located in the <code class="literal">/lib/modules/$(uname -r)/kernel/&lt;SUBSYSTEM&gt;/</code> directory.
					</p></li><li class="listitem"><p class="simpara">
						Load the relevant kernel module:
					</p><pre class="literallayout"># modprobe &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When entering the name of a kernel module, do not append the <code class="literal">.ko.xz</code> extension to the end of the name. Kernel module names do not have extensions; their corresponding files do.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify the relevant module was loaded:
					</p><pre class="literallayout">$ lsmod | grep &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;</pre><p class="simpara">
						If the module was loaded correctly, this command displays the relevant kernel module. For example:
					</p><pre class="literallayout">$ lsmod | grep serio_raw
serio_raw              16384  0</pre></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The changes described in this procedure <span class="strong strong"><strong>will not persist</strong></span> after rebooting the system.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about <code class="literal command">modprobe</code>, see the <code class="literal">modprobe(8)</code> manual page.
					</li></ul></div></section><section class="section" id="unloading-kernel-modules-at-system-runtime_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.6. Unloading kernel modules at system runtime</h2></div></div></div><p>
				At times, you find that you need to unload certain kernel modules from the running kernel. The following procedure describes how to use the <code class="literal command">modprobe</code> command to find and unload a kernel module at system runtime from the currently loaded kernel.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Root permissions
					</li><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the <code class="literal command">lsmod</code> command and select a kernel module you want to unload.
					</p><p class="simpara">
						If a kernel module has dependencies, unload those prior to unloading the kernel module. For details on identifying modules with dependencies, see <a class="xref" href="index.html#listing-currently-loaded-kernel-modules_managing-kernel-modules" title="3.3. Listing currently loaded kernel modules">Section 3.3, “Listing currently loaded kernel modules”</a>.
					</p></li><li class="listitem"><p class="simpara">
						Unload the relevant kernel module:
					</p><pre class="literallayout"># modprobe -r &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;</pre><p class="simpara">
						When entering the name of a kernel module, do not append the <code class="literal">.ko.xz</code> extension to the end of the name. Kernel module names do not have extensions; their corresponding files do.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							Do not unload kernel modules when they are used by the running system. Doing so can lead to an unstable or non-operational system.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify the relevant module was unloaded:
					</p><pre class="literallayout">$ lsmod | grep &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;</pre><p class="simpara">
						If the module was unloaded successfully, this command does not display any output.
					</p></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					After finishing this procedure, the kernel modules that are defined to be automatically loaded on boot, <span class="strong strong"><strong>will not stay unloaded</strong></span> after rebooting the system. For information on how to counter this outcome, see <a class="link" href="index.html#preventing-kernel-modules-from-being-automatically-loaded-at-system-boot-time_managing-kernel-modules" title="3.8. Preventing kernel modules from being automatically loaded at system boot time">Preventing kernel modules from being automatically loaded at system boot time</a>.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about <code class="literal command">modprobe</code>, see the <code class="literal">modprobe(8)</code> manual page.
					</li></ul></div></section><section class="section" id="loading-kernel-modules-automatically-at-system-boot-time_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.7. Loading kernel modules automatically at system boot time</h2></div></div></div><p>
				The following procedure describes how to configure a kernel module so that it is loaded automatically during the boot process.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Root permissions
					</li><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Select a kernel module you want to load during the boot process.
					</p><p class="simpara">
						The modules are located in the <code class="literal">/lib/modules/$(uname -r)/kernel/&lt;SUBSYSTEM&gt;/</code> directory.
					</p></li><li class="listitem"><p class="simpara">
						Create a configuration file for the module:
					</p><pre class="literallayout"># echo &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt; &gt; /etc/modules-load.d/&lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;.conf</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When entering the name of a kernel module, do not append the <code class="literal">.ko.xz</code> extension to the end of the name. Kernel module names do not have extensions; their corresponding files do.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, after reboot, verify the relevant module was loaded:
					</p><pre class="literallayout">$ lsmod | grep &lt;<span class="emphasis"><em>MODULE_NAME</em></span>&gt;</pre><p class="simpara">
						The example command above should succeed and display the relevant kernel module.
					</p></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The changes described in this procedure <span class="strong strong"><strong>will persist</strong></span> after rebooting the system.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about loading kernel modules during the boot process, see the <code class="literal">modules-load.d(5)</code> manual page.
					</li></ul></div></section><section class="section" id="preventing-kernel-modules-from-being-automatically-loaded-at-system-boot-time_managing-kernel-modules"><div class="titlepage"><div><div><h2 class="title">3.8. Preventing kernel modules from being automatically loaded at system boot time</h2></div></div></div><p>
				The following procedure describes how to add a kernel module to a blacklist so that it will not be automatically loaded during the boot process.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Root permissions
					</li><li class="listitem">
						The <code class="literal package">kmod</code> package is installed.
					</li><li class="listitem">
						Ensure that a blacklisted kernel module is not vital for your current system configuration.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Select a kernel module that you want to blacklist:
					</p><pre class="literallayout">$ lsmod

Module                  Size  Used by
fuse                  126976  3
xt_CHECKSUM            16384  1
ipt_MASQUERADE         16384  1
uinput                 20480  1
xt_conntrack           16384  1
…​</pre><p class="simpara">
						The <code class="literal command">lsmod</code> command displays a list of modules loaded to the currently running kernel.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Alternatively, identify an unloaded kernel module you want to prevent from potentially loading.
							</p><p class="simpara">
								All kernel modules are located in the <code class="literal">/lib/modules/&lt;KERNEL_VERSION&gt;/kernel/&lt;SUBSYSTEM&gt;/</code> directory.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Create a blacklist configuration file:
					</p><pre class="literallayout"># vim /etc/modprobe.d/blacklist.conf

	# Blacklists &lt;<span class="emphasis"><em>KERNEL_MODULE_1</em></span>&gt;
	blacklist &lt;<span class="emphasis"><em>MODULE_NAME_1</em></span>&gt;
	install &lt;<span class="emphasis"><em>MODULE_NAME_1</em></span>&gt; /bin/false

	# Blacklists &lt;<span class="emphasis"><em>KERNEL_MODULE_2</em></span>&gt;
	blacklist &lt;<span class="emphasis"><em>MODULE_NAME_2</em></span>&gt;
	install &lt;<span class="emphasis"><em>MODULE_NAME_2</em></span>&gt; /bin/false

	# Blacklists &lt;<span class="emphasis"><em>KERNEL_MODULE_n</em></span>&gt;
	blacklist &lt;<span class="emphasis"><em>MODULE_NAME_n</em></span>&gt;
	install &lt;<span class="emphasis"><em>MODULE_NAME_n</em></span>&gt; /bin/false
	…​</pre><p class="simpara">
						The example shows the contents of the <code class="literal file">blacklist.conf</code> file, edited by the <code class="literal utility">vim</code> editor. The <code class="literal">blacklist</code> line ensures that the relevant kernel module will not be automatically loaded during the boot process. The <code class="literal">blacklist</code> command, however, does not prevent the module from being loaded as a dependency for another kernel module that is not blacklisted. Therefore the <code class="literal">install</code> line causes the <code class="literal">/bin/false</code> to run instead of installing a module.
					</p><p class="simpara">
						The lines starting with a hash sign are comments to make the file more readable.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When entering the name of a kernel module, do not append the <code class="literal">.ko.xz</code> extension to the end of the name. Kernel module names do not have extensions; their corresponding files do.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Create a backup copy of the current initial ramdisk image before rebuilding:
					</p><pre class="literallayout"># cp /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).bak.$(date +%m-%d-%H%M%S).img</pre><p class="simpara">
						The command above creates a backup <code class="literal">initramfs</code> image in case the new version has an unexpected problem.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Alternatively, create a backup copy of other initial ramdisk image which corresponds to the kernel version for which you want to blacklist kernel modules:
							</p><pre class="literallayout"># cp /boot/initramfs-&lt;<span class="emphasis"><em>SOME_VERSION</em></span>&gt;.img /boot/initramfs-&lt;<span class="emphasis"><em>SOME_VERSION</em></span>&gt;.img.bak.$(date +%m-%d-%H%M%S)</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Generate a new initial ramdisk image to reflect the changes:
					</p><pre class="literallayout"># dracut -f -v</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If you are building an initial ramdisk image for a different kernel version than you are currently booted into, specify both target <code class="literal">initramfs</code> and kernel version:
							</p><pre class="literallayout"># dracut -f -v /boot/initramfs-&lt;<span class="emphasis"><em>TARGET_VERSION</em></span>&gt;.img &lt;<span class="emphasis"><em>CORRESPONDING_TARGET_KERNEL_VERSION</em></span>&gt;</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Reboot the system:
					</p><pre class="literallayout">$ reboot</pre></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The changes described in this procedure <span class="strong strong"><strong>will take effect and persist</strong></span> after rebooting the system. Improper blacklisting of a key kernel module can result in an unstable or non-operational system.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details concerning the <code class="literal">dracut</code> utility, refer to the <code class="literal">dracut(8)</code> manual page.
					</li></ul></div></section></section><section class="chapter" id="configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Configuring kernel command line parameters</h1></div></div></div><p>
			Kernel command line parameters are a way to change the behavior of certain aspects of the Red Hat Enterprise Linux kernel at boot time. As a system administrator, you have full control over what options get set at boot. Certain kernel behaviors are only able to be set at boot time, so understanding how to make this changes is a key administration skill.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Opting to change the behavior of the system by modifying kernel command line parameters may have negative effects on your system. You should therefore test changes prior to deploying them in production. For further guidance, contact Red Hat Support.
			</p></div></div><section class="section" id="what-are-kernel-command-line-parameters_configuring-kernel-command-line-parameters"><div class="titlepage"><div><div><h2 class="title">4.1. What are kernel command line parameters</h2></div></div></div><p>
				Kernel command line parameters are used for boot time configuration of:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The Red Hat Enterprise Linux kernel
					</li><li class="listitem">
						The initial RAM disk
					</li><li class="listitem">
						The user space features
					</li></ul></div><p>
				Kernel boot time parameters are often used to overwrite default values and for setting specific hardware settings.
			</p><p>
				By default, the kernel command line parameters for systems using the GRUB2 bootloader are defined in the <code class="literal">kernelopts</code> variable of the <code class="literal">/boot/grub2/grubenv</code> file for all kernel boot entries.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For IBM Z, the kernel command line parameters are stored in the boot entry config file because the zipl bootloader does not support environment variables. Thus, the <code class="literal">kernelopts</code> environment variable cannot be used.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about what kernel command line parameters you can modify, see <code class="literal">kernel-command-line(7)</code>, <code class="literal">bootparam(7)</code> and <code class="literal">dracut.cmdline(7)</code> manual pages.
					</li></ul></div></section><section class="section" id="what-is-grubby_configuring-kernel-command-line-parameters"><div class="titlepage"><div><div><h2 class="title">4.2. What is grubby</h2></div></div></div><p>
				<code class="literal utility">grubby</code> is a utility for manipulating bootloader-specific configuration files.
			</p><p>
				You can use <code class="literal utility">grubby</code> also for changing the default boot entry, and for adding/removing arguments from a GRUB2 menu entry.
			</p><p>
				For more details see the <code class="literal">grubby(8)</code> manual page.
			</p></section><section class="section" id="what-are-boot-entries_configuring-kernel-command-line-parameters"><div class="titlepage"><div><div><h2 class="title">4.3. What are boot entries</h2></div></div></div><p>
				A boot entry is a collection of options which are stored in a configuration file and tied to a particular kernel version. In practice, you have at least as many boot entries as your system has installed kernels. The boot entry configuration file is located in the <code class="literal directory">/boot/loader/entries/</code> directory and can look like this:
			</p><pre class="screen">6f9cc9cb7d7845d49698c9537337cedc-4.18.0-5.el8.x86_64.conf</pre><p>
				The file name above consists of a machine ID stored in the <code class="literal filename">/etc/machine-id</code> file, and a kernel version.
			</p><p>
				The boot entry configuration file contains information about the kernel version, the initial ramdisk image, and the <code class="literal variable">kernelopts</code> environment variable, which contains the kernel command line parameters. The contents of a boot entry config can be seen below:
			</p><pre class="screen">title Red Hat Enterprise Linux (4.18.0-74.el8.x86_64) 8.0 (Ootpa)
version 4.18.0-74.el8.x86_64
linux /vmlinuz-4.18.0-74.el8.x86_64
initrd /initramfs-4.18.0-74.el8.x86_64.img $tuned_initrd
options $kernelopts $tuned_params
id rhel-20190227183418-4.18.0-74.el8.x86_64
grub_users $grub_users
grub_arg --unrestricted
grub_class kernel</pre><p>
				The <code class="literal variable">kernelopts</code> environment variable is defined in the <code class="literal">/boot/grub2/grubenv</code> file.
			</p></section><section class="section" id="setting-kernel-command-line-parameters_configuring-kernel-command-line-parameters"><div class="titlepage"><div><div><h2 class="title">4.4. Setting kernel command line parameters</h2></div></div></div><p>
				This section explains how to change kernel command line parameters on the AMD64 and Intel 64 architectures, the 64-bit ARM architectures, and the little-endian variant of IBM Power Systems.
			</p><section class="section" id="changing-kernel-command-line-parameters-for-all-boot-entries_setting-kernel-command-line-parameters"><div class="titlepage"><div><div><h3 class="title">4.4.1. Changing kernel command line parameters for all boot entries</h3></div></div></div><p>
					This procedure describes how to change kernel command line parameters for all boot entries on your system.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Introduction to <a class="link" href="index.html#what-are-kernel-command-line-parameters_configuring-kernel-command-line-parameters" title="4.1. What are kernel command line parameters">kernel command line parameters</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Open the <code class="literal">/etc/default/grub</code> file with the <code class="literal">vim</code> editor:
						</p><pre class="literallayout"># vim /etc/default/grub
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="crashkernel=auto resume=/dev/mapper/rhel-swap rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet"
GRUB_DISABLE_RECOVERY="true"
GRUB_ENABLE_BLSCFG=true</pre></li><li class="listitem">
							Add, edit, or remove a parameter on the <code class="literal">GRUB_CMDLINE_LINUX</code> line.
						</li><li class="listitem"><p class="simpara">
							Update the GRUB2 configuration file:
						</p><pre class="literallayout"># grub2-mkconfig -o /boot/grub2/grub.cfg</pre></li><li class="listitem">
							Reboot your system for the changes to take effect.
						</li></ol></div><p>
					As a result, the boot loader is reconfigured, and the kernel command line parameters that you specified are applied.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information on how to modify the kernel parameters using the GRUB2 configuration file, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html-single/system_administrators_guide/#sec-Editing_a_Menu_Entry">Editing a Menu Entry</a></span></em></span>.
						</li></ul></div></section><section class="section" id="changing-kernel-command-line-parameters-for-a-single-boot-entry_setting-kernel-command-line-parameters"><div class="titlepage"><div><div><h3 class="title">4.4.2. Changing kernel command line parameters for a single boot entry</h3></div></div></div><p>
					This procedure describes how to change kernel command line parameters for a single boot entry on your system.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Introduction to <a class="link" href="index.html#what-are-kernel-command-line-parameters_configuring-kernel-command-line-parameters" title="4.1. What are kernel command line parameters">kernel command line parameters</a>
						</li><li class="listitem">
							<code class="literal">grubby(8)</code> manual page
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To add a parameter execute the following:
						</p><pre class="literallayout"># grubby --update-kernel=/boot/vmlinuz-$(uname -r) --args="&lt;<span class="emphasis"><em>NEW_PARAMETER</em></span>&gt;"</pre></li><li class="listitem"><p class="simpara">
							To remove a parameter use the following:
						</p><pre class="literallayout"># grubby --update-kernel=/boot/vmlinuz-$(uname -r) --remove-args="&lt;<span class="emphasis"><em>PARAMETER_TO_REMOVE</em></span>&gt;"</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						By default, there is the <code class="literal parameter">options</code> parameter for each kernel boot entry, which is set to the <code class="literal variable">kernelopts</code> variable. This variable is defined in the <code class="literal file">/boot/grub2/grubenv</code> configuration file.
					</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						When you use the <code class="literal utility">grubby</code> utility to modify a specific boot entry, the contents of the edited <code class="literal variable">kernelopts</code> are stored in the relevant kernel boot entry in <code class="literal">/boot/loader/entries/&lt;<span class="emphasis"><em>RELEVANT_KERNEL_BOOT_ENTRY.conf</em></span>&gt;</code> and will override the value of <code class="literal variable">kernelopts</code> set in <code class="literal file">/boot/grub2/grubenv</code>.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For further examples on how to use <code class="literal utility">grubby</code> see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/system_administrators_guide/sec-making_persistent_changes_to_a_grub_2_menu_using_the_grubby_tool">grubby tool</a></span></em></span>.
						</li></ul></div></section></section></section><section class="chapter" id="configuring-kernel-parameters-at-runtime_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Configuring kernel parameters at runtime</h1></div></div></div><p>
			As a system administrator, you can modify many facets of the Red Hat Enterprise Linux kernel’s behavior at runtime. This section describes how to configure kernel parameters at runtime by using the <code class="literal command">sysctl</code> command and by modifying the configuration files in the <code class="literal">/etc/sysctl.d/</code> and <code class="literal">/proc/sys/</code> directories.
		</p><section class="section" id="what-are-kernel-parameters_configuring-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h2 class="title">5.1. What are kernel parameters</h2></div></div></div><p>
				Kernel parameters are tunable values which you can adjust while the system is running. There is no requirement to reboot or recompile the kernel for changes to take effect.
			</p><p>
				It is possible to address the kernel parameters through:
			</p><p>
				+ * The <code class="literal command">sysctl</code> command * The virtual file system mounted at the <code class="literal filename">/proc/sys/</code> directory * The configuration files in the <code class="literal">/etc/sysctl.d/</code> directory
			</p><p>
				Tunables are divided into classes by the kernel subsystem. Red Hat Enterprise Linux has the following tunable classes:
			</p><div class="table" id="idm139665229497040"><p class="title"><strong>Table 5.1. Table of sysctl classes</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665229492176" scope="col">Tunable class</th><th align="left" valign="top" id="idm139665229491088" scope="col">Subsystem</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								abi
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Execution domains and personalities
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								crypto
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Cryptographic interfaces
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								debug
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Kernel debugging interfaces
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								dev
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Device-specific information
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								fs
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Global and specific file system tunables
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								kernel
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Global kernel tunables
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								net
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Network tunables
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								sunrpc
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Sun Remote Procedure Call (NFS)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								user
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								User Namespace limits
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139665229492176"> <p>
								vm
							</p>
							 </td><td align="left" valign="top" headers="idm139665229491088"> <p>
								Tuning and management of memory, buffers, and cache
							</p>
							 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about <code class="literal command">sysctl</code>, see <code class="literal">sysctl(8)</code> manual pages.
					</li><li class="listitem">
						For more information about <code class="literal">/etc/sysctl.d/</code> see, <code class="literal">sysctl.d(5)</code> manual pages.
					</li></ul></div></section><section class="section" id="setting-kernel-parameters-at-runtime_configuring-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h2 class="title">5.2. Setting kernel parameters at runtime</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Configuring kernel parameters on a production system requires careful planning. Unplanned changes may render the kernel unstable, requiring a system reboot. Verify that you are using valid options before changing any kernel values.
				</p></div></div><section class="section" id="configuring-kernel-parameters-temporarily-with-sysctl_setting-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h3 class="title">5.2.1. Configuring kernel parameters temporarily with sysctl</h3></div></div></div><p>
					The following procedure describes how to use the <code class="literal command">sysctl</code> command to temporarily set kernel parameters at runtime. The command is also useful for listing and filtering tunables.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="index.html#what-are-kernel-parameters_configuring-kernel-parameters-at-runtime" title="5.1. What are kernel parameters">Kernel parameters introduction</a>
						</li><li class="listitem">
							Root permissions
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To list all parameters and their values, use the following:
						</p><pre class="literallayout"><code class="literal command"># sysctl -a</code></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The <code class="literal command"># sysctl -a</code> command displays kernel parameters, which can be adjusted at runtime and at boot time.
							</p></div></div></li><li class="listitem"><p class="simpara">
							To configure a parameter temporarily, use the command as in the following example:
						</p><pre class="literallayout"><code class="literal command"># sysctl &lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;.&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;=&lt;<span class="emphasis"><em>TARGET_VALUE</em></span>&gt;</code></pre><p class="simpara">
							The sample command above changes the parameter value while the system is running. The changes take effect immediately, without a need for restart.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The changes return back to default after your system reboots.
							</p></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about <code class="literal command">sysctl</code>, see the <code class="literal">sysctl(8)</code> manual page.
						</li><li class="listitem">
							To permanently modify kernel parameters, either use the <a class="link" href="index.html#configuring-kernel-parameters-permanently-with-sysctl_setting-kernel-parameters-at-runtime" title="5.2.2. Configuring kernel parameters permanently with sysctl"><code class="literal command">sysctl</code> command</a> to write the values to the <code class="literal">/etc/sysctl.conf</code> file or make manual changes to the configuration files in the <a class="link" href="index.html#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_setting-kernel-parameters-at-runtime" title="5.2.3. Using configuration files in /etc/sysctl.d/ to adjust kernel parameters"><code class="literal">/etc/sysctl.d/</code> directory</a>.
						</li></ul></div></section><section class="section" id="configuring-kernel-parameters-permanently-with-sysctl_setting-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h3 class="title">5.2.2. Configuring kernel parameters permanently with sysctl</h3></div></div></div><p>
					The following procedure describes how to use the <code class="literal command">sysctl</code> command to permanently set kernel parameters.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="index.html#what-are-kernel-parameters_configuring-kernel-parameters-at-runtime" title="5.1. What are kernel parameters">Kernel parameters introduction</a>
						</li><li class="listitem">
							Root permissions
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To list all parameters, use the following:
						</p><pre class="literallayout"><code class="literal command"># sysctl -a</code></pre><p class="simpara">
							The command displays all kernel parameters that can be configured at runtime.
						</p></li><li class="listitem"><p class="simpara">
							To configure a parameter permanently:
						</p><pre class="literallayout"><code class="literal command"># sysctl -w &lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;.&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;=&lt;<span class="emphasis"><em>TARGET_VALUE</em></span>&gt; &gt;&gt; /etc/sysctl.conf</code></pre><p class="simpara">
							The sample command changes the tunable value and writes it to the <code class="literal">/etc/sysctl.conf</code> file, which overrides the default values of kernel parameters. The changes take effect immediately and persistently, without a need for restart.
						</p></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						To permanently modify kernel parameters you can also make manual changes to the configuration files in the <code class="literal">/etc/sysctl.d/</code> directory.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about <code class="literal command">sysctl</code>, see the <code class="literal">sysctl(8)</code> and <code class="literal">sysctl.conf(5)</code> manual pages.
						</li><li class="listitem">
							For more information about using the configuration files in the <code class="literal">/etc/sysctl.d/</code> directory to make permanent changes to kernel parameters, see <a class="link" href="index.html#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_setting-kernel-parameters-at-runtime" title="5.2.3. Using configuration files in /etc/sysctl.d/ to adjust kernel parameters">Using configuration files in /etc/sysctl.d/ to adjust kernel parameters</a> section.
						</li></ul></div></section><section class="section" id="using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_setting-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h3 class="title">5.2.3. Using configuration files in /etc/sysctl.d/ to adjust kernel parameters</h3></div></div></div><p>
					The following procedure describes how to manually modify configuration files in the <code class="literal">/etc/sysctl.d/</code> directory to permanently set kernel parameters.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="index.html#what-are-kernel-parameters_configuring-kernel-parameters-at-runtime" title="5.1. What are kernel parameters">Kernel parameters introduction</a>
						</li><li class="listitem">
							Root permissions
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new configuration file in <code class="literal">/etc/sysctl.d/</code>:
						</p><pre class="literallayout"><code class="literal command"># vim /etc/sysctl.d/&lt;<span class="emphasis"><em>some_file.conf</em></span>&gt;</code></pre></li><li class="listitem"><p class="simpara">
							Include kernel parameters, one per line, as follows:
						</p><pre class="literallayout"><code class="literal command">&lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;.&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;=&lt;<span class="emphasis"><em>TARGET_VALUE</em></span>&gt;</code>
<code class="literal command">&lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;.&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;=&lt;<span class="emphasis"><em>TARGET_VALUE</em></span>&gt;</code></pre></li><li class="listitem">
							Save the configuration file.
						</li><li class="listitem"><p class="simpara">
							Reboot the machine for the changes to take effect.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Alternatively, to apply changes without rebooting, execute:
								</p><pre class="literallayout"><code class="literal command"># sysctl -p /etc/sysctl.d/&lt;<span class="emphasis"><em>some_file.conf</em></span>&gt;</code></pre><p class="simpara">
									The command enables you to read values from the configuration file, which you created earlier.
								</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about <code class="literal command">sysctl</code>, see the <code class="literal">sysctl(8)</code> manual page.
						</li><li class="listitem">
							For more information about <code class="literal">/etc/sysctl.d/</code>, see the <code class="literal">sysctl.d(5)</code> manual page.
						</li></ul></div></section><section class="section" id="configuring-kernel-parameters-temporarily-through-proc-sys_setting-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h3 class="title">5.2.4. Configuring kernel parameters temporarily through /proc/sys/</h3></div></div></div><p>
					The following procedure describes how to set kernel parameters temporarily through the files in the virtual file system <code class="literal">/proc/sys/</code> directory.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="index.html#what-are-kernel-parameters_configuring-kernel-parameters-at-runtime" title="5.1. What are kernel parameters">Kernel parameters introduction</a>
						</li><li class="listitem">
							Root permissions
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Identify a kernel parameter you want to configure:
						</p><pre class="literallayout"><code class="literal command"># ls -l /proc/sys/&lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;/</code></pre><p class="simpara">
							The writable files returned by the command can be used to configure the kernel. The files with read-only permissions provide feedback on the current settings.
						</p></li><li class="listitem"><p class="simpara">
							Assign a target value to the kernel parameter:
						</p><pre class="literallayout"><code class="literal command"># echo &lt;<span class="emphasis"><em>TARGET_VALUE</em></span>&gt; &gt; /proc/sys/&lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;/&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;</code></pre><p class="simpara">
							The command makes configuration changes that will disappear once the system is restarted.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, verify the value of the newly set kernel parameter:
						</p><pre class="literallayout"><code class="literal command"># cat /proc/sys/&lt;<span class="emphasis"><em>TUNABLE_CLASS</em></span>&gt;/&lt;<span class="emphasis"><em>PARAMETER</em></span>&gt;</code></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							To permanently modify kernel parameters, either use the <a class="link" href="index.html#configuring-kernel-parameters-permanently-with-sysctl_setting-kernel-parameters-at-runtime" title="5.2.2. Configuring kernel parameters permanently with sysctl"><code class="literal command">sysctl</code> command</a> or make manual changes to the configuration files in the <a class="link" href="index.html#using-configuration-files-in-etc-sysctl-d-to-adjust-kernel-parameters_setting-kernel-parameters-at-runtime" title="5.2.3. Using configuration files in /etc/sysctl.d/ to adjust kernel parameters"><code class="literal">/etc/sysctl.d/</code> directory</a>.
						</li></ul></div></section></section><section class="section" id="keeping-kernel-panic-parameters-disabled-in-virtualized-environments_configuring-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h2 class="title">5.3. Keeping kernel panic parameters disabled in virtualized environments</h2></div></div></div><p>
				When configuring a virtualized environment in Red Hat Enterprise Linux 8 (RHEL 8), you should not enable the <code class="literal">softlockup_panic</code> and <code class="literal">nmi_watchdog</code> kernel parameters, as the virtualized environment may trigger a spurious soft lockup that should not require a system panic.
			</p><p>
				The following sections explain the reasons behind this advice by summarizing:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						What causes a soft lockup.
					</li><li class="listitem">
						Describing the kernel parameters that control a system’s behavior on a soft lockup.
					</li><li class="listitem">
						Explaining how soft lockups may be triggered in a virtualized environment.
					</li></ul></div><section class="section" id="what-is-a-soft-lockup_keeping-kernel-panic-parameters-disabled-in-virtualized-environments"><div class="titlepage"><div><div><h3 class="title">5.3.1. What is a soft lockup</h3></div></div></div><p>
					A soft lockup is a situation usually caused by a bug, when a task is executing in kernel space on a CPU without rescheduling. The task also does not allow any other task to execute on that particular CPU. As a result, a warning is displayed to a user through the system console. This problem is also referred to as the soft lockup firing.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For a technical reason behind a soft lockup, example log messages, and other details, see the following <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/articles/371803">Knowledge Article</a></span></em></span>.
						</li></ul></div></section><section class="section" id="parameters-controlling-kernel-panic_keeping-kernel-panic-parameters-disabled-in-virtualized-environments"><div class="titlepage"><div><div><h3 class="title">5.3.2. Parameters controlling kernel panic</h3></div></div></div><p>
					The following kernel parameters can be set to control a system’s behavior when a soft lockup is detected.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">softlockup_panic</span></dt><dd><p class="simpara">
								Controls whether or not the kernel will panic when a soft lockup is detected.
							</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm139665220540320" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm139665220539232" scope="col">Value</th><th style="text-align: left; vertical-align: top; " id="idm139665225212880" scope="col">Effect</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm139665220540320"> <p>
												Integer
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665220539232"> <p>
												0
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665225212880"> <p>
												kernel does not panic on soft lockup
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm139665220540320"> <p>
												Integer
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665220539232"> <p>
												1
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665225212880"> <p>
												kernel panics on soft lockup
											</p>
											 </td></tr></tbody></table></div><p class="simpara">
								By default, on RHEL8 this value is 0.
							</p><p class="simpara">
								In order to panic, the system needs to detect a hard lockup first. The detection is controlled by the <code class="literal">nmi_watchdog</code> parameter.
							</p></dd><dt><span class="term">nmi_watchdog</span></dt><dd><p class="simpara">
								Controls whether lockup detection mechanisms (<code class="literal">watchdogs</code>) are active or not. This parameter is of integer type.
							</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm139665223262528" scope="col">Value</th><th style="text-align: left; vertical-align: top; " id="idm139665223261440" scope="col">Effect</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm139665223262528"> <p>
												0
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665223261440"> <p>
												disables lockup detector
											</p>
											 </td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm139665223262528"> <p>
												1
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665223261440"> <p>
												enables lockup detector
											</p>
											 </td></tr></tbody></table></div><p class="simpara">
								The hard lockup detector monitors each CPU for its ability to respond to interrupts.
							</p></dd><dt><span class="term">watchdog_thresh</span></dt><dd><p class="simpara">
								Controls frequency of watchdog <code class="literal">hrtimer</code>, NMI events, and soft/hard lockup thresholds.
							</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm139665222120384" scope="col">Default threshold</th><th style="text-align: left; vertical-align: top; " id="idm139665222119296" scope="col">Soft lockup threshold</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm139665222120384"> <p>
												10 seconds
											</p>
											 </td><td style="text-align: left; vertical-align: top; " headers="idm139665222119296"> <p>
												2 * <code class="literal">watchdog_thresh</code>
											</p>
											 </td></tr></tbody></table></div><p class="simpara">
								Setting this parameter to zero disables lockup detection altogether.
							</p></dd></dl></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For further information about <code class="literal">nmi_watchdog</code> and <code class="literal">softlockup_panic</code>, see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://www.kernel.org/doc/Documentation/lockup-watchdogs.txt">Softlockup detector and hardlockup detector</a></span></em></span> document.
						</li><li class="listitem">
							For more details about <code class="literal">watchdog_thresh</code>, see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://www.kernel.org/doc/Documentation/sysctl/kernel.txt">Kernel sysctl</a></span></em></span> document.
						</li></ul></div></section><section class="section" id="spurious-soft-lockups-in-virtualized-environments_keeping-kernel-panic-parameters-disabled-in-virtualized-environments"><div class="titlepage"><div><div><h3 class="title">5.3.3. Spurious soft lockups in virtualized environments</h3></div></div></div><p>
					The soft lockup firing on physical hosts, as described in <a class="xref" href="index.html#what-is-a-soft-lockup_keeping-kernel-panic-parameters-disabled-in-virtualized-environments" title="5.3.1. What is a soft lockup">Section 5.3.1, “What is a soft lockup”</a>, usually represents a kernel or hardware bug. The same phenomenon happening on guest operating systems in virtualized environments may represent a false warning.
				</p><p>
					Heavy work-load on a host or high contention over some specific resource such as memory, usually causes a spurious soft lockup firing. This is because the host may schedule out the guest CPU for a period longer than 20 seconds. Then when the guest CPU is again scheduled to run on the host, it experiences a <span class="emphasis"><em>time jump</em></span> which triggers due timers. The timers include also watchdog <code class="literal">hrtimer</code>, which can consequently report a soft lockup on the guest CPU.
				</p><p>
					Because a soft lockup in a virtualized environment may be spurious, you should not enable the kernel parameters that would cause a system panic when a soft lockup is reported on a guest CPU.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						To understand soft lockups in guests, it is essential to know that the host schedules the guest as a task, and the guest then schedules its own tasks.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For soft lockup definition and technicalities behind its functioning, see <a class="xref" href="index.html#what-is-a-soft-lockup_keeping-kernel-panic-parameters-disabled-in-virtualized-environments" title="5.3.1. What is a soft lockup">Section 5.3.1, “What is a soft lockup”</a>.
						</li><li class="listitem">
							To learn about components of RHEL 8 virtualized environments and their interaction, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_virtualization/index#rhel-8-virtual-machine-components-and-their-interaction_virt-overview">RHEL 8 virtual machine components and their interaction</a></span></em></span>.
						</li></ul></div></section></section><section class="section" id="adjusting-kernel-parameters-for-database-servers_configuring-kernel-parameters-at-runtime"><div class="titlepage"><div><div><h2 class="title">5.4. Adjusting kernel parameters for database servers</h2></div></div></div><p>
				There are different sets of kernel parameters which can affect performance of specific database applications. The following sections explain what kernel parameters to configure to secure efficient operation of database servers and databases.
			</p><section class="section" id="introduction-to-databases_adjusting-kernel-parameters-for-database-servers"><div class="titlepage"><div><div><h3 class="title">5.4.1. Introduction to database servers</h3></div></div></div><p>
					A database server is a hardware device which has a certain amount of main memory, and a database (DB) application installed. This DB application provides services as a means of writing the cached data from the main memory, which is usually small and expensive, to DB files (database). These services are provided to multiple clients on a network. There can be as many DB servers as a machine’s main memory and storage allows.
				</p><p>
					Red Hat Enterprise Linux 8 provides the following database applications:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							MariaDB 10.3
						</li><li class="listitem">
							MySQL 8.0
						</li><li class="listitem">
							PostgreSQL 10
						</li><li class="listitem">
							PostgreSQL 9.6
						</li></ul></div></section><section class="section" id="parameters-affecting-performance-of-database-applications_adjusting-kernel-parameters-for-database-servers"><div class="titlepage"><div><div><h3 class="title">5.4.2. Parameters affecting performance of database applications</h3></div></div></div><p>
					The following kernel parameters affect performance of database applications.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">fs.aio-max-nr</span></dt><dd><p class="simpara">
								Defines the maximum number of asynchronous I/O operations the system can handle on the server.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Raising the <code class="literal">fs.aio-max-nr</code> parameter produces no additional changes beyond increasing the aio limit.
								</p></div></div></dd><dt><span class="term">fs.file-max</span></dt><dd><p class="simpara">
								Defines the maximum number of file handles (temporary file names or IDs assigned to open files) the system supports at any instance.
							</p><p class="simpara">
								The kernel dynamically allocates file handles whenever a file handle is requested by an application. The kernel however does not free these file handles when they are released by the application. The kernel recycles these file handles instead. This means that over time the total number of allocated file handles will increase even though the number of currently used file handles may be low.
							</p></dd><dt><span class="term">kernel.shmall</span></dt><dd>
								Defines the total number of shared memory pages that can be used system-wide. To use the entire main memory, the value of the <code class="literal">kernel.shmall</code> parameter should be ≤ total main memory size.
							</dd><dt><span class="term">kernel.shmmax</span></dt><dd>
								Defines the maximum size in bytes of a single shared memory segment that a Linux process can allocate in its virtual address space.
							</dd><dt><span class="term">kernel.shmmni</span></dt><dd>
								Defines the maximum number of shared memory segments the database server is able to handle.
							</dd><dt><span class="term">net.ipv4.ip_local_port_range</span></dt><dd>
								Defines the port range the system can use for programs which want to connect to a database server without a specific port number.
							</dd><dt><span class="term">net.core.rmem_default</span></dt><dd>
								Defines the default receive socket memory through Transmission Control Protocol (TCP).
							</dd><dt><span class="term">net.core.rmem_max</span></dt><dd>
								Defines the maximum receive socket memory through Transmission Control Protocol (TCP).
							</dd><dt><span class="term">net.core.wmem_default</span></dt><dd>
								Defines the default send socket memory through Transmission Control Protocol (TCP).
							</dd><dt><span class="term">net.core.wmem_max</span></dt><dd>
								Defines the maximum send socket memory through Transmission Control Protocol (TCP).
							</dd><dt><span class="term">vm.dirty_bytes / vm.dirty_ratio</span></dt><dd>
								Defines a threshold in bytes / in percentage of dirty-able memory at which a process generating dirty data is started in the <code class="literal">write()</code> function.
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<span class="strong strong"><strong>Either</strong></span> <code class="literal">vm.dirty_bytes</code> <span class="strong strong"><strong>or</strong></span> <code class="literal">vm.dirty_ratio</code> can be specified at a time.
					</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">vm.dirty_background_bytes / vm.dirty_background_ratio</span></dt><dd>
								Defines a threshold in bytes / in percentage of dirty-able memory at which the kernel tries to actively write dirty data to hard-disk.
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<span class="strong strong"><strong>Either</strong></span> <code class="literal">vm.dirty_background_bytes</code> <span class="strong strong"><strong>or</strong></span> <code class="literal">vm.dirty_background_ratio</code> can be specified at a time.
					</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">vm.dirty_writeback_centisecs</span></dt><dd><p class="simpara">
								Defines a time interval between periodic wake-ups of the kernel threads responsible for writing dirty data to hard-disk.
							</p><p class="simpara">
								This kernel parameters measures in 100th’s of a second.
							</p></dd><dt><span class="term">vm.dirty_expire_centisecs</span></dt><dd><p class="simpara">
								Defines the time after which dirty data is old enough to be written to hard-disk.
							</p><p class="simpara">
								This kernel parameters measures in 100th’s of a second.
							</p></dd></dl></div><h5 id="additional_resources">Additional resources</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For explanation of dirty data writebacks, how they work, and what kernel parameters relate to them, see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/articles/45002#control-parameters-4">Dirty pagecache writeback and vm.dirty parameters</a></span></em></span> document.
						</li></ul></div></section></section></section><section class="chapter" id="getting-started-with-kernel-logging_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Getting started with kernel logging</h1></div></div></div><p>
			Log files are files that contain messages about the system, including the kernel, services, and applications running on it. The logging system in Red Hat Enterprise Linux is based on the built-in <span class="strong strong"><strong>syslog</strong></span> protocol. Various utilities use this system to record events and organize them into log files. These files are useful when auditing the operating system or troubleshooting problems.
		</p><section class="section" id="what-is-the-kernel-ring-buffer_getting-started-with-kernel-logging"><div class="titlepage"><div><div><h2 class="title">6.1. What is the kernel ring buffer</h2></div></div></div><p>
				During the boot process, the console provides a lot of important information about the initial phase of the system startup. To avoid loss of the early messages the kernel utilizes what is called a ring buffer. This buffer stores all messages, including boot messages, generated by the <code class="literal">printk()</code> function within the kernel code. The messages from the kernel ring buffer are then read and stored in log files on permanent storage, for example, by the <code class="literal">syslog</code> service.
			</p><p>
				The buffer mentioned above is a cyclic data structure which has a fixed size, and is hard-coded into the kernel. Users can display data stored in the kernel ring buffer through the <code class="literal">dmesg</code> command or the <code class="literal">/var/log/boot.log</code> file. When the ring buffer is full, the new data overwrites the old.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about <code class="literal">syslog</code>, see the <code class="literal">syslog(2)</code> manual page.
					</li><li class="listitem">
						For more details on how to examine or control boot log messages with <code class="literal">dmesg</code>, see the <code class="literal">dmesg(1)</code> manual page.
					</li></ul></div></section><section class="section" id="role-of-printk-on-log-levels-and-kernel-logging_getting-started-with-kernel-logging"><div class="titlepage"><div><div><h2 class="title">6.2. Role of printk on log-levels and kernel logging</h2></div></div></div><p>
				Each message the kernel reports has a log-level associated with it that defines the importance of the message. The kernel ring buffer, as described in <a class="xref" href="index.html#what-is-the-kernel-ring-buffer_getting-started-with-kernel-logging" title="6.1. What is the kernel ring buffer">Section 6.1, “What is the kernel ring buffer”</a>, collects kernel messages of all log-levels. It is the <code class="literal">kernel.printk</code> parameter that defines what messages from the buffer are printed to the console.
			</p><p>
				The log-level values break down in this order:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						0 — Kernel emergency. The system is unusable.
					</li><li class="listitem">
						1 — Kernel alert. Action must be taken immediately.
					</li><li class="listitem">
						2 — Condition of the kernel is considered critical.
					</li><li class="listitem">
						3 — General kernel error condition.
					</li><li class="listitem">
						4 — General kernel warning condition.
					</li><li class="listitem">
						5 — Kernel notice of a normal but significant condition.
					</li><li class="listitem">
						6 — Kernel informational message.
					</li><li class="listitem">
						7 — Kernel debug-level messages.
					</li></ul></div><p>
				By default, <code class="literal">kernel.printk</code> in RHEL 8 contains the following four values:
			</p><pre class="literallayout"># sysctl kernel.printk
kernel.printk = 7	4	1	7</pre><p>
				The four values define the following:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						value. Console log-level, defines the lowest priority of messages printed to the console.
					</li><li class="listitem">
						value. Default log-level for messages without an explicit log-level attached to them.
					</li><li class="listitem">
						value. Sets the lowest possible log-level configuration for the console log-level.
					</li><li class="listitem"><p class="simpara">
						value. Sets default value for the console log-level at boot time.
					</p><p class="simpara">
						Each of these values above defines a different rule for handling error messages.
					</p></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Certain kernel command line parameters, such as <code class="literal">quiet</code> or <code class="literal">debug</code>, change the default <code class="literal">kernel.printk</code> values.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on <code class="literal">kernel.printk</code> and log-levels, see the <code class="literal">syslog(2)</code> manual page.
					</li></ul></div></section></section><section class="chapter" id="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Installing and configuring kdump</h1></div></div></div><section class="section" id="what-is-kdump_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.1. What is kdump</h2></div></div></div><p>
				<code class="literal service">kdump</code> is a service providing a crash dumping mechanism. The service enables you to save the contents of the system’s memory for later analysis. <code class="literal service">kdump</code> uses the <code class="literal">kexec</code> system call to boot into the second kernel (a <span class="emphasis"><em>capture kernel</em></span>) without rebooting; and then captures the contents of the crashed kernel’s memory (a <span class="emphasis"><em>crash dump</em></span> or a <span class="emphasis"><em>vmcore</em></span>) and saves it. The second kernel resides in a reserved part of the system memory.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					A kernel crash dump can be the only information available in the event of a system failure (a critical bug). Therefore, ensuring that <code class="literal">kdump</code> is operational is important in mission-critical environments. Red Hat advise that system administrators regularly update and test <code class="literal package">kexec-tools</code> in your normal kernel update cycle. This is especially important when new kernel features are implemented.
				</p></div></div></section><section class="section" id="installing-kdump_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.2. Installing kdump</h2></div></div></div><p>
				In many cases, the <code class="literal">kdump</code> service is installed and activated by default on the new Red Hat Enterprise Linux installations. The <span class="strong strong"><strong><span class="application application">Anaconda</span></strong></span> installer provides a screen for <code class="literal">kdump</code> configuration when performing an interactive installation using the graphical or text interface. The installer screen is titled <code class="literal">Kdump</code> and is available from the main <code class="literal">Installation Summary</code> screen, and only allows limited configuration - you can only select whether <code class="literal">kdump</code> is enabled and how much memory is reserved.
			</p><div class="informalfigure"><div class="mediaobject"><img src="anaconda-summary-hub-states.png" alt="Enable kdump during RHEL installation"/></div></div><p>
				Some installation options, such as custom Kickstart installations, in some cases do not install or enable <code class="literal">kdump</code> by default. If this is the case on your system, follow the procedure below to install <code class="literal">kdump</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An active Red Hat Enterprise Linux subscription
					</li><li class="listitem">
						A repository containing the <span class="strong strong"><strong><span class="package package">kexec-tools</span></strong></span> package for your system CPU architecture
					</li><li class="listitem">
						Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the following command to check whether <code class="literal">kdump</code> is installed on your system:
					</p><pre class="screen"><code class="literal">$</code> <code class="literal command">rpm -q kexec-tools</code></pre><p class="simpara">
						Output if the package is installed:
					</p><pre class="screen"><code class="literal command">kexec-tools-2.0.17-11.el8.x86_64</code></pre><p class="simpara">
						Output if the package is not installed:
					</p><pre class="screen"><code class="literal command">package kexec-tools is not installed</code></pre></li><li class="listitem"><p class="simpara">
						Install <code class="literal">kdump</code> and other necessary packages by:
					</p><pre class="screen"><code class="literal">#</code> yum install kexec-tools</pre></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Starting with Red Hat Enterprise Linux 7.4 (kernel-3.10.0-693.el7) the <code class="literal">Intel IOMMU</code> driver is supported with <code class="literal">kdump</code>. For prior versions, Red Hat Enterprise Linux 7.3 (kernel-3.10.0-514[.XYZ].el7) and earlier, it is advised that <code class="literal">Intel IOMMU</code> support is disabled, otherwise kdump kernel is likely to become unresponsive.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Information about memory requirements for <code class="literal">kdump</code> is available in <a class="xref" href="index.html#memory-requirements-for-kdump_supported-kdump-configurations-and-targets" title="7.5.1. Memory requirements for kdump">Section 7.5.1, “Memory requirements for kdump”</a>.
					</li></ul></div></section><section class="section" id="configuring-kdump-on-the-command-line_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.3. Configuring kdump on the command line</h2></div></div></div><section class="section" id="configuring-kdump-memory-usage_configuring-kdump-on-the-command-line"><div class="titlepage"><div><div><h3 class="title">7.3.1. Configuring kdump memory usage</h3></div></div></div><p>
					The memory reserved for the <code class="literal">kdump</code> feature is always reserved during the system boot. The amount of memory is specified in the system’s Grand Unified Bootloader (GRUB) 2 configuration. The procedure below describes how to configure the memory reserved for <code class="literal">kdump</code> through the command line.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Edit the <code class="literal">/etc/default/grub</code> file using the root permissions.
						</li><li class="listitem"><p class="simpara">
							Set the <code class="literal option">crashkernel=</code> option to the required value.
						</p><p class="simpara">
							For example, to reserve 128 MB of memory, use the following:
						</p><pre class="screen">crashkernel=128M</pre><p class="simpara">
							Alternatively, you can set the amount of reserved memory to a variable depending on the total amount of installed memory. The syntax for memory reservation into a variable is <code class="literal option">crashkernel=<span class="emphasis"><em>&lt;range1&gt;</em></span>:<span class="emphasis"><em>&lt;size1&gt;</em></span>,<span class="emphasis"><em>&lt;range2&gt;</em></span>:<span class="emphasis"><em>&lt;size2&gt;</em></span></code>. For example:
						</p><pre class="screen">crashkernel=512M-2G:64M,2G-:128M</pre><p class="simpara">
							The above example reserves 64 MB of memory if the total amount of system memory is 512 MB or higher and lower than 2 GB. If the total amount of memory is more than 2 GB, 128 MB is reserved for <code class="literal">kdump</code> instead.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Offset the reserved memory.
								</p><p class="simpara">
									Some systems require to reserve memory with a certain fixed offset since crashkernel reservation is very early, and it wants to reserve some area for special usage. If the offset is set, the reserved memory begins there. To offset the reserved memory, use the following syntax:
								</p><pre class="screen">crashkernel=128M@16M</pre><p class="simpara">
									The example above means that <code class="literal">kdump</code> reserves 128 MB of memory starting at 16 MB (physical address 0x01000000). If the offset parameter is set to 0 or omitted entirely, <code class="literal">kdump</code> offsets the reserved memory automatically. This syntax can also be used when setting a variable memory reservation as described above; in this case, the offset is always specified last (for example, <code class="literal option">crashkernel=512M-2G:64M,2G-:128M@16M</code>).
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Use the following command to update the GRUB2 configuration file:
						</p><pre class="screen"># grub2-mkconfig -o /boot/grub2/grub.cfg</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The alternative way to configure memory for <code class="literal">kdump</code> is to append the <code class="literal">crashkernel=&lt;<span class="emphasis"><em>SOME_VALUE</em></span>&gt;</code> parameter to the <code class="literal">kernelopts</code> variable with the <code class="literal">grub2-editenv</code> which will update all of your boot entries. Or you can use the <code class="literal">grubby</code> utility to update kernel command line parameters of just one entry.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal option">crashkernel=</code> option can be defined in multiple ways. The <code class="literal">auto</code> value enables automatic configuration of reserved memory based on the total amount of memory in the system, following the guidelines described in <a class="xref" href="index.html#memory-requirements-for-kdump_supported-kdump-configurations-and-targets" title="7.5.1. Memory requirements for kdump">Section 7.5.1, “Memory requirements for kdump”</a>.
						</li><li class="listitem">
							For more information on boot entries, <code class="literal">kernelopts</code>, and how to work with <code class="literal">grub2-editenv</code> and <code class="literal">grubby</code> see <a class="xref" href="index.html#configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel" title="Chapter 4. Configuring kernel command line parameters">Chapter 4, <em>Configuring kernel command line parameters</em></a>.
						</li></ul></div></section><section class="section" id="configuring-the-kdump-target_configuring-kdump-on-the-command-line"><div class="titlepage"><div><div><h3 class="title">7.3.2. Configuring the kdump target</h3></div></div></div><p>
					When a kernel crash is captured, the core dump can be either stored as a file in a local file system, written directly to a device, or sent over a network using the <code class="literal">NFS</code> (Network File System) or <code class="literal">SSH</code> (Secure Shell) protocol. Only one of these options can be set at a time, and the default behavior is to store the vmcore file in the <code class="literal">/var/crash/</code> directory of the local file system.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To change the local directory in which the core dump is to be saved, as <code class="literal">root</code>, edit the <code class="literal">/etc/kdump.conf</code> configuration file as described below.
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Remove the hash sign ("#") from the beginning of the <code class="literal">#path /var/crash</code> line.
						</li><li class="listitem"><p class="simpara">
							Replace the value with the intended directory path. For example:
						</p><pre class="screen">path /usr/local/cores</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								In Red Hat Enterprise Linux 8, the directory defined as the kdump target using the <code class="literal">path</code> directive must exist when the <code class="literal">kdump</code> systemd service is started - otherwise the service fails. This behavior is different from earlier releases of Red Hat Enterprise Linux, where the directory was being created automatically if it did not exist when starting the service.
							</p></div></div></li></ol></div><p>
					To write the file to a different partition, as <code class="literal">root</code>, edit the <code class="literal">/etc/kdump.conf</code> configuration file as described below.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Remove the hash sign ("#") from the beginning of the <code class="literal">#ext4</code> line, depending on your choice.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									device name (the <code class="literal">#ext4 /dev/vg/lv_kdump</code> line)
								</li><li class="listitem">
									file system label (the <code class="literal">#ext4 LABEL=/boot</code> line)
								</li><li class="listitem">
									UUID (the <code class="literal">#ext4 UUID=03138356-5e61-4ab3-b58e-27507ac41937</code> line)
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Change the file system type as well as the device name, label or UUID to the desired values. For example:
						</p><pre class="screen">ext4 UUID=03138356-5e61-4ab3-b58e-27507ac41937</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								It is recommended to specify storage devices using a <code class="literal">LABEL=</code> or <code class="literal">UUID=</code>. Disk device names such as <code class="literal">/dev/sda3</code> are not guaranteed to be consistent across reboot.
							</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								When dumping to Direct Access Storage Device (DASD) on IBM Z hardware, it is essential that the dump devices are correctly specified in <code class="literal">/etc/dasd.conf</code> before proceeding.
							</p></div></div></li></ol></div><p>
					To write the dump directly to a device:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Remove the hash sign ("#") from the beginning of the <code class="literal">#raw /dev/vg/lv_kdump</code> line.
						</li><li class="listitem"><p class="simpara">
							Replace the value with the intended device name. For example:
						</p><pre class="screen">raw /dev/sdb1</pre></li></ol></div><p>
					To store the dump to a remote machine using the <code class="literal">NFS</code> protocol:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Remove the hash sign ("#") from the beginning of the <code class="literal">#nfs my.server.com:/export/tmp</code> line.
						</li><li class="listitem"><p class="simpara">
							Replace the value with a valid hostname and directory path. For example:
						</p><pre class="screen">nfs penguin.example.com:/export/cores</pre></li></ol></div><p>
					To store the dump to a remote machine using the <code class="literal">SSH</code> protocol:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Remove the hash sign ("#") from the beginning of the <code class="literal">#ssh <a class="link" href="mailto:user@my.server.com">user@my.server.com</a></code> line.
						</li><li class="listitem">
							Replace the value with a valid username and hostname.
						</li><li class="listitem"><p class="simpara">
							Include your <code class="literal">SSH</code> key in the configuration.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Remove the hash sign from the beginning of the <code class="literal">#sshkey /root/.ssh/kdump_id_rsa</code> line.
								</li><li class="listitem"><p class="simpara">
									Change the value to the location of a key valid on the server you are trying to dump to. For example:
								</p><pre class="screen">ssh john@penguin.example.com
sshkey /root/.ssh/mykey</pre></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For a complete list of currently supported and unsupported targets sorted by type, see <a class="xref" href="index.html#supported-kdump-targets_supported-kdump-configurations-and-targets" title="7.5.3. Supported kdump targets">Section 7.5.3, “Supported kdump targets”</a>.
						</li><li class="listitem">
							For information on how to configure an SSH server and set up a key-based authentication, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-SSH">Configuring basic system settings</a></span></em></span> in Red Hat Enterprise Linux.
						</li></ul></div></section><section class="section" id="configuring-the-core-collector_configuring-kdump-on-the-command-line"><div class="titlepage"><div><div><h3 class="title">7.3.3. Configuring the core collector</h3></div></div></div><p>
					<code class="literal">kdump</code> uses a program specified as <code class="literal utility">core collector</code> to capture the vmcore. Currently, the only fully supported <code class="literal utility">core collector</code> is the <code class="literal utility">makedumpfile</code> utility. It has several configurable options, which affect the collection process. For example the extent of collected data, or whether the resulting vmcore should be compressed.
				</p><p>
					To enable and configure the <code class="literal utility">core collector</code>, follow the procedure below.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							As <code class="literal">root</code>, edit the <code class="literal">/etc/kdump.conf</code> configuration file and remove the hash sign ("#") from the beginning of the <code class="literal">#core_collector makedumpfile -l --message-level 1 -d 31</code>.
						</li><li class="listitem"><p class="simpara">
							Add the <code class="literal option">-c</code> parameter. For example:
						</p><pre class="screen">core_collector makedumpfile -c</pre><p class="simpara">
							The command above enables the dump file compression.
						</p></li><li class="listitem"><p class="simpara">
							Add the <code class="literal option">-d <span class="emphasis"><em>value</em></span></code> parameter. For example:
						</p><pre class="screen">core_collector makedumpfile -d 17 -c</pre><p class="simpara">
							The command above removes both zero and free pages from the dump. The <span class="emphasis"><em>value</em></span> represents a bitmask, where each bit is associated with a certain type of memory pages and determines whether that type of pages will be collected. For description of respective bits see <a class="xref" href="index.html#supported-kdump-filtering-levels_supported-kdump-configurations-and-targets" title="7.5.4. Supported kdump filtering levels">Section 7.5.4, “Supported kdump filtering levels”</a>.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							See the <code class="literal">makedumpfile(8)</code> man page for a complete list of available options.
						</li></ul></div></section><section class="section" id="configuring-the-kdump-default-failure-responses_configuring-kdump-on-the-command-line"><div class="titlepage"><div><div><h3 class="title">7.3.4. Configuring the kdump default failure responses</h3></div></div></div><p>
					By default, when <code class="literal">kdump</code> fails to create a vmcore dump file at the target location specified in <a class="xref" href="index.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="7.3.2. Configuring the kdump target">Section 7.3.2, “Configuring the kdump target”</a>, the system reboots, and the dump is lost in the process. To change this behavior, follow the procedure below.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							As <code class="literal">root</code>, remove the hash sign ("#") from the beginning of the <code class="literal">#default shell</code> line in the <code class="literal">/etc/kdump.conf</code> configuration file.
						</li><li class="listitem"><p class="simpara">
							Replace the value with a desired action as described in <a class="xref" href="index.html#supported-default-failure-responses_supported-kdump-configurations-and-targets" title="7.5.5. Supported default failure responses">Section 7.5.5, “Supported default failure responses”</a>. For example:
						</p><pre class="screen">default poweroff</pre></li></ol></div></section><section class="section" id="enabling-and-disabling-the-kdump-service_configuring-kdump-on-the-command-line"><div class="titlepage"><div><div><h3 class="title">7.3.5. Enabling and disabling the kdump service</h3></div></div></div><p>
					To start the <code class="literal">kdump</code> service at boot time, follow the procedure below.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Fulfilled <code class="literal">kdump</code> <a class="link" href="index.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="7.5. Supported kdump configurations and targets">requirements</a>.
						</li><li class="listitem">
							All <a class="link" href="index.html#configuring-kdump-on-the-command-line_installing-and-configuring-kdump" title="7.3. Configuring kdump on the command line">configuration</a> is set up according to your needs.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To enable the <code class="literal">kdump</code> service, use the following command:
						</p><pre class="screen"><code class="literal command"># systemctl</code> <code class="literal option">enable</code> <code class="literal option">kdump.service</code></pre><p class="simpara">
							This enables the service for <code class="literal">multi-user.target</code>.
						</p></li><li class="listitem"><p class="simpara">
							To start the service in the current session, use the following command:
						</p><pre class="screen"><code class="literal command"># systemctl</code> <code class="literal option">start</code> <code class="literal option">kdump.service</code></pre></li><li class="listitem"><p class="simpara">
							To stop the <code class="literal">kdump</code> service, type the following command:
						</p><pre class="screen"><code class="literal command"># systemctl</code> <code class="literal option">stop</code> <code class="literal option">kdump.service</code></pre></li><li class="listitem"><p class="simpara">
							To disable the <code class="literal">kdump</code> service, execute the following command:
						</p><pre class="screen"><code class="literal command"># systemctl</code> <code class="literal option">disable</code> <code class="literal option">kdump.service</code></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information on <code class="literal">systemd</code> and configuring services in general, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#managing-services-with-systemd">Configuring basic system settings</a></span></em></span> in Red Hat Enterprise Linux.
						</li></ul></div></section></section><section class="section" id="configuring-kdump-in-the-web-console_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.4. Configuring kdump in the web console</h2></div></div></div><p>
				The following sections provide an overview of how to setup and test the <code class="literal">kdump</code> configuration through the Red Hat Enterprise Linux web console. The web console is part of a default installation of Red Hat Enterprise Linux 8 and enables or disables the <code class="literal">kdump</code> service at boot time. Further, the web console conveniently enables you to configure the reserved memory for <code class="literal">kdump</code>; or to select the <span class="emphasis"><em>vmcore</em></span> saving location in an uncompressed or compressed format.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						See <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/index#getting-started-with-the-rhel-8-web-console_system-management-using-the-web-console">Red Hat Enterprise Linux web console</a></span></em></span> for further details.
					</li></ul></div><section class="section" id="configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console"><div class="titlepage"><div><div><h3 class="title">7.4.1. Configuring kdump memory usage and target location in web console</h3></div></div></div><p>
					The procedure below shows you how to use the <code class="literal">Kernel Dump</code> tab in the Red Hat Enterprise Linux web console interface to configure the amount of memory that is reserved for the kdump kernel. The procedure also describes how to specify the target location of the vmcore dump file and how to test your configuration.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Introduction to operating the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/">web console</a></span></em></span>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Open the <code class="literal button">Kernel Dump</code> tab and start the <code class="literal command">kdump</code> service.
						</li><li class="listitem">
							Configure the <code class="literal">kdump</code> memory usage through the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="index.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line">command line</a></span></em></span>.
						</li><li class="listitem"><p class="simpara">
							Click the link next to the <code class="literal option">Crash dump location</code> option.
						</p><div class="informalfigure"><div class="mediaobject"><img src="web_console_initial_screen.png" alt="web console initial screen"/></div></div></li><li class="listitem"><p class="simpara">
							Select the <code class="literal option">Local Filesystem</code> option from the drop-down and specify the directory you want to save the dump in.
						</p><div class="informalfigure"><div class="mediaobject"><img src="web_console_crashdump_target.png" alt="web console crashdump target"/></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Alternatively, select the <code class="literal option">Remote over SSH</code> option from the drop-down to send the vmcore to a remote machine using the SSH protocol.
								</p><p class="simpara">
									Fill the <code class="literal">Server</code>, <code class="literal">ssh key</code>, and <code class="literal">Directory</code> fields with the remote machine address, ssh key location, and a target directory.
								</p></li><li class="listitem"><p class="simpara">
									Another choice is to select the <code class="literal option">Remote over NFS</code> option from the drop-down and fill the <code class="literal">Mount</code> field to send the vmcore to a remote machine using the NFS protocol.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Tick the <code class="literal">Compression</code> check box to reduce the size of the vmcore file.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Test your configuration by crashing the kernel.
						</p><div class="informalfigure"><div class="mediaobject"><img src="web_console_test_kdump_config.png" alt="web console test kdump config"/></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								This step disrupts execution of the kernel and results in a system crash and loss of data.
							</p></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For a complete list of currently supported targets for <code class="literal">kdump</code>, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="index.html#supported-kdump-targets_supported-kdump-configurations-and-targets">Supported kdump targets</a></span></em></span>.
						</li><li class="listitem">
							For information on how to configure an SSH server and set up a key-based authentication, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-SSH">Configuring basic system settings</a></span></em></span> in Red Hat Enterprise Linux.
						</li></ul></div></section></section><section class="section" id="supported-kdump-configurations-and-targets_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.5. Supported kdump configurations and targets</h2></div></div></div><section class="section" id="memory-requirements-for-kdump_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.1. Memory requirements for kdump</h3></div></div></div><p>
					In order for <code class="literal">kdump</code> to be able to capture a kernel crash dump and save it for further analysis, a part of the system memory has to be permanently reserved for the capture kernel. When reserved, this part of the system memory is not available to the main kernel.
				</p><p>
					The memory requirements vary based on certain system parameters. One of the major factors is the system’s hardware architecture. To find out the exact machine architecture (such as Intel 64 and AMD64, also known as x86_64) and print it to standard output, use the following command:
				</p><pre class="screen"><code class="literal command">$ uname -m</code></pre><p>
					The table below contains a list of minimum memory requirements to automatically reserve a memory size for <code class="literal">kdump</code>. The size changes according to the system’s architecture and total available physical memory.
				</p><div class="table" id="idm139665222400352"><p class="title"><strong>Table 7.1. Minimum Amount of Reserved Memory Required for kdump</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665222394560" scope="col">Architecture</th><th align="left" valign="top" id="idm139665222393472" scope="col">Available Memory</th><th align="left" valign="top" id="idm139665222392384" scope="col">Minimum Reserved Memory</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665222394560"> <p>
									AMD64 and Intel 64 (<code class="literal">x86_64</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									1 GB to 64 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									160 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									64 GB to 1 TB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									256 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									1 TB and more
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									512 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> <p>
									64-bit ARM architecture (<code class="literal">arm64</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									2 GB and more
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									512 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> <p>
									IBM Power Systems (<code class="literal">ppc64le</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									2 GB to 4 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									384 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									4 GB to 16 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									512 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									16 GB to 64 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									1 GB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									64 GB to 128 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									2 GB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									128 GB and more
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									4 GB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> <p>
									IBM Z (<code class="literal">s390x</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									4 GB to 64 GB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									160 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									64 GB to 1 TB
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									256 MB of RAM.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222394560"> </td><td align="left" valign="top" headers="idm139665222393472"> <p>
									1 TB and more
								</p>
								 </td><td align="left" valign="top" headers="idm139665222392384"> <p>
									512 MB of RAM.
								</p>
								 </td></tr></tbody></table></div></div><p>
					On many systems, <code class="literal">kdump</code> is able to estimate the amount of required memory and reserve it automatically. This behavior is enabled by default, but only works on systems that have more than a <a class="link" href="index.html#minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets" title="7.5.2. Minimum threshold for automatic memory reservation">certain amount of total available memory</a>, which varies based on the system architecture.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						The automatic configuration of reserved memory based on the total amount of memory in the system is a best effort estimation. The actual required memory may vary due to other factors such as I/O devices. Using not enough of memory might cause that a debug kernel is not able to boot as a capture kernel in case of a kernel panic. To avoid this problem, sufficiently increase the crash kernel memory.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For information on how to change memory settings on the command line, see <a class="xref" href="index.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="7.3.1. Configuring kdump memory usage">Section 7.3.1, “Configuring kdump memory usage”</a>.
						</li><li class="listitem">
							For instructions on how to set up the amount of reserved memory through the web console, see <a class="xref" href="index.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="7.4.1. Configuring kdump memory usage and target location in web console">Section 7.4.1, “Configuring kdump memory usage and target location in web console”</a>.
						</li><li class="listitem">
							For more information about various Red Hat Enterprise Linux technology capabilities and limits, see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/articles/rhel-limits">technology capabilities and limits tables</a></span></em></span>.
						</li></ul></div></section><section class="section" id="minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.2. Minimum threshold for automatic memory reservation</h3></div></div></div><p>
					On some systems, it is possible to allocate memory for <code class="literal">kdump</code> automatically, either by using the <code class="literal option">crashkernel=auto</code> parameter in the boot loader configuration file, or by enabling this option in the graphical configuration utility. For this automatic reservation to work, however, a certain amount of total memory needs to be available in the system. The amount differs based on the system’s architecture.
				</p><p>
					The table below lists the thresholds for automatic memory allocation. If the system has less memory than specified in the table, the memory needs to be <a class="link" href="index.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="7.3.1. Configuring kdump memory usage">reserved manually</a>.
				</p><div class="table" id="idm139665222147856"><p class="title"><strong>Table 7.2. Minimum Amount of Memory Required for Automatic Memory Reservation</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665222142976" scope="col">Architecture</th><th align="left" valign="top" id="idm139665222141888" scope="col">Required Memory</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665222142976"> <p>
									AMD64 and Intel 64 (<code class="literal">x86_64</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222141888"> <p>
									2 GB
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222142976"> <p>
									IBM Power Systems (<code class="literal">ppc64le</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222141888"> <p>
									2 GB
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222142976"> <p>
									IBM  Z (<code class="literal">s390x</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm139665222141888"> <p>
									4 GB
								</p>
								 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For information on how to manually change these settings on the command line, see <a class="xref" href="index.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="7.3.1. Configuring kdump memory usage">Section 7.3.1, “Configuring kdump memory usage”</a>.
						</li><li class="listitem">
							For instructions on how to manually change the amount of reserved memory through the web console, see <a class="xref" href="index.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="7.4.1. Configuring kdump memory usage and target location in web console">Section 7.4.1, “Configuring kdump memory usage and target location in web console”</a>.
						</li></ul></div></section><section class="section" id="supported-kdump-targets_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.3. Supported kdump targets</h3></div></div></div><p>
					When a kernel crash is captured, the vmcore dump file can be either written directly to a device, stored as a file on a local file system, or sent over a network. The table below contains a complete list of dump targets that are currently supported or explicitly unsupported by <code class="literal">kdump</code>.
				</p><div class="table" id="idm139665222160880"><p class="title"><strong>Table 7.3. Supported kdump Targets</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 33%; " class="col_2"><!--Empty--></col><col style="width: 33%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665225440160" scope="col">Type</th><th align="left" valign="top" id="idm139665225439072" scope="col">Supported Targets</th><th align="left" valign="top" id="idm139665225437984" scope="col">Unsupported Targets</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665225440160"> <p>
									Raw device
								</p>
								 </td><td align="left" valign="top" headers="idm139665225439072"> <p>
									All locally attached raw disks and partitions.
								</p>
								 </td><td align="left" valign="top" headers="idm139665225437984"> </td></tr><tr><td align="left" valign="top" headers="idm139665225440160"> <p>
									Local file system
								</p>
								 </td><td align="left" valign="top" headers="idm139665225439072"> <p>
									<code class="literal">ext2</code>, <code class="literal">ext3</code>, <code class="literal">ext4</code>, and <code class="literal">xfs</code> file systems on directly attached disk drives, hardware RAID logical drives, LVM devices, and <code class="literal">mdraid</code> arrays.
								</p>
								 </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Any local file system not explicitly listed as supported in this table, including the <code class="literal">auto</code> type (automatic file system detection).
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665225440160"> <p>
									Remote directory
								</p>
								 </td><td align="left" valign="top" headers="idm139665225439072"> <p>
									Remote directories accessed using the <code class="literal">NFS</code> or <code class="literal">SSH</code> protocol over <code class="literal">IPv4</code>.
								</p>
								 </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Remote directories on the <code class="literal">rootfs</code> file system accessed using the <code class="literal">NFS</code> protocol.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665225440160"> <p>
									Remote directories accessed using the <code class="literal">iSCSI</code> protocol over both hardware and software initiators.
								</p>
								 </td><td align="left" valign="top" headers="idm139665225439072"> <p>
									Remote directories accessed using the <code class="literal">iSCSI</code> protocol on <code class="literal">be2iscsi</code> hardware.
								</p>
								 </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Multipath-based storages.
								</p>
								 </td></tr><tr><td colspan="2" align="center" valign="top" headers="idm139665225440160 idm139665225439072"> </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Remote directories accessed over <code class="literal">IPv6</code>.
								</p>
								 </td></tr><tr><td colspan="2" align="center" valign="top" headers="idm139665225440160 idm139665225439072"> </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Remote directories accessed using the <code class="literal">SMB</code> or <code class="literal">CIFS</code> protocol.
								</p>
								 </td></tr><tr><td colspan="2" align="center" valign="top" headers="idm139665225440160 idm139665225439072"> </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Remote directories accessed using the <code class="literal">FCoE</code> (<span class="emphasis"><em>Fibre Channel over Ethernet</em></span>) protocol.
								</p>
								 </td></tr><tr><td colspan="2" align="center" valign="top" headers="idm139665225440160 idm139665225439072"> </td><td align="left" valign="top" headers="idm139665225437984"> <p>
									Remote directories accessed using wireless network interfaces.
								</p>
								 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For information on how to configure the target type on the command line, see <a class="xref" href="index.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="7.3.2. Configuring the kdump target">Section 7.3.2, “Configuring the kdump target”</a>.
						</li><li class="listitem">
							For information on how to configure the target through the web console, see <a class="xref" href="index.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="7.4.1. Configuring kdump memory usage and target location in web console">Section 7.4.1, “Configuring kdump memory usage and target location in web console”</a>.
						</li></ul></div></section><section class="section" id="supported-kdump-filtering-levels_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.4. Supported kdump filtering levels</h3></div></div></div><p>
					To reduce the size of the dump file, <code class="literal">kdump</code> uses the <code class="literal command">makedumpfile</code> core collector to compress the data and optionally to omit unwanted information. The table below contains a complete list of filtering levels that are currently supported by the <code class="literal command">makedumpfile</code> utility.
				</p><div class="table" id="idm139665222708064"><p class="title"><strong>Table 7.4. Supported Filtering Levels</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665222703264" scope="col">Option</th><th align="left" valign="top" id="idm139665222702176" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665222703264"> <p>
									<code class="literal option">1</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665222702176"> <p>
									Zero pages
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222703264"> <p>
									<code class="literal option">2</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665222702176"> <p>
									Cache pages
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222703264"> <p>
									<code class="literal option">4</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665222702176"> <p>
									Cache private
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222703264"> <p>
									<code class="literal option">8</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665222702176"> <p>
									User pages
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665222703264"> <p>
									<code class="literal option">16</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665222702176"> <p>
									Free pages
								</p>
								 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal command">makedumpfile</code> command supports removal of transparent huge pages and hugetlbfs pages. Consider both these types of hugepages User Pages and remove them using the <code class="literal option">-8</code> level.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For instructions on how to configure the core collector on the command line, see <a class="xref" href="index.html#configuring-the-core-collector_configuring-kdump-on-the-command-line" title="7.3.3. Configuring the core collector">Section 7.3.3, “Configuring the core collector”</a>.
						</li></ul></div></section><section class="section" id="supported-default-failure-responses_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.5. Supported default failure responses</h3></div></div></div><p>
					By default, when <code class="literal">kdump</code> fails to create a core dump, the operating system reboots. You can, however, configure <code class="literal">kdump</code> to perform a different operation in case it fails to save the core dump to the primary target. The table below lists all default actions that are currently supported.
				</p><div class="table" id="idm139665224968096"><p class="title"><strong>Table 7.5. Supported Default Actions</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139665221401024" scope="col">Option</th><th align="left" valign="top" id="idm139665221399936" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139665221401024"> <p>
									<code class="literal option">dump_to_rootfs</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665221399936"> <p>
									Attempt to save the core dump to the root file system. This option is especially useful in combination with a network target: if the network target is unreachable, this option configures kdump to save the core dump locally. The system is rebooted afterwards.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665221401024"> <p>
									<code class="literal option">reboot</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665221399936"> <p>
									Reboot the system, losing the core dump in the process.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665221401024"> <p>
									<code class="literal option">halt</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665221399936"> <p>
									Halt the system, losing the core dump in the process.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665221401024"> <p>
									<code class="literal option">poweroff</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665221399936"> <p>
									Power off the system, losing the core dump in the process.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139665221401024"> <p>
									<code class="literal option">shell</code>
								</p>
								 </td><td align="left" valign="top" headers="idm139665221399936"> <p>
									Run a shell session from within the initramfs, allowing the user to record the core dump manually.
								</p>
								 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For detailed information on how to set up the default failure responses on the command line, see <a class="xref" href="index.html#configuring-the-kdump-default-failure-responses_configuring-kdump-on-the-command-line" title="7.3.4. Configuring the kdump default failure responses">Section 7.3.4, “Configuring the kdump default failure responses”</a>.
						</li></ul></div></section><section class="section" id="estimating-kdump-size_supported-kdump-configurations-and-targets"><div class="titlepage"><div><div><h3 class="title">7.5.6. Estimating kdump size</h3></div></div></div><p>
					When planning and building your kdump environment, it is necessary to know how much space is required for the dump file before one is produced.
				</p><p>
					The <code class="literal command">makedumpfile --mem-usage</code> command provides a useful report about excludable pages, and can be used to determine which dump level you want to assign. Run this command when the system is under representative load, otherwise <code class="literal command">makedumpfile --mem-usage</code> returns a smaller value than is expected in your production environment.
				</p><pre class="screen">[root@hostname ~]# makedumpfile --mem-usage /proc/kcore

TYPE            PAGES                   EXCLUDABLE      DESCRIPTION
----------------------------------------------------------------------
ZERO            501635                  yes             Pages filled with zero
CACHE           51657                   yes             Cache pages
CACHE_PRIVATE   5442                    yes             Cache pages + private
USER            16301                   yes             User process pages
FREE            77738211                yes             Free pages
KERN_DATA       1333192                 no              Dumpable kernel data</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						The <code class="literal command">makedumpfile --mem-usage</code> command reports in <span class="strong strong"><strong>pages</strong></span>. This means that you have to calculate the size of memory in use against the kernel page size. By default the Red Hat Enterprise Linux kernel uses 4 KB sized pages for AMD64 and Intel 64 architectures, and 64 KB sized pages for IBM POWER architectures.
					</p></div></div></section></section><section class="section" id="testing-the-kdump-configuration_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.6. Testing the kdump configuration</h2></div></div></div><p>
				The following procedure describes how to test that the kernel dump process works and is valid before the machine enters production.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					The commands below cause the kernel to crash. Use caution when following these steps, and never carelessly use them on active production system.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Reboot the system with <code class="literal">kdump</code> <a class="link" href="index.html#enabling-and-disabling-the-kdump-service_configuring-kdump-on-the-command-line" title="7.3.5. Enabling and disabling the kdump service">enabled</a>.
					</li><li class="listitem"><p class="simpara">
						Make sure that <code class="literal">kdump</code> is running:
					</p><pre class="screen">~]# systemctl is-active kdump
active</pre></li><li class="listitem"><p class="simpara">
						Force the Linux kernel to crash:
					</p><pre class="screen"><code class="literal command">echo 1 &gt; /proc/sys/kernel/sysrq</code>
<code class="literal command">echo c &gt; /proc/sysrq-trigger</code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							The command above crashes the kernel and a reboot is required.
						</p></div></div><p class="simpara">
						Once booted again, the <code class="literal"><span class="emphasis"><em>address</em></span>-<span class="emphasis"><em>YYYY-MM-DD</em></span>-<span class="emphasis"><em>HH:MM:SS</em></span>/vmcore</code> file is created at the location you have <a class="link" href="index.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="7.3.2. Configuring the kdump target">specified</a> in <code class="literal">/etc/kdump.conf</code> (by default to <code class="literal">/var/crash/</code>).
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							In addition to confirming the validity of the configuration, it is possible to use this action to record how long it takes for a crash dump to complete, while a representative load was running.
						</p></div></div></li></ol></div></section><section class="section" id="analyzing-a-core-dump_installing-and-configuring-kdump"><div class="titlepage"><div><div><h2 class="title">7.7. Analyzing a core dump</h2></div></div></div><p>
				To determine the cause of the system crash, you can use the <span class="strong strong"><strong><span class="application application">crash</span></strong></span> utility, which provides an interactive prompt very similar to the GNU Debugger (GDB). This utility allows you to interactively analyze a core dump created by <code class="literal">kdump</code>, <code class="literal">netdump</code>, <code class="literal">diskdump</code> or <code class="literal">xendump</code> as well as a running Linux system. Alternatively, you have the option to use the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/labs/kdumphelper/">Kdump Helper</a></span></em></span> or <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/">Kernel Oops Analyzer</a></span></em></span>.
			</p><section class="section" id="installing-the-crash-utility_analyzing-a-core-dump"><div class="titlepage"><div><div><h3 class="title">7.7.1. Installing the crash utility</h3></div></div></div><p>
					The following procedure describes how to install the <span class="strong strong"><strong><span class="application application">crash</span></strong></span> analyzing tool.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enable the relevant <code class="literal">baseos</code> and <code class="literal">appstream</code> repositories:
						</p><pre class="screen"><code class="literal command"># subscription-manager repos --enable <span class="emphasis"><em>baseos repository</em></span></code></pre><pre class="screen"><code class="literal command"># subscription-manager repos --enable <span class="emphasis"><em>appstream repository</em></span></code></pre></li><li class="listitem"><p class="simpara">
							Install the <code class="literal package">crash</code> package:
						</p><pre class="screen"><code class="literal command"># yum install crash</code></pre></li><li class="listitem"><p class="simpara">
							Install the <code class="literal package">kernel-debuginfo</code> package:
						</p><pre class="screen"><code class="literal command"># yum install kernel-debuginfo</code></pre><p class="simpara">
							The package corresponds to your running kernel and provides the data necessary for the dump analysis.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about how to work with repositories using the <code class="literal application">subscription-manager</code> utility, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-Installation-Basic-Tasks">Configuring basic system settings</a></span></em></span>.
						</li></ul></div></section><section class="section" id="running-and-exiting-the-crash-utility_analyzing-a-core-dump"><div class="titlepage"><div><div><h3 class="title">7.7.2. Running and exiting the crash utility</h3></div></div></div><p>
					The following procedure describes how to start the crash utility for analyzing the cause of the system crash.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Identify the currently running kernel (for example <code class="literal">4.18.0-5.el8.x86_64</code>).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To start the <code class="literal">crash</code> utility, two necessary parameters need to be passed to the command:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The debug-info (a decompressed vmlinuz image), for example <code class="literal">/usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux</code> provided through a specific <code class="literal">kernel-debuginfo</code> package.
								</li><li class="listitem"><p class="simpara">
									The actual vmcore file, for example <code class="literal">/var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore</code>
								</p><p class="simpara">
									The resulting <code class="literal command">crash</code> command then looks like this:
								</p><pre class="screen"><code class="literal command"># crash /usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux /var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore</code></pre><p class="simpara">
									Use the same <span class="emphasis"><em>&lt;kernel&gt;</em></span> version that was captured by <code class="literal">kdump</code>.
								</p><div class="example" id="idm139665221340016"><p class="title"><strong>Example 7.1. Running the crash utility</strong></p><div class="example-contents"><p>
										The following example shows analyzing a core dump created on October 6 2018 at 14:05 PM, using the 4.18.0-5.el8.x86_64 kernel.
									</p><pre class="screen">...
WARNING: kernel relocated [202MB]: patching 90160 gdb minimal_symbol values

      KERNEL: /usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux
    DUMPFILE: /var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore  [PARTIAL DUMP]
        CPUS: 2
        DATE: Sat Oct  6 14:05:16 2018
      UPTIME: 01:03:57
LOAD AVERAGE: 0.00, 0.00, 0.00
       TASKS: 586
    NODENAME: localhost.localdomain
     RELEASE: 4.18.0-5.el8.x86_64
     VERSION: #1 SMP Wed Aug 29 11:51:55 UTC 2018
     MACHINE: x86_64  (2904 Mhz)
      MEMORY: 2.9 GB
       PANIC: "sysrq: SysRq : Trigger a crash"
         PID: 10635
     COMMAND: "bash"
        TASK: ffff8d6c84271800  [THREAD_INFO: ffff8d6c84271800]
         CPU: 1
       STATE: TASK_RUNNING (SYSRQ)

crash&gt;</pre></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							To exit the interactive prompt and terminate <code class="literal application">crash</code>, type <code class="literal command">exit</code> or <code class="literal command">q</code>.
						</p><div class="example" id="idm139665221332832"><p class="title"><strong>Example 7.2. Exiting the crash utility</strong></p><div class="example-contents"><pre class="screen">crash&gt; exit
~]#</pre></div></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal command">crash</code> command can also be used as a powerful tool for debugging a live system. However use it with caution so as not to break your system.
					</p></div></div></section><section class="section" id="displaying-message-buffer-backtrace-and-other-indicators-in-the-crash-utility_analyzing-a-core-dump"><div class="titlepage"><div><div><h3 class="title">7.7.3. Displaying message buffer, backtrace, and other indicators in the crash utility</h3></div></div></div><p>
					The following procedures describe how to use the crash utility and display various indicators, such as a kernel message buffer, a backtrace, a process status, virtual memory information and open files.
				</p><h5 id="displaying_the_message_buffer">Displaying the message buffer</h5><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To display the kernel message buffer, type the <code class="literal command">log</code> command at the interactive prompt as displayed in the example below:
						</p><div class="example" id="idm139665223500944"><p class="title"><strong>Example 7.3. Displaying the kernel message buffer</strong></p><div class="example-contents"><pre class="screen">crash&gt; log
<span class="strong strong"><strong>... several lines omitted ...</strong></span>
EIP: 0060:[&lt;c068124f&gt;] EFLAGS: 00010096 CPU: 2
EIP is at sysrq_handle_crash+0xf/0x20
EAX: 00000063 EBX: 00000063 ECX: c09e1c8c EDX: 00000000
ESI: c0a09ca0 EDI: 00000286 EBP: 00000000 ESP: ef4dbf24
 DS: 007b ES: 007b FS: 00d8 GS: 00e0 SS: 0068
Process bash (pid: 5591, ti=ef4da000 task=f196d560 task.ti=ef4da000)
Stack:
 c068146b c0960891 c0968653 00000003 00000000 00000002 efade5c0 c06814d0
&lt;0&gt; fffffffb c068150f b7776000 f2600c40 c0569ec4 ef4dbf9c 00000002 b7776000
&lt;0&gt; efade5c0 00000002 b7776000 c0569e60 c051de50 ef4dbf9c f196d560 ef4dbfb4
Call Trace:
 [&lt;c068146b&gt;] ? __handle_sysrq+0xfb/0x160
 [&lt;c06814d0&gt;] ? write_sysrq_trigger+0x0/0x50
 [&lt;c068150f&gt;] ? write_sysrq_trigger+0x3f/0x50
 [&lt;c0569ec4&gt;] ? proc_reg_write+0x64/0xa0
 [&lt;c0569e60&gt;] ? proc_reg_write+0x0/0xa0
 [&lt;c051de50&gt;] ? vfs_write+0xa0/0x190
 [&lt;c051e8d1&gt;] ? sys_write+0x41/0x70
 [&lt;c0409adc&gt;] ? syscall_call+0x7/0xb
Code: a0 c0 01 0f b6 41 03 19 d2 f7 d2 83 e2 03 83 e0 cf c1 e2 04 09 d0 88 41 03 f3 c3 90 c7 05 c8 1b 9e c0 01 00 00 00 0f ae f8 89 f6 &lt;c6&gt; 05 00 00 00 00 01 c3 89 f6 8d bc 27 00 00 00 00 8d 50 d0 83
EIP: [&lt;c068124f&gt;] sysrq_handle_crash+0xf/0x20 SS:ESP 0068:ef4dbf24
CR2: 0000000000000000</pre></div></div><p class="simpara">
							Type <code class="literal command">help log</code> for more information on the command usage.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The kernel message buffer includes the most essential information about the system crash and, as such, it is always dumped first in to the <code class="literal">vmcore-dmesg.txt</code> file. This is useful when an attempt to get the full <code class="literal">vmcore</code> file failed, for example because of lack of space on the target location. By default, <code class="literal">vmcore-dmesg.txt</code> is located in the <code class="literal">/var/crash/</code> directory.
							</p></div></div></li></ul></div><section class="section" id="displaying_a_backtrace"><div class="titlepage"><div><div><h4 class="title">7.7.3.1. Displaying a backtrace</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To display the kernel stack trace, use the <code class="literal command">bt</code> command.
							</p><div class="example" id="idm139665223488800"><p class="title"><strong>Example 7.4. Displaying the kernel stack trace</strong></p><div class="example-contents"><pre class="screen">crash&gt; bt
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
 #0 [ef4dbdcc] crash_kexec at c0494922
 #1 [ef4dbe20] oops_end at c080e402
 #2 [ef4dbe34] no_context at c043089d
 #3 [ef4dbe58] bad_area at c0430b26
 #4 [ef4dbe6c] do_page_fault at c080fb9b
 #5 [ef4dbee4] error_code (via page_fault) at c080d809
    EAX: 00000063  EBX: 00000063  ECX: c09e1c8c  EDX: 00000000  EBP: 00000000
    DS:  007b      ESI: c0a09ca0  ES:  007b      EDI: 00000286  GS:  00e0
    CS:  0060      EIP: c068124f  ERR: ffffffff  EFLAGS: 00010096
 #6 [ef4dbf18] sysrq_handle_crash at c068124f
 #7 [ef4dbf24] __handle_sysrq at c0681469
 #8 [ef4dbf48] write_sysrq_trigger at c068150a
 #9 [ef4dbf54] proc_reg_write at c0569ec2
#10 [ef4dbf74] vfs_write at c051de4e
#11 [ef4dbf94] sys_write at c051e8cc
#12 [ef4dbfb0] system_call at c0409ad5
    EAX: ffffffda  EBX: 00000001  ECX: b7776000  EDX: 00000002
    DS:  007b      ESI: 00000002  ES:  007b      EDI: b7776000
    SS:  007b      ESP: bfcb2088  EBP: bfcb20b4  GS:  0033
    CS:  0073      EIP: 00edc416  ERR: 00000004  EFLAGS: 00000246</pre></div></div><p class="simpara">
								Type <code class="literal command">bt <span class="emphasis"><em>&lt;pid&gt;</em></span></code> to display the backtrace of a specific process or type <code class="literal command">help bt</code> for more information on <code class="literal command">bt</code> usage.
							</p></li></ul></div></section><section class="section" id="displaying_a_process_status"><div class="titlepage"><div><div><h4 class="title">7.7.3.2. Displaying a process status</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To display the status of processes in the system, use the <code class="literal command">ps</code> command.
							</p><div class="example" id="idm139665223658576"><p class="title"><strong>Example 7.5. Displaying the status of processes in the system</strong></p><div class="example-contents"><pre class="screen">crash&gt; <code class="literal command">ps</code>
   PID    PPID  CPU   TASK    ST  %MEM     VSZ    RSS  COMM
&gt;     0      0   0  c09dc560  RU   0.0       0      0  [swapper]
&gt;     0      0   1  f7072030  RU   0.0       0      0  [swapper]
      0      0   2  f70a3a90  RU   0.0       0      0  [swapper]
&gt;     0      0   3  f70ac560  RU   0.0       0      0  [swapper]
      1      0   1  f705ba90  IN   0.0    2828   1424  init
<span class="strong strong"><strong>... several lines omitted ...</strong></span>
   5566      1   1  f2592560  IN   0.0   12876    784  auditd
   5567      1   2  ef427560  IN   0.0   12876    784  auditd
   5587   5132   0  f196d030  IN   0.0   11064   3184  sshd
&gt;  5591   5587   2  f196d560  RU   0.0    5084   1648  bash</pre></div></div><p class="simpara">
								Use <code class="literal command">ps <span class="emphasis"><em>&lt;pid&gt;</em></span></code> to display the status of a single specific process. Use <span class="emphasis"><em>help ps</em></span> for more information on <code class="literal command">ps</code> usage.
							</p></li></ul></div></section><section class="section" id="displaying_virtual_memory_information"><div class="titlepage"><div><div><h4 class="title">7.7.3.3. Displaying virtual memory information</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To display basic virtual memory information, type the <code class="literal command">vm</code> command at the interactive prompt.
							</p><div class="example" id="idm139665223647120"><p class="title"><strong>Example 7.6. Displaying virtual memory information of the current context</strong></p><div class="example-contents"><pre class="screen">crash&gt; vm
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
   MM       PGD      RSS    TOTAL_VM
f19b5900  ef9c6000  1648k    5084k
  VMA       START      END    FLAGS  FILE
f1bb0310    242000    260000 8000875  /lib/ld-2.12.so
f26af0b8    260000    261000 8100871  /lib/ld-2.12.so
efbc275c    261000    262000 8100873  /lib/ld-2.12.so
efbc2a18    268000    3ed000 8000075  /lib/libc-2.12.so
efbc23d8    3ed000    3ee000 8000070  /lib/libc-2.12.so
efbc2888    3ee000    3f0000 8100071  /lib/libc-2.12.so
efbc2cd4    3f0000    3f1000 8100073  /lib/libc-2.12.so
efbc243c    3f1000    3f4000 100073
efbc28ec    3f6000    3f9000 8000075  /lib/libdl-2.12.so
efbc2568    3f9000    3fa000 8100071  /lib/libdl-2.12.so
efbc2f2c    3fa000    3fb000 8100073  /lib/libdl-2.12.so
f26af888    7e6000    7fc000 8000075  /lib/libtinfo.so.5.7
f26aff2c    7fc000    7ff000 8100073  /lib/libtinfo.so.5.7
efbc211c    d83000    d8f000 8000075  /lib/libnss_files-2.12.so
efbc2504    d8f000    d90000 8100071  /lib/libnss_files-2.12.so
efbc2950    d90000    d91000 8100073  /lib/libnss_files-2.12.so
f26afe00    edc000    edd000 4040075
f1bb0a18   8047000   8118000 8001875  /bin/bash
f1bb01e4   8118000   811d000 8101873  /bin/bash
f1bb0c70   811d000   8122000 100073
f26afae0   9fd9000   9ffa000 100073
<span class="strong strong"><strong>... several lines omitted ...</strong></span></pre></div></div><p class="simpara">
								Use <code class="literal command">vm <span class="emphasis"><em>&lt;pid&gt;</em></span></code> to display information on a single specific process, or use <code class="literal command">help vm</code> for more information on <code class="literal command">vm</code> usage.
							</p></li></ul></div></section><section class="section" id="displaying_open_files"><div class="titlepage"><div><div><h4 class="title">7.7.3.4. Displaying open files</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To display information about open files, use the <code class="literal command">files</code> command.
							</p><div class="example" id="idm139665223382080"><p class="title"><strong>Example 7.7. Displaying information about open files of the current context</strong></p><div class="example-contents"><pre class="screen">crash&gt; <code class="literal command">files</code>
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
ROOT: /    CWD: /root
 FD    FILE     DENTRY    INODE    TYPE  PATH
  0  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
  1  efade5c0  eee14090  f00431d4  REG   /proc/sysrq-trigger
  2  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
 10  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
255  f734f640  eedc2c6c  eecd6048  CHR   /pts/0</pre></div></div><p class="simpara">
								Use <code class="literal command">files <span class="emphasis"><em>&lt;pid&gt;</em></span></code> to display files opened by only one selected process, or use <code class="literal command">help files</code> for more information on <code class="literal command">files</code> usage.
							</p></li></ul></div></section></section><section class="section" id="using-kernel-oops-analyzer_analyzing-a-core-dump"><div class="titlepage"><div><div><h3 class="title">7.7.4. Using Kernel Oops Analyzer</h3></div></div></div><p>
					The Kernel Oops Analyzer is a tool that analyzes the crash dump by comparing the oops messages with known issues in the knowledge base.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Secure an oops message to feed the Kernel Oops Analyzer by following instructions in <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/#instruction">Red Hat Labs</a></span></em></span>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Follow the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/">Kernel Oops Analyzer</a></span></em></span> link to access the tool.
						</li><li class="listitem"><p class="simpara">
							Browse for the oops message by hitting the <span class="guibutton">Browse</span> button.
						</p><div class="informalfigure"><div class="mediaobject"><img src="kdump-kernel_dump_analyzing-core_dump.png" alt="Kernel oops analyzer"/></div></div></li><li class="listitem">
							Click the <span class="guibutton">DETECT</span> button to compare the oops message based on information from <code class="literal command">makedumpfile</code> against known solutions.
						</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>kdump.conf</strong></span>(5) — a manual page for the <code class="literal">/etc/kdump.conf</code> configuration file containing the full documentation of available options.
						</li><li class="listitem">
							<span class="strong strong"><strong>zipl.conf</strong></span>(5) — a manual page for the <code class="literal">/etc/zipl.conf</code> configuration file.
						</li><li class="listitem">
							<span class="strong strong"><strong>zipl</strong></span>(8) — a manual page for the <code class="literal command">zipl</code> boot loader utility for IBM System z.
						</li><li class="listitem">
							<span class="strong strong"><strong>makedumpfile</strong></span>(8) — a manual page for the <code class="literal command">makedumpfile</code> core collector.
						</li><li class="listitem">
							<span class="strong strong"><strong>kexec</strong></span>(8) — a manual page for <span class="strong strong"><strong><span class="application application">kexec</span></strong></span>.
						</li><li class="listitem">
							<span class="strong strong"><strong>crash</strong></span>(8) — a manual page for the <span class="strong strong"><strong><span class="application application">crash</span></strong></span> utility.
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/kexec-tools/kexec-kdump-howto.txt</code> — an overview of the <code class="literal">kdump</code> and <span class="strong strong"><strong><span class="application application">kexec</span></strong></span> installation and usage.
						</li><li class="listitem">
							For more information about the <code class="literal command">kexec</code> and <code class="literal">kdump</code> configuration see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/site/solutions/6038">Red Hat Knowledgebase article</a></span></em></span>.
						</li><li class="listitem">
							For more information about the supported <code class="literal">kdump</code> targets see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/site/solutions/223773">Red Hat Knowledgebase article</a></span></em></span>.
						</li></ul></div></section></section></section><section class="chapter" id="applying-patches-with-kernel-live-patching_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Applying patches with kernel live patching</h1></div></div></div><p>
			You can use the Red Hat Enterprise Linux kernel live patching solution to patch a running kernel without rebooting or restarting any processes.
		</p><p>
			With this solution, system administrators:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Can immediately apply critical security patches to the kernel.
				</li><li class="listitem">
					Do not have to wait for long-running tasks to complete, for users to log off, or for scheduled downtime.
				</li><li class="listitem">
					Control the system’s uptime more and do not sacrifice security or stability.
				</li></ul></div><p>
			Note that not every critical or important CVE will be resolved using the kernel live patching solution. Our goal is to reduce the required reboots for security-related patches, not to eliminate them entirely. For more details about the scope of live patching, see the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/solutions/4351231">Customer Portal Solutions article</a></span></em></span>.
		</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
				Some incompatibilities exist between kernel live patching and other kernel subcomponents. Read the <a class="xref" href="index.html#limitations-of-kpatch_applying-patches-with-kernel-live-patching" title="8.1. Limitations of kpatch">Section 8.1, “Limitations of kpatch”</a> carefully before using kernel live patching.
			</p></div></div><section class="section" id="limitations-of-kpatch_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.1. Limitations of kpatch</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">kpatch</code> feature is not a general-purpose kernel upgrade mechanism. It is used for applying simple security and bug fix updates when rebooting the system is not immediately possible.
					</li><li class="listitem">
						Do not use the <code class="literal">SystemTap</code> or <code class="literal">kprobe</code> tools during or after loading a patch. The patch could fail to take effect until after such probes have been removed.
					</li></ul></div></section><section class="section" id="support-for-third-party-live-patching_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.2. Support for third-party live patching</h2></div></div></div><p>
				The <code class="literal">kpatch</code> utility is the only kernel live patching utility supported by Red Hat with the RPM modules provided by Red Hat repositories. Red Hat will not support any live patches which were not provided by Red Hat itself.
			</p><p>
				If you require support for an issue that arises with a third-party live patch, Red Hat recommends that you open a case with the live patching vendor at the outset of any investigation in which a root cause determination is necessary. This allows the source code to be supplied if the vendor allows, and for their support organization to provide assistance in root cause determination prior to escalating the investigation to Red Hat Support.
			</p><p>
				For any system running with third-party live patches, Red Hat reserves the right to ask for reproduction with Red Hat shipped and supported software. In the event that this is not possible, we require a similar system and workload be deployed on your test environment without live patches applied, to confirm if the same behavior is observed.
			</p><p>
				For more information about third-party software support policies, see <a class="link" href="https://access.redhat.com/articles/1067">How does Red Hat Global Support Services handle third-party software, drivers, and/or uncertified hardware/hypervisors or guest operating systems?</a>
			</p></section><section class="section" id="access-to-kernel-live-patches_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.3. Access to kernel live patches</h2></div></div></div><p>
				Kernel live patching capability is implemented as a kernel module (<code class="literal">kmod</code>) that is delivered as an RPM package.
			</p><p>
				All customers have access to kernel live patches, which are delivered through the usual channels. However, customers who do not subscribe to an extended support offering will lose access to new patches for the current minor release once the next minor release becomes available. For example, customers with standard subscriptions will only be able to live patch RHEL 8.2 kernel until the RHEL 8.3 kernel is released.
			</p></section><section class="section" id="components-of-kernel-live-patching_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.4. Components of kernel live patching</h2></div></div></div><p>
				The components of kernel live patching are as follows:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Kernel patch module</span></dt><dd><p class="simpara">

						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The delivery mechanism for kernel live patches.
								</li><li class="listitem">
									A kernel module which is built specifically for the kernel being patched.
								</li><li class="listitem">
									The patch module contains the code of the desired fixes for the kernel.
								</li><li class="listitem">
									The patch modules register with the <code class="literal">livepatch</code> kernel subsystem and provide information about original functions to be replaced, with corresponding pointers to the replacement functions. Kernel patch modules are delivered as RPMs.
								</li><li class="listitem">
									The naming convention is <code class="literal">kpatch_&lt;kernel version&gt;_&lt;kpatch version&gt;_&lt;kpatch release&gt;</code>. The "kernel version" part of the name has <span class="emphasis"><em>dots</em></span> and <span class="emphasis"><em>dashes</em></span> replaced with <span class="emphasis"><em>underscores</em></span>.
								</li></ul></div></dd><dt><span class="term">The <code class="literal">kpatch</code> utility</span></dt><dd>
							A command-line utility for managing patch modules.
						</dd><dt><span class="term">The <code class="literal">kpatch</code> service</span></dt><dd>
							A <code class="literal">systemd</code> service required by <code class="literal">multiuser.target</code>. This target loads the kernel patch module at boot time.
						</dd></dl></div></section><section class="section" id="how-kernel-live-patching-works_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.5. How kernel live patching works</h2></div></div></div><p>
				The <code class="literal">kpatch</code> kernel patching solution uses the <code class="literal">livepatch</code> kernel subsystem to redirect old functions to new ones. When a live kernel patch is applied to a system, the following things happen:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The kernel patch module is copied to the <code class="literal">/var/lib/kpatch/</code> directory and registered for re-application to the kernel by <code class="literal">systemd</code> on next boot.
					</li><li class="listitem">
						The kpatch module is loaded into the running kernel and the new functions are registered to the <code class="literal">ftrace</code> mechanism with a pointer to the location in memory of the new code.
					</li><li class="listitem">
						When the kernel accesses the patched function, it is redirected by the <code class="literal">ftrace</code> mechanism which bypasses the original functions and redirects the kernel to patched version of the function.
					</li></ol></div><div class="figure" id="applying-patches-with-kernel-live-patching-figu-how-kpatch-works"><p class="title"><strong>Figure 8.1. How kernel live patching works</strong></p><div class="figure-contents"><div class="mediaobject"><img src="rhel_kpatch_overview.png" alt="rhel kpatch overview"/></div></div></div></section><section class="section" id="enabling-kernel-live-patching_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.6. Enabling kernel live patching</h2></div></div></div><p>
				A kernel patch module is delivered in an RPM package, specific to the version of the kernel being patched. Each RPM package will be cumulatively updated over time.
			</p><p>
				The following sections describe how to ensure you receive all future cumulative live patching updates for a given kernel.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Red Hat does not support any third party live patches applied to a Red Hat supported system.
				</p></div></div><section class="section" id="subscribing-to-the-live-patching-stream_enabling-kernel-live-patching"><div class="titlepage"><div><div><h3 class="title">8.6.1. Subscribing to the live patching stream</h3></div></div></div><p>
					This procedure describes installing a particular live patching package. By doing so, you subscribe to the live patching stream for a given kernel and ensure that you receive all future cumulative live patching updates for that kernel.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Because live patches are cumulative, you cannot select which individual patches are deployed for a given kernel.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Root permissions
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optionally, check your kernel version:
						</p><pre class="literallayout"># uname -r
4.18.0-94.el8.x86_64</pre></li><li class="listitem"><p class="simpara">
							Search for a live patching package that corresponds to the version of your kernel:
						</p><pre class="literallayout"># yum search $(uname -r)</pre></li><li class="listitem"><p class="simpara">
							Install the live patching package:
						</p><pre class="literallayout"># yum install "kpatch-patch = $(uname -r)"</pre><p class="simpara">
							The command above installs and applies the latest cumulative live patches for that specific kernel only.
						</p><p class="simpara">
							The live patching package contains a patch module, if the package’s version is 1-1 or higher. In that case the kernel will be automatically patched during the installation of the live patching package.
						</p><p class="simpara">
							The kernel patch module is also installed into the <code class="literal">/var/lib/kpatch/</code> directory to be loaded by the <code class="literal">systemd</code> system and service manager during the future reboots.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If there are not yet any live patches available for the given kernel, an empty live patching package will be installed. An empty live patching package will have a <span class="emphasis"><em>kpatch_version-kpatch_release</em></span> of 0-0, for example <code class="literal">kpatch-patch-4_18_0-94-0-0.el8.x86_64.rpm</code>. The installation of the empty RPM subscribes the system to all future live patches for the given kernel.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Optionally, verify that the kernel is patched:
						</p><pre class="literallayout"># kpatch list
Loaded patch modules:
kpatch_4_18_0_94_1_1 [enabled]

Installed patch modules:
kpatch_4_18_0_94_1_1 (4.18.0-94.el8.x86_64)
…​</pre><p class="simpara">
							The output shows that the kernel patch module has been loaded into the kernel, which is now patched with the latest fixes from the <code class="literal">kpatch-patch-4_18_0-94-1-1.el8.x86_64.rpm</code> package.
						</p></li><li class="listitem"><p class="simpara">
							Re-enable the live patching for the new kernel:
						</p><pre class="literallayout"># yum install kpatch-patch-&lt;new_kernel_version&gt;</pre><p class="simpara">
							Later, if you install a new kernel and reboot into it, you will have to re-enable the live patching for that new kernel.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <code class="literal">kpatch</code> command-line utility, see the <code class="literal">kpatch(1)</code> manual page.
						</li><li class="listitem">
							Refer to the relevant sections of the <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index?lb_target=preview#installing-software-with-yum_configuring-basic-system-settings">Configuring basic system settings</a></span></em></span> for further information about software packages Red Hat Enterprise Linux 8.
						</li></ul></div></section></section><section class="section" id="updating-kernel-patch-modules_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.7. Updating kernel patch modules</h2></div></div></div><p>
				Since kernel patch modules are delivered and applied through RPM packages, updating a cumulative kernel patch module is like updating any other RPM package.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Root permissions
					</li><li class="listitem">
						The system is subscribed to the live patching stream, as described in <a class="xref" href="index.html#subscribing-to-the-live-patching-stream_enabling-kernel-live-patching" title="8.6.1. Subscribing to the live patching stream">Section 8.6.1, “Subscribing to the live patching stream”</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Update to a new cumulative version for the current kernel:
					</p><pre class="literallayout"># yum update "kpatch-patch = $(uname -r)"</pre><p class="simpara">
						The command above automatically installs and applies any updates that are available for the currently running kernel. Including any future released cumulative live patches.
					</p></li><li class="listitem"><p class="simpara">
						Alternatively, update all installed kernel patch modules:
					</p><pre class="literallayout"># yum update "kpatch-patch*"</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When the system reboots into the same kernel, the kernel is automatically live patched again by the <code class="literal">kpatch.service</code> systemd service.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further information about updating software packages, see the relevant sections of <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index?lb_target=preview#using-yum-for-particular-tasks_installing-software-with-yum">Configuring basic system settings</a></span></em></span> in Red Hat Enterprise Linux 8.
					</li></ul></div></section><section class="section" id="disabling-kernel-live-patching_applying-patches-with-kernel-live-patching"><div class="titlepage"><div><div><h2 class="title">8.8. Disabling kernel live patching</h2></div></div></div><p>
				In case system administrators encountered some unanticipated negative effects connected with the Red Hat Enterprise Linux kernel live patching solution they have a choice to disable the mechanism. The following sections describe the ways how to disable the live patching solution.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Currently, Red Hat does not support reverting live patches without rebooting your system. In case of any issues, contact our support team.
				</p></div></div><section class="section" id="removing-the-live-patching-package_disabling-kernel-live-patching"><div class="titlepage"><div><div><h3 class="title">8.8.1. Removing the live patching package</h3></div></div></div><p>
					The following procedure describes how to disable the Red Hat Enterprise Linux kernel live patching solution by removing the live patching package.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Root permissions
						</li><li class="listitem">
							The live patching package is installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Select the live patching package:
						</p><pre class="literallayout"># yum list installed | grep kpatch-patch
kpatch-patch-4_18_0-94.x86_64        1-1.el8        @@commandline
…​</pre><p class="simpara">
							The example output above lists live patching packages that you installed.
						</p></li><li class="listitem"><p class="simpara">
							Remove the live patching package:
						</p><pre class="literallayout"># yum remove kpatch-patch-4_18_0-94.x86_64</pre><p class="simpara">
							When a live patching package is removed, the kernel remains patched until the next reboot, but the kernel patch module is removed from disk. After the next reboot, the corresponding kernel will no longer be patched.
						</p></li><li class="listitem">
							Reboot your system.
						</li><li class="listitem"><p class="simpara">
							Verify that the live patching package was been removed:
						</p><pre class="literallayout"># yum list installed | grep kpatch-patch</pre><p class="simpara">
							The command displays no output if the package has been successfully removed.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, verify that the kernel live patching solution is disabled:
						</p><pre class="literallayout"># kpatch list
Loaded patch modules:</pre><p class="simpara">
							The example output shows that the kernel is not patched and the live patching solution is not active because there are no patch modules that are currently loaded.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <code class="literal">kpatch</code> command-line utility, see the <code class="literal">kpatch(1)</code> manual page.
						</li><li class="listitem">
							For further information about working with software packages, see the relevant sections of <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index?lb_target=preview#installing-software-with-yum_configuring-basic-system-settings">Configuring basic system settings</a></span></em></span>.
						</li></ul></div></section><section class="section" id="uninstalling-the-kernel-patch-module_disabling-kernel-live-patching"><div class="titlepage"><div><div><h3 class="title">8.8.2. Uninstalling the kernel patch module</h3></div></div></div><p>
					The following procedure describes how to prevent the Red Hat Enterprise Linux kernel live patching solution from applying a kernel patch module on subsequent boots.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Root permissions
						</li><li class="listitem">
							A live patching package is installed.
						</li><li class="listitem">
							A kernel patch module is installed and loaded.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Select a kernel patch module:
						</p><pre class="literallayout"># kpatch list
Loaded patch modules:
kpatch_4_18_0_94_1_1 [enabled]

Installed patch modules:
kpatch_4_18_0_94_1_1 (4.18.0-94.el8.x86_64)
…​</pre></li><li class="listitem"><p class="simpara">
							Uninstall the selected kernel patch module:
						</p><pre class="literallayout"># kpatch uninstall kpatch_4_18_0_94_1_1
uninstalling kpatch_4_18_0_94_1_1 (4.18.0-94.el8.x86_64)</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Note that the uninstalled kernel patch module is still loaded:
								</p><pre class="literallayout"># kpatch list
Loaded patch modules:
kpatch_4_18_0_94_1_1 [enabled]

Installed patch modules:
&lt;<span class="emphasis"><em>NO_RESULT</em></span>&gt;</pre><p class="simpara">
									When the selected module is uninstalled, the kernel remains patched until the next reboot, but the kernel patch module is removed from disk.
								</p></li></ul></div></li><li class="listitem">
							Reboot your system.
						</li><li class="listitem"><p class="simpara">
							Optionally, verify that the kernel patch module has been uninstalled:
						</p><pre class="literallayout"># kpatch list
Loaded patch modules:
…​</pre><p class="simpara">
							The example output above shows no loaded or installed kernel patch modules, therefore the kernel is not patched and the kernel live patching solution is not active.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <code class="literal">kpatch</code> command-line utility, refer to the <code class="literal">kpatch(1)</code> manual page.
						</li></ul></div></section><section class="section" id="disabling-kpatch-service_disabling-kernel-live-patching"><div class="titlepage"><div><div><h3 class="title">8.8.3. Disabling kpatch.service</h3></div></div></div><p>
					The following procedure describes how to prevent the Red Hat Enterprise Linux kernel live patching solution from applying all kernel patch modules globally on subsequent boots.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Root permissions
						</li><li class="listitem">
							A live patching package is installed.
						</li><li class="listitem">
							A kernel patch module is installed and loaded.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Verify <code class="literal">kpatch.service</code> is enabled:
						</p><pre class="literallayout"># systemctl is-enabled kpatch.service
enabled</pre></li><li class="listitem"><p class="simpara">
							Disable <code class="literal">kpatch.service</code>:
						</p><pre class="literallayout"># systemctl disable kpatch.service
Removed /etc/systemd/system/multi-user.target.wants/kpatch.service.</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Note that the applied kernel patch module is still loaded:
								</p><pre class="literallayout"># kpatch list
Loaded patch modules:
kpatch_4_18_0_94_1_1 [enabled]

Installed patch modules:
kpatch_4_18_0_94_1_1 (4.18.0-94.el8.x86_64)</pre></li></ul></div></li><li class="listitem">
							Reboot your system.
						</li><li class="listitem"><p class="simpara">
							Optionally, verify the status of <code class="literal">kpatch.service</code>:
						</p><pre class="literallayout"># systemctl status kpatch.service
● kpatch.service - "Apply kpatch kernel patches"
   Loaded: loaded (/usr/lib/systemd/system/kpatch.service; disabled; vendor preset: disabled)
   Active: inactive (dead)</pre><p class="simpara">
							The example output testifies that <code class="literal">kpatch.service</code> has been disabled and is not running. Thereby, the kernel live patching solution is not active.
						</p></li><li class="listitem"><p class="simpara">
							Verify that the kernel patch module has been unloaded:
						</p><pre class="literallayout"># kpatch list
Loaded patch modules:
&lt;<span class="emphasis"><em>NO_RESULT</em></span>&gt;

Installed patch modules:
kpatch_4_18_0_94_1_1 (4.18.0-94.el8.x86_64)</pre><p class="simpara">
							The example output above shows that a kernel patch module is still installed but the kernel is not patched.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <code class="literal">kpatch</code> command-line utility, see the <code class="literal">kpatch(1)</code> manual page.
						</li><li class="listitem">
							For more information about the <code class="literal">systemd</code> system and service manager, unit configuration files, their locations, as well as a complete list of <code class="literal">systemd</code> unit types, see the relevant sections in <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#managing-services-with-systemd_configuring-basic-system-settings">Configuring basic system settings</a></span></em></span>.
						</li></ul></div></section></section></section><section class="chapter" id="setting-limits-for-applications_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Setting limits for applications</h1></div></div></div><p>
			As a system administrator, use the control groups kernel functionality to set limits, prioritize or isolate the hardware resources of processes so that applications on your system are stable and do not run out of memory.
		</p><section class="section" id="what-are-control-groups_setting-limits-for-applications"><div class="titlepage"><div><div><h2 class="title">9.1. What are control groups</h2></div></div></div><p>
				<span class="emphasis"><em>Control groups</em></span> is a Linux kernel feature that enables you to organize processes into hierarchically ordered groups - <code class="literal">cgroups</code>. The hierarchy (control groups tree) is defined by providing structure to <code class="literal">cgroups</code> virtual file system, mounted by default on the <code class="literal">/sys/fs/cgroup/</code> directory. It is done manually by creating and removing sub-directories in <code class="literal">/sys/fs/cgroup/</code>. Alternatively, by using the <code class="literal">systemd</code> system and service manager.
			</p><p>
				The resource controllers (a kernel component) then modify the behavior of processes in <code class="literal">cgroups</code> by limiting, prioritizing or allocating system resources, (such as CPU time, memory, network bandwidth, or various combinations) of those processes.
			</p><p>
				The added value of <code class="literal">cgroups</code> is process aggregation which enables division of hardware resources among applications and users. Thereby an increase in overall efficiency, stability and security of users' environment can be achieved.
			</p><section class="section" id="control_groups_version_1"><div class="titlepage"><div><div><h3 class="title">9.1.1. Control groups version 1</h3></div></div></div><p>
					<span class="emphasis"><em>Control groups version 1</em></span> (<code class="literal">cgroups-v1</code>) provide a per-resource controller hierarchy. It means that each resource, such as CPU, memory, I/O, and so on, has its own control group hierarchy. It is possible to combine different control group hierarchies in a way that one controller can coordinate with another one in managing their respective resources. However, the two controllers may belong to different process hierarchies, which does not permit their proper coordination.
				</p><p>
					The <code class="literal">cgroups-v1</code> controllers were developed across a large time span and as a result, the behavior and naming of their control files is not uniform.
				</p><p>
					This sub-section was based on a Devconf.cz 2019 presentation.<a href="index.html#ftn.idm139665221152400" class="footnote"><sup class="footnote" id="idm139665221152400">[1]</sup></a>
				</p></section><section class="section" id="control_groups_version_2"><div class="titlepage"><div><div><h3 class="title">9.1.2. Control groups version 2</h3></div></div></div><p>
					The problems with controller coordination, which stemmed from hierarchy flexibility, led to the development of <span class="emphasis"><em>control groups version 2</em></span>.
				</p><p>
					<span class="emphasis"><em>Control groups version 2</em></span> (<code class="literal">cgroups-v2</code>) provides a single control group hierarchy against which all resource controllers are mounted.
				</p><p>
					The control file behavior and naming is consistent among different controllers.
				</p><p>
					This sub-section was based on a Devconf.cz 2019 presentation.<a href="index.html#ftn.idm139665221145824" class="footnote"><sup class="footnote" id="idm139665221145824">[2]</sup></a>
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Red Hat Enterprise Linux 8 provides <code class="literal">cgroups-v2</code> as a technology preview with a limited number of resource controllers. For more information about the relevant resource controllers, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/8.0_release_notes/technology_previews#BZ-1401552">cgroups-v2 release note</a></span></em></span>.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about resource controllers, see <a class="link" href="index.html#what-are-kernel-resource-controllers_setting-limits-for-applications" title="9.2. What are kernel resource controllers">What are kernel resource controllers</a> section and <code class="literal">cgroups(7)</code> manual pages.
						</li><li class="listitem">
							For more information about <code class="literal">cgroups</code> hierarchies and <code class="literal">cgroups</code> versions, refer to <code class="literal">cgroups(7)</code> manual pages.
						</li></ul></div></section></section><section class="section" id="what-are-kernel-resource-controllers_setting-limits-for-applications"><div class="titlepage"><div><div><h2 class="title">9.2. What are kernel resource controllers</h2></div></div></div><p>
				This section explains the concept of resource controllers in the Linux kernel and also lists supported controllers for <span class="emphasis"><em>control groups version 1</em></span> (<code class="literal">cgroups-v1</code>) and <span class="emphasis"><em>control groups version 2</em></span> (<code class="literal">cgroups-v2</code>) in Red Hat Enterprise Linux 8.
			</p><p>
				A resource controller, also called a <code class="literal">cgroup</code> subsystem, represents a single resource, such as CPU time, memory, network bandwidth or disk I/O. The Linux kernel provides a range of resource controllers that are mounted automatically by the <code class="literal">systemd</code> system and service manager. Find a list of currently mounted resource controllers in the <code class="literal">/proc/cgroups</code> entry.
			</p><p>
				The following controllers are available for <code class="literal">cgroups-v1</code>:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">blkio</code> - sets limits on input/output access to and from block devices.
					</li><li class="listitem">
						<code class="literal">cpu</code> - uses the CPU scheduler to provide the control group tasks with an access to the CPU. It is mounted together with the <code class="literal">cpuacct</code> controller on the same mount.
					</li><li class="listitem">
						<code class="literal">cpuacct</code> - creates automatic reports on CPU resources used by tasks in a control group. It is mounted together with the <code class="literal">cpu</code> controller on the same mount.
					</li><li class="listitem">
						<code class="literal">cpuset</code> - assigns individual CPUs on a multicore system and memory nodes to tasks in a control group.
					</li><li class="listitem">
						<code class="literal">devices</code> - grants or denies access to devices for tasks in a control group.
					</li><li class="listitem">
						<code class="literal">freezer</code> - suspends or resumes tasks in a control group.
					</li><li class="listitem">
						<code class="literal">memory</code> - sets limits on memory use by tasks in a control group and generates automatic reports on memory resources used by those tasks.
					</li><li class="listitem">
						<code class="literal">net_cls</code> - tags network packets with a class identifier (<code class="literal">classid</code>) that enables the Linux traffic controller (the <code class="literal">tc</code> command) to identify packets originating from a particular control group task. A subsystem of <code class="literal">net_cls</code>, the <code class="literal">net_filter</code> (iptables), can also use this tag to perform actions on such packets. The <code class="literal">net_filter</code> tags network sockets with a firewall identifier (<code class="literal">fwid</code>) that allows the Linux firewall (the <code class="literal">iptables</code> command) to identify packets originating from a particular control group task.
					</li><li class="listitem">
						<code class="literal">net_prio</code> - sets the priority of network traffic.
					</li><li class="listitem">
						<code class="literal">pids</code> - sets limits on number of processes and their children in a control group.
					</li><li class="listitem">
						<code class="literal">perf_event</code> - enables monitoring <code class="literal">cgroups</code> with the <code class="literal">perf</code> tool.
					</li><li class="listitem">
						<code class="literal">rdma</code> - sets limits on Remote Direct Memory Access/InfiniBand specific resources in a control group.
					</li><li class="listitem">
						<code class="literal">hugetlb</code> - enables to use virtual memory pages of large sizes and to enforce resource limits on these pages.
					</li></ul></div><p>
				The following controllers are available for <code class="literal">cgroups-v2</code>:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">io</code> - follow-up to <code class="literal">blkio</code> of <code class="literal">cgroups-v1</code>
					</li><li class="listitem">
						<code class="literal">memory</code> - follow-up to <code class="literal">memory</code> of <code class="literal">cgroups-v1</code>
					</li><li class="listitem">
						<code class="literal">pids</code> - same as <code class="literal">pids</code> in <code class="literal">cgroups-v1</code>
					</li><li class="listitem">
						<code class="literal">rdma</code> - same as <code class="literal">rdma</code> in <code class="literal">cgroups-v1</code>
					</li><li class="listitem">
						<code class="literal">cpu</code> - follow-up to <code class="literal">cpu</code> and <code class="literal">cpuacct</code> of <code class="literal">cgroups-v1</code>
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					A given resource controller can be employed either in a <code class="literal">cgroups-v1</code> hierarchy or a <code class="literal">cgroups-v2</code> hierarchy, not simultaneously in both.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about resource controllers in general, refer to the <code class="literal">cgroups(7)</code> manual page.
					</li><li class="listitem">
						For detailed descriptions of specific resource controllers, see the documentation in the <code class="literal">/usr/share/doc/kernel-doc-&lt;kernel_version&gt;/Documentation/cgroups-v1/</code> directory.
					</li><li class="listitem">
						For more information about <code class="literal">cgroups-v2</code>, refer to the <code class="literal">cgroups(7)</code> manual page.
					</li></ul></div></section><section class="section" id="what-are-namespaces_setting-limits-for-applications"><div class="titlepage"><div><div><h2 class="title">9.3. What are namespaces</h2></div></div></div><p>
				This section explains the concept of namespaces, their connection to <span class="emphasis"><em>control groups</em></span> and resource management.
			</p><p>
				Namespaces are a kernel feature that enables a virtual view of isolated system resources through the <code class="literal">/proc/self/ns/cgroup</code> interface. By isolating a process from system resources, you can specify and control what a process is able to interact with.
			</p><p>
				The purpose is to prevent leakage of privileged data from the global namespaces to <code class="literal">cgroup</code> and to enable other features, such as container migration.
			</p><p>
				The following namespaces are supported:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Mount</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The mount namespace isolates file system mount points, enabling each process to have a distinct filesystem space within wich to operate.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>UTS</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Hostname and NIS domain name
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>IPC</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								System V IPC, POSIX message queues
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>PID</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Process IDs
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Network</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Network devices, stacks, ports, etc.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>User</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								User and group IDs
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Control groups</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Isolates cgroups
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about namespaces, see the <code class="literal">namespaces(7)</code> and <code class="literal">cgroup_namespaces(7)</code> manual pages.
					</li><li class="listitem">
						For more information about <code class="literal">cgroups</code>, see <a class="link" href="index.html#what-are-control-groups_setting-limits-for-applications" title="9.1. What are control groups">What are control groups</a>.
					</li></ul></div></section><section class="section" id="using-control-groups-through-a-virtual-file-system_setting-limits-for-applications"><div class="titlepage"><div><div><h2 class="title">9.4. Using control groups through a virtual file system</h2></div></div></div><p>
				The following sections provide an overview of tasks related to creation, modification and removal of <span class="emphasis"><em>control groups</em></span> (<code class="literal">cgroups</code>) using the <code class="literal">/sys/fs/</code> virtual file system.
			</p><section class="section" id="setting-memory-limits-to-applications-through-cgroups-v1_using-control-groups-through-a-virtual-file-system"><div class="titlepage"><div><div><h3 class="title">9.4.1. Setting memory limits to applications through cgroups-v1</h3></div></div></div><p>
					This procedure describes how to use the <code class="literal">/sys/fs/</code> virtual file system to configure a memory limit to an application through <span class="emphasis"><em>control groups version 1</em></span> (<code class="literal">cgroups-v1</code>).
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Application to restrict
						</li><li class="listitem">
							Root permissions
						</li><li class="listitem">
							<a class="link" href="index.html#what-are-control-groups_setting-limits-for-applications" title="9.1. What are control groups">Control groups basic concept</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a sub-directory in the memory resource controller directory:
						</p><pre class="literallayout"># mkdir /sys/fs/cgroup/memory/example/</pre><p class="simpara">
							The directory above represents a control group, where you can place specific processes and apply certain memory limits to the processes.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, investigate the newly created control group:
						</p><pre class="literallayout"># ll /sys/fs/cgroup/memory/example/
-rw-r—​r--. 1 root root 0 Apr 25 16:34 cgroup.clone_children
--w—​w—​w-. 1 root root 0 Apr 25 16:34 cgroup.event_control
-rw-r—​r--. 1 root root 0 Apr 25 16:42 cgroup.procs
…​</pre><p class="simpara">
							The example output shows files that the <code class="literal">example</code> control group inherited from its parent resource controller. By default, the newly created control group inherited access to the system’s entire memory without a limit.
						</p></li><li class="listitem"><p class="simpara">
							Configure a memory limit of the control group:
						</p><pre class="literallayout"># echo 700000 &gt; /sys/fs/cgroup/memory/example/memory.limit_in_bytes</pre><p class="simpara">
							The example command sets the memory limit to 700 Kilobytes.
						</p></li><li class="listitem"><p class="simpara">
							Verify the limit:
						</p><pre class="literallayout"># cat /sys/fs/cgroup/memory/example/memory.limit_in_bytes
696320</pre><p class="simpara">
							The example output displays the memory limit value as a multiple of 4096 bytes - one kernel page size.
						</p></li><li class="listitem"><p class="simpara">
							Add the application’s PID to the control group:
						</p><pre class="literallayout"># echo 23453 &gt; /sys/fs/cgroup/memory/example/cgroup.procs</pre><p class="simpara">
							The example command ensures that a desired application does not exceed a memory limit configured in the control group. Your PID should come from an existing process in the system, <code class="literal">PID 23453</code> here is fictional.
						</p></li><li class="listitem"><p class="simpara">
							Verify that the application runs in the specified control group:
						</p><pre class="literallayout"># ps -o cgroup 23453
CGROUP
11:memory:/example,5:devices:/system.slice/example.service,4:pids:/system.slice/example.service,1:name=systemd:/system.slice/example.service</pre><p class="simpara">
							The example output above shows that the process of the desired application runs in the <code class="literal">example</code> control group, which applies a memory limit to the application’s process.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about resource controllers, see the <a class="link" href="index.html#what-are-kernel-resource-controllers_setting-limits-for-applications" title="9.2. What are kernel resource controllers">What are kernel resource controllers</a> section and the <code class="literal">cgroups(7)</code> manual page.
						</li><li class="listitem">
							For more information about <code class="literal">/sys/fs/</code>, see the <code class="literal">sysfs(5)</code> manual page.
						</li></ul></div></section></section><div class="footnotes"><br/><hr width="100" align="left"/><div id="ftn.idm139665221152400" class="footnote"><div class="para"><a href="index.html#idm139665221152400" class="simpara"><sup class="simpara">[1] </sup></a>
						Linux Control Group v2 - An Introduction, Devconf.cz 2019 presentation by Waiman Long
					</div></div><div id="ftn.idm139665221145824" class="footnote"><div class="para"><a href="index.html#idm139665221145824" class="simpara"><sup class="simpara">[2] </sup></a>
						Linux Control Group v2 - An Introduction, Devconf.cz 2019 presentation by Waiman Long
					</div></div></div></section><section class="chapter" id="analyzing-system-performance-with-bpf-compiler_collection_managing-monitoring-and-updating-the-kernel"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Analyzing system performance with BPF Compiler Collection</h1></div></div></div><p>
			As a system administrator, use the BPF Compiler Collection (BCC) library to create tools for analyzing the performance of your Linux operating system and gathering information, which could be difficult to obtain through other interfaces.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				The BCC library is a Technology Preview in Red Hat Enterprise Linux 8. See <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a></span></em></span> for more details.
			</p></div></div><section class="section" id="bcc_analyzing-system-performance-with-bpf-compiler_collection"><div class="titlepage"><div><div><h2 class="title">10.1. BCC</h2></div></div></div><p>
				BPF Compiler Collection (BCC) is a library, which facilitates the creation of the extended Berkeley Packet Filter (eBPF) programs. Their main utility is analyzing OS performance and network performance without experiencing overhead or security issues.
			</p><p>
				BCC removes the need for users to know deep technical details of eBPF, and provides many out-of-the-box starting points, such as the <code class="literal">bcc-tools</code> package with pre-created eBPF programs.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The eBPF programs are triggered on events, such as disk I/O, TCP connections, and process creations. It is unlikely that the programs should cause the kernel to crash, loop or become unresponsive because they run in a safe virtual machine in the kernel.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about BCC, see the <code class="literal">/usr/share/doc/bcc/README.md</code> file.
					</li></ul></div></section><section class="section" id="installing-bcc_analyzing-system-performance-with-bpf-compiler_collection"><div class="titlepage"><div><div><h2 class="title">10.2. Installing BCC</h2></div></div></div><p>
				This section describes how to install the <code class="literal">bcc-tools</code> package, which contains the BPF Compiler Collection (BCC) library.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An active <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#basics-registering-managing-subscriptions">Red Hat Enterprise Linux subscription</a></span></em></span>
					</li><li class="listitem">
						An <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#basics-installing-software">enabled repository</a></span></em></span> containing the <code class="literal">bcc-tools</code> package
					</li><li class="listitem">
						Introduction to <code class="literal application">yum</code> <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#installing-software-with-yum">package manager</a></span></em></span>
					</li><li class="listitem">
						<a class="link" href="index.html#updating-the-kernel_updating-kernel-with-yum" title="2.3. Updating the kernel">Updated kernel</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install <code class="literal">bcc-tools</code>:
					</p><pre class="screen"><code class="literal">#</code> <code class="literal command">yum install bcc-tools</code></pre><p class="simpara">
						Once installed, the tools are placed in the <code class="literal">/usr/share/bcc/tools/</code> directory.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, inspect the tools:
					</p><pre class="screen"><code class="literal">#</code> <code class="literal command">ll /usr/share/bcc/tools/</code>
...
-rwxr-xr-x. 1 root root  4198 Dec 14 17:53 dcsnoop
-rwxr-xr-x. 1 root root  3931 Dec 14 17:53 dcstat
-rwxr-xr-x. 1 root root 20040 Dec 14 17:53 deadlock_detector
-rw-r--r--. 1 root root  7105 Dec 14 17:53 deadlock_detector.c
drwxr-xr-x. 3 root root  8192 Mar 11 10:28 doc
-rwxr-xr-x. 1 root root  7588 Dec 14 17:53 execsnoop
-rwxr-xr-x. 1 root root  6373 Dec 14 17:53 ext4dist
-rwxr-xr-x. 1 root root 10401 Dec 14 17:53 ext4slower
...</pre><p class="simpara">
						The <code class="literal">doc</code> directory in the listing above contains documentation for each tool.
					</p></li></ol></div></section><section class="section" id="using-selected-bcc-tools-for-performance-analyses_analyzing-system-performance-with-bpf-compiler_collection"><div class="titlepage"><div><div><h2 class="title">10.3. Using selected bcc-tools for performance analyses</h2></div></div></div><p>
				This section describes how to use certain pre-created programs from the BPF Compiler Collection (BCC) library to efficiently and securely analyze the system performance on the per-event basis. The set of pre-created programs in the BCC library can serve as examples for creation of additional programs.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#bcc_analyzing-system-performance-with-bpf-compiler_collection" title="10.1. BCC">Introduction to BCC</a>
					</li><li class="listitem">
						<a class="link" href="index.html#installing-bcc_analyzing-system-performance-with-bpf-compiler_collection" title="10.2. Installing BCC">Installed BCC library</a>
					</li><li class="listitem">
						Root permissions
					</li></ul></div><h4 id="using_execsnoop_to_examine_the_system_processes">Using execsnoop to examine the system processes</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the <code class="literal">execsnoop</code> program in one terminal:
					</p><pre class="screen"># /usr/share/bcc/tools/execsnoop</pre></li><li class="listitem"><p class="simpara">
						In another terminal execute for example:
					</p><pre class="screen">$ ls /usr/share/bcc/tools/doc/</pre><p class="simpara">
						The above creates a short-lived process of the <code class="literal">ls</code> command.
					</p></li><li class="listitem"><p class="simpara">
						The terminal running <code class="literal">execsnoop</code> shows the output similar to the following:
					</p><pre class="screen">PCOMM	PID    PPID   RET ARGS
ls   	8382   8287     0 /usr/bin/ls --color=auto /usr/share/bcc/tools/doc/
sed 	8385   8383     0 /usr/bin/sed s/^ *[0-9]\+ *//
...</pre><p class="simpara">
						The <code class="literal">execsnoop</code> program prints a line of output for each new process, which consumes system resources. It even detects processes of programs that run very shortly, such as <code class="literal">ls</code>, and most monitoring tools would not register them.
					</p><p class="simpara">
						The result above shows a parent process name (<code class="literal">ls</code>), its process ID (<code class="literal">5076</code>), parent process ID (<code class="literal">2931</code>), the return value of the <code class="literal">exec()</code> system call (<code class="literal">0</code>), which loads program code into new processes. Finally, the output displays a location of the started program with arguments (<code class="literal">/usr/bin/ls --color=auto /usr/share/bcc/tools/doc/</code>).
					</p></li></ol></div><p>
				To see more details, examples, and options for <code class="literal">execsnoop</code>, refer to the <code class="literal">/usr/share/bcc/tools/doc/execsnoop_example.txt</code> file.
			</p><p>
				For more information about <code class="literal">exec()</code>, see <code class="literal">exec(3)</code> manual pages.
			</p><h4 id="using_opensnoop_to_track_what_files_a_command_opens">Using opensnoop to track what files a command opens</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the <code class="literal">opensnoop</code> program in one terminal:
					</p><pre class="screen"><code class="literal"># /usr/share/bcc/tools/opensnoop -n uname</code></pre><p class="simpara">
						The above prints output for files, which are opened only by the process of the <code class="literal">uname</code> command.
					</p></li><li class="listitem"><p class="simpara">
						In another terminal execute:
					</p><pre class="screen"> <code class="literal">$ uname</code></pre><p class="simpara">
						The command above opens certain files, which are captured in the next step.
					</p></li><li class="listitem"><p class="simpara">
						The terminal running <code class="literal">opensnoop</code> shows the output similar to the following:
					</p><pre class="screen">PID    COMM 	FD ERR PATH
8596   uname 	3  0   /etc/ld.so.cache
8596   uname 	3  0   /lib64/libc.so.6
8596   uname 	3  0   /usr/lib/locale/locale-archive
...</pre><p class="simpara">
						The <code class="literal">opensnoop</code> program watches the <code class="literal">open()</code> system call across the whole system, and prints a line of output for each file that <code class="literal">uname</code> tried to open along the way.
					</p><p class="simpara">
						The result above shows a process ID (<code class="literal">PID</code>), a process name (<code class="literal">COMM</code>), and a file descriptor (<code class="literal">FD</code>) - a value that <code class="literal">open()</code> returns to refer to the open file. Finally, the output displays a column for errors (<code class="literal">ERR</code>) and a location of files that <code class="literal">open()</code> tries to open (<code class="literal">PATH</code>).
					</p><p class="simpara">
						If a command tries to read a non-existent file, then the <code class="literal">FD</code> column returns <code class="literal">-1</code> and the <code class="literal">ERR</code> column prints a value corresponding to the relevant error. As a result, <code class="literal">opensnoop</code> can help you identify an application that does not behave properly.
					</p></li></ol></div><p>
				To see more details, examples, and options for <code class="literal">opensnoop</code>, refer to the <code class="literal">/usr/share/bcc/tools/doc/opensnoop_example.txt</code> file.
			</p><p>
				For more information about <code class="literal">open()</code>, see <code class="literal">open(2)</code> manual pages.
			</p><h4 id="using_biotop_to_examine_the_i_o_operations_on_the_disk">Using biotop to examine the I/O operations on the disk</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the <code class="literal">biotop</code> program in one terminal:
					</p><pre class="screen"><code class="literal"># /usr/share/bcc/tools/biotop 30</code></pre><p class="simpara">
						The command enables you to monitor the top processes, which perform I/O operations on the disk. The argument ensures that the command will produce a 30 second summary.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When no argument provided, the output screen by default refreshes every 1 second.
						</p></div></div></li><li class="listitem"><p class="simpara">
						In another terminal execute for example :
					</p><pre class="screen"><code class="literal">#</code> <code class="literal command">dd if=/dev/vda of=/dev/zero</code></pre><p class="simpara">
						The command above reads the content from the local hard disk device and writes the output to the <code class="literal">/dev/zero</code> file. This step generates certain I/O traffic to illustrate <code class="literal">biotop</code>.
					</p></li><li class="listitem"><p class="simpara">
						The terminal running <code class="literal">biotop</code> shows the output similar to the following:
					</p><pre class="screen">PID    COMM             D MAJ MIN DISK       I/O  Kbytes     AVGms
9568   dd               R 252 0   vda      16294 14440636.0  3.69
48     kswapd0          W 252 0   vda       1763 120696.0    1.65
7571   gnome-shell      R 252 0   vda        834 83612.0     0.33
1891   gnome-shell      R 252 0   vda       1379 19792.0     0.15
7515   Xorg             R 252 0   vda        280  9940.0     0.28
7579   llvmpipe-1       R 252 0   vda        228  6928.0     0.19
9515   gnome-control-c  R 252 0   vda         62  6444.0     0.43
8112   gnome-terminal-  R 252 0   vda         67  2572.0     1.54
7807   gnome-software   R 252 0   vda         31  2336.0     0.73
9578   awk              R 252 0   vda         17  2228.0     0.66
7578   llvmpipe-0       R 252 0   vda        156  2204.0     0.07
9581   pgrep            R 252 0   vda         58  1748.0     0.42
7531   InputThread      R 252 0   vda         30  1200.0     0.48
7504   gdbus            R 252 0   vda          3  1164.0     0.30
1983   llvmpipe-1       R 252 0   vda         39   724.0     0.08
1982   llvmpipe-0       R 252 0   vda         36   652.0     0.06
...</pre><p class="simpara">
						The results shows that the <code class="literal">dd</code> process, with the process ID 9568, performed 16,294 read operations from the <code class="literal">vda</code> disk. The read operations reached total of 14,440,636 Kbytes with an average I/O time 3.69 ms.
					</p></li></ol></div><p>
				To see more details, examples, and options for <code class="literal">biotop</code>, refer to the <code class="literal">/usr/share/bcc/tools/doc/biotop_example.txt</code> file.
			</p><p>
				For more information about <code class="literal">dd</code>, see <code class="literal">dd(1)</code> manual pages.
			</p><h4 id="using_xfsslower_to_expose_unexpectedly_slow_file_system_operations">Using xfsslower to expose unexpectedly slow file system operations</h4><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Execute the <code class="literal">xfsslower</code> program in one terminal:
					</p><pre class="screen"><code class="literal"># /usr/share/bcc/tools/xfsslower 1</code></pre><p class="simpara">
						The command above measures the time the XFS file system spends in performing read, write, open or sync (<code class="literal">fsync</code>) operations. The <code class="literal">1</code> argument ensures that the program shows only the operations that are slower than 1 ms.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When no arguments provided, <code class="literal">xfsslower</code> by default displays operations slower than 10 ms.
						</p></div></div></li><li class="listitem"><p class="simpara">
						In another terminal execute, for example, the following:
					</p><pre class="screen"><code class="literal">$ vim text</code></pre><p class="simpara">
						The command above creates a text file in the <code class="literal">vim</code> editor to initiate certain interaction with the XFS file system.
					</p></li><li class="listitem"><p class="simpara">
						The terminal running <code class="literal">xfsslower</code> shows something similar upon saving the file from the previous step:
					</p><pre class="screen">TIME     COMM           PID    T BYTES   OFF_KB   LAT(ms) FILENAME
13:07:14 b'bash'        4754   R 256     0           7.11 b'vim'
13:07:14 b'vim'         4754   R 832     0           4.03 b'libgpm.so.2.1.0'
13:07:14 b'vim'         4754   R 32      20          1.04 b'libgpm.so.2.1.0'
13:07:14 b'vim'         4754   R 1982    0           2.30 b'vimrc'
13:07:14 b'vim'         4754   R 1393    0           2.52 b'getscriptPlugin.vim'
13:07:45 b'vim'         4754   S 0       0           6.71 b'text'
13:07:45 b'pool'        2588   R 16      0           5.58 b'text'
...</pre><p class="simpara">
						Each line above represents an operation in the file system, which took more time than a certain threshold. <code class="literal">xfsslower</code> is good at exposing possible file system problems, which can take form of unexpectedly slow operations.
					</p><p class="simpara">
						The <code class="literal">T</code> column represents operation type (<span class="strong strong"><strong>R</strong></span>ead/<span class="strong strong"><strong>W</strong></span>rite/<span class="strong strong"><strong>S</strong></span>ync), <code class="literal">OFF_KB</code> is a file offset in KB. <code class="literal">FILENAME</code> is the file the process (<code class="literal">COMM</code>) is trying to read, write, or sync.
					</p></li></ol></div><p>
				To see more details, examples, and options for <code class="literal">xfsslower</code>, refer to the <code class="literal">/usr/share/bcc/tools/doc/xfsslower_example.txt</code> file.
			</p><p>
				For more information about <code class="literal">fsync</code>, see <code class="literal">fsync(2)</code> manual pages.
			</p></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm139665230127408"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2019 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="l_summit.png" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
