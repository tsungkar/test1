<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="b87908b6-1e9c-4d34-8396-6ecec6663f7e" product="f321f43a-4a79-48fe-8aae-117b9d973ec0" revision="8a90df197ba2018a9b99f2af6f84b496db285510:en-us" page="8d8f5cee-7547-4cee-b8ce-ae8c39e5b592" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/index" />
<meta property="og:title" content="Monitoring and managing system status and performance Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta property="og:description" content="This documentation collection provides instructions on how to monitor and optimize the throughput, latency, and power consumption of Red Hat Enterprise Linux 8 in different scenarios." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/index" />
<meta name="twitter:title" content="Monitoring and managing system status and performance Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This documentation collection provides instructions on how to monitor and optimize the throughput, latency, and power consumption of Red Hat Enterprise Linux 8 in different scenarios." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Monitoring and managing system status and performance Red Hat Enterprise Linux 8 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs07.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="2070d6b" />
<meta name="cp-chrome-build-date" content="2020-03-09T20:28:54.189Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "2070d6b",
        builddate : "2020-03-09T20:28:54.189Z",
        fetchdate : "2020-03-11T07:52:05-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=2070d6b.css" />

<link href="chosen.css%3Fv=2070d6b.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=2070d6b" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__1YIht1y1Jlm9D0PyxEuhS3DlWdYAlEsNpsFDOaUsfRw__ZnC7278ZsqBG-1FOUqflDl8B3Y1kLiAWXAIkoLrHbYg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       'b87908b6-1e9c-4d34-8396-6ecec6663f7e');
attributes.set('ResourceTitle',    'Monitoring and managing system status and performance');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       '8a90df197ba2018a9b99f2af6f84b496db285510:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat Enterprise Linux');
attributes.set('ProductVersion',   '8');
attributes.set('ProductId',        'Red Hat Enterprise Linux 8');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat Enterprise Linux", "/documentation/en-us/red_hat_enterprise_linux/"], ["8", "/documentation/en-us/red_hat_enterprise_linux/8/"], ["Monitoring and managing system status and performance", "/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__veGxEiPQW6fkzAPZnAFA23SFz1CyJy2dlu6x8XuHM4s__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"OMR0iwzokmpQNN0zvduUmVsSR54Zf5aLTtdkTqkQgS0","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-group-group, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-group-group-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-group-group-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-group-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs05-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page admin-bar  kcs_external" >

  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
            <defs>
              <style>
                .rh-logo-hat {
                  fill: #e00;
                }
                .rh-logo-type {
                  fill: #fff;
                }
              </style>
            </defs>
            <title>Red Hat</title>
            <path
              class="rh-logo-hat"
              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
              <path class="rh-logo-band"
              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
              <path
              class="rh-logo-type"
              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
          </svg>
        </span>
        <span class="site-title"><span>Customer </span><span>Portal</span></span>
    </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <div class="input-group push-bottom">

                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Troubleshooting an issue? Try <a href="https://access.redhat.com/solution-engine">Solution Engine</a>&mdash;our new support tool.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                        <span class="logo-crop">
                          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                            <defs>
                              <style>
                                .rh-logo-hat {
                                  fill: #e00;
                                }
                                .rh-logo-type {
                                  fill: #fff;
                                }
                              </style>
                            </defs>
                            <title>Red Hat</title>
                            <path
                              class="rh-logo-hat"
                              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                              <path class="rh-logo-band"
                              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                              <path
                              class="rh-logo-type"
                              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                          </svg>
                        </span>
                        <span class="site-title"><span>Customer </span><span>Portal</span></span>
                    </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        <li><a href="https://access.redhat.com/ecosystem/" class="cta-link cta-link-darkbg">Ecosystem</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/">日本語</a></li>
                      <li><a href="index.html">English</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/pdf/monitoring_and_managing_system_status_and_performance/Red_Hat_Enterprise_Linux-8-Monitoring_and_managing_system_status_and_performance-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/epub/monitoring_and_managing_system_status_and_performance/Red_Hat_Enterprise_Linux-8-Monitoring_and_managing_system_status_and_performance-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Monitoring and managing system status and performance</a></li><li class=" leaf"><a href="index.html#proc_providing-feedback-on-red-hat-documentation_monitoring-and-managing-system-status-and-performance">Providing feedback on Red Hat documentation</a></li><li class=" leaf"><a href="index.html#getting-started-with-tuned_monitoring-and-managing-system-status-and-performance">1. Getting started with Tuned</a><ol class="menu"><li class=" leaf"><a href="index.html#the-purpose-of-tuned_getting-started-with-tuned">1.1. The purpose of Tuned</a></li><li class=" leaf"><a href="index.html#tuned-profiles_getting-started-with-tuned">1.2. Tuned profiles</a></li><li class=" leaf"><a href="index.html#tuned-profiles-distributed-with-rhel_getting-started-with-tuned">1.3. Tuned profiles distributed with RHEL</a></li><li class=" leaf"><a href="index.html#static-and-dynamic-tuning-in-tuned_getting-started-with-tuned">1.4. Static and dynamic tuning in Tuned</a></li><li class=" leaf"><a href="index.html#tuned-no-daemon-mode_getting-started-with-tuned">1.5. Tuned no-daemon mode</a></li><li class=" leaf"><a href="index.html#installing-and-enabling-tuned_getting-started-with-tuned">1.6. Installing and enabling Tuned</a></li><li class=" leaf"><a href="index.html#listing-available-tuned-profiles_getting-started-with-tuned">1.7. Listing available Tuned profiles</a></li><li class=" leaf"><a href="index.html#setting-a-tuned-profile_getting-started-with-tuned">1.8. Setting a Tuned profile</a></li><li class=" leaf"><a href="index.html#disabling-tuned_getting-started-with-tuned">1.9. Disabling Tuned</a></li><li class=" leaf"><a href="index.html#related-information-getting-started-with-tuned">1.10. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#customizing-tuned-profiles_monitoring-and-managing-system-status-and-performance">2. Customizing Tuned profiles</a><ol class="menu"><li class=" leaf"><a href="index.html#tuned-profiles_customizing-tuned-profiles">2.1. Tuned profiles</a></li><li class=" leaf"><a href="index.html#inheritance-between-tuned-profiles_customizing-tuned-profiles">2.2. Inheritance between Tuned profiles</a></li><li class=" leaf"><a href="index.html#static-and-dynamic-tuning-in-tuned_customizing-tuned-profiles">2.3. Static and dynamic tuning in Tuned</a></li><li class=" leaf"><a href="index.html#tuned-plug-ins_customizing-tuned-profiles">2.4. Tuned plug-ins</a></li><li class=" leaf"><a href="index.html#available-tuned-plug-ins_customizing-tuned-profiles">2.5. Available Tuned plug-ins</a></li><li class=" leaf"><a href="index.html#variables-and-built-in-functions-in-tuned-profiles_customizing-tuned-profiles">2.6. Variables and built-in functions in Tuned profiles</a></li><li class=" leaf"><a href="index.html#built-in-functions-available-in-tuned-profiles_customizing-tuned-profiles">2.7. Built-in functions available in Tuned profiles</a></li><li class=" leaf"><a href="index.html#creating-new-tuned-profiles_customizing-tuned-profiles">2.8. Creating new Tuned profiles</a></li><li class=" leaf"><a href="index.html#modifying-existing-tuned-profiles_customizing-tuned-profiles">2.9. Modifying existing Tuned profiles</a></li><li class=" leaf"><a href="index.html#setting-the-disk-scheduler-using-tuned_customizing-tuned-profiles">2.10. Setting the disk scheduler using Tuned</a></li><li class=" leaf"><a href="index.html#related-information-customizing-tuned-profiles">2.11. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#monitoring-performance-with-performance-co-pilot_monitoring-and-managing-system-status-and-performance">3. Monitoring performance with Performance Co-Pilot</a><ol class="menu"><li class=" leaf"><a href="index.html#overview-of-pcp_monitoring-performance-with-performance-co-pilot">3.1. Overview of PCP</a></li><li class=" leaf"><a href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot">3.2. Installing and enabling PCP</a></li><li class=" leaf"><a href="index.html#deploying-a-minimal-pcp-setup_monitoring-performance-with-performance-co-pilot">3.3. Deploying a minimal PCP setup</a></li><li class=" leaf"><a href="index.html#logging-performance-data-with-pmlogger_monitoring-performance-with-performance-co-pilot">3.4. Logging performance data with pmlogger</a><ol class="menu"><li class=" leaf"><a href="index.html#modifying-the-pmlogger-configuration-file-with-pmlogconf_logging-performance-data-with-pmlogger">3.4.1. Modifying the pmlogger configuration file with pmlogconf</a></li><li class=" leaf"><a href="index.html#editing-the-pmlogger-configuration-file-manually_logging-performance-data-with-pmlogger">3.4.2. Editing the pmlogger configuration file manually</a></li><li class=" leaf"><a href="index.html#enabling-the-pmlogger-service_logging-performance-data-with-pmlogger">3.4.3. Enabling the pmlogger service</a></li><li class=" leaf"><a href="index.html#setting-up-a-client-system-for-metrics-collection_logging-performance-data-with-pmlogger">3.4.4. Setting up a client system for metrics collection</a></li><li class=" leaf"><a href="index.html#setting-up-the-central-server-to-collect-data_logging-performance-data-with-pmlogger">3.4.5. Setting up a central server to collect data</a></li><li class=" leaf"><a href="index.html#replaying-the-pcp-log-archives_logging-performance-data-with-pmlogger">3.4.6. Replaying the PCP log archives with pmdumptext</a></li></ol></li><li class=" leaf"><a href="index.html#monitoring-postfix-with-pmda-postfix_monitoring-performance-with-performance-co-pilot">3.5. Monitoring postfix with pmda-postfix</a></li><li class=" leaf"><a href="index.html#visually-tracing-pcp-log-archives-with-pcp-charts_monitoring-performance-with-performance-co-pilot">3.6. Visually tracing PCP log archives with the PCP Charts application</a></li><li class=" leaf"><a href="index.html#xfs-file-system-performance-analysis-with-pcp_monitoring-performance-with-performance-co-pilot">3.7. XFS file system performance analysis with PCP</a><ol class="menu"><li class=" leaf"><a href="index.html#installing-xfs-pmda-manually_xfs-file-system-performance-analysis-with-pcp">3.7.1. Installing XFS PMDA manually</a></li><li class=" leaf"><a href="index.html#examining-xfs-performance-metrics-with-pminfo_xfs-file-system-performance-analysis-with-pcp">3.7.2. Examining XFS performance metrics with pminfo</a></li><li class=" leaf"><a href="index.html#resetting-xfs-performance-metrics-with-pmstore_xfs-file-system-performance-analysis-with-pcp">3.7.3. Resetting XFS performance metrics with pmstore</a></li><li class=" leaf"><a href="index.html#examining-xfs-metrics-available-per-file-system_xfs-file-system-performance-analysis-with-pcp">3.7.4. Examining XFS metrics available per file system</a></li></ol></li><li class=" leaf"><a href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot">3.8. System services distributed with PCP</a></li><li class=" leaf"><a href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot">3.9. Tools distributed with PCP</a></li><li class=" leaf"><a href="index.html#pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot">3.10. PCP metric groups for XFS</a></li><li class=" leaf"><a href="index.html#per-device-pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot">3.11. Per-device PCP metric groups for XFS</a></li></ol></li><li class=" leaf"><a href="index.html#using-the-web-console-for-selecting-performance-profiles_monitoring-and-managing-system-status-and-performance">4. Using the web console for selecting performance profiles</a></li><li class=" leaf"><a href="index.html#setting-the-disk-scheduler_monitoring-and-managing-system-status-and-performance">5. Setting the disk scheduler</a><ol class="menu"><li class=" leaf"><a href="index.html#disk-scheduler-changes-in-rhel-8_setting-the-disk-scheduler">5.1. Disk scheduler changes in RHEL 8</a></li><li class=" leaf"><a href="index.html#available-disk-schedulers_setting-the-disk-scheduler">5.2. Available disk schedulers</a></li><li class=" leaf"><a href="index.html#recommended-disk-schedulers-for-different-use-cases_setting-the-disk-scheduler">5.3. Recommended disk schedulers for different use cases</a></li><li class=" leaf"><a href="index.html#the-default-disk-scheduler_setting-the-disk-scheduler">5.4. The default disk scheduler</a></li><li class=" leaf"><a href="index.html#determining-the-active-disk-scheduler_setting-the-disk-scheduler">5.5. Determining the active disk scheduler</a></li><li class=" leaf"><a href="index.html#setting-the-disk-scheduler-using-tuned_setting-the-disk-scheduler">5.6. Setting the disk scheduler using Tuned</a></li><li class=" leaf"><a href="index.html#setting-the-disk-scheduler-using-udev-rules_setting-the-disk-scheduler">5.7. Setting the disk scheduler using udev rules</a></li><li class=" leaf"><a href="index.html#temporarily-setting-a-scheduler-for-a-specific-disk_setting-the-disk-scheduler">5.8. Temporarily setting a scheduler for a specific disk</a></li></ol></li><li class=" leaf"><a href="index.html#assembly_tuning-the-performance-of-a-samba-server_monitoring-and-managing-system-status-and-performance">6. Tuning the performance of a Samba server</a><ol class="menu"><li class=" leaf"><a href="index.html#proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server">6.1. Setting the SMB protocol version</a></li><li class=" leaf"><a href="index.html#proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server">6.2. Tuning shares with directories that contain a large number of files</a></li><li class=" leaf"><a href="index.html#con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server">6.3. Settings that can have a negative performance impact</a></li></ol></li><li class=" leaf"><a href="index.html#optimizing-virtual-machine-performance-in-rhel-8_monitoring-and-managing-system-status-and-performance">7. Optimizing virtual machine performance</a><ol class="menu"><li class=" leaf"><a href="index.html#what-influences-virtual-machine-performance_optimizing-virtual-machine-performance-in-rhel-8">7.1. What influences virtual machine performance</a></li><li class=" leaf"><a href="index.html#optimizing-virtual-machine-performance-using-tuned_optimizing-virtual-machine-performance-in-rhel-8">7.2. Optimizing virtual machine performance using tuned</a></li><li class=" leaf"><a href="index.html#optimizing-virtual-machine-i-o-performance_optimizing-virtual-machine-performance-in-rhel-8">7.3. Optimizing virtual machine I/O performance</a><ol class="menu"><li class=" leaf"><a href="index.html#tuning-block-i-o-in-virtual-machines_optimizing-virtual-machine-i-o-performance">7.3.1. Tuning block I/O in virtual machines</a></li><li class=" leaf"><a href="index.html#disk-i-o-throttling-in-virtual-machines_optimizing-virtual-machine-i-o-performance">7.3.2. Disk I/O throttling in virtual machines</a></li><li class=" leaf"><a href="index.html#configuring-multi-queue-virtio-scsi_optimizing-virtual-machine-i-o-performance">7.3.3. Enabling multi-queue virtio-scsi</a></li></ol></li><li class=" leaf"><a href="index.html#optimizing-virtual-machine-cpu-performance_optimizing-virtual-machine-performance-in-rhel-8">7.4. Optimizing virtual machine CPU performance</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-numa-in-a-virtual-machine_optimizing-virtual-machine-cpu-performance">7.4.1. Configuring NUMA in a virtual machine</a></li><li class=" leaf"><a href="index.html#sample-vcpu-performance-tuning-scenario_optimizing-virtual-machine-cpu-performance">7.4.2. Sample vCPU performance tuning scenario</a></li></ol></li><li class=" leaf"><a href="index.html#optimizing-virtual-machine-network-performance_optimizing-virtual-machine-performance-in-rhel-8">7.5. Optimizing virtual machine network performance</a></li><li class=" leaf"><a href="index.html#virtual-machine-performance-monitoring-tools_optimizing-virtual-machine-performance-in-rhel-8">7.6. Virtual machine performance monitoring tools</a></li><li class=" leaf"><a href="index.html#related-information-optimizing-virtual-machine-performance-in-rhel-8">7.7. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#managing-power-consumption-with-powertop_monitoring-and-managing-system-status-and-performance">8. Managing power consumption with PowerTOP</a><ol class="menu"><li class=" leaf"><a href="index.html#the-purpose-of-powertop_managing-power-consumption-with-powertop">8.1. The purpose of PowerTOP</a></li><li class=" leaf"><a href="index.html#using-powertop_managing-power-consumption-with-powertop">8.2. Using PowerTOP</a><ol class="menu"><li class=" leaf"><a href="index.html#starting-powertop_using-powertop">8.2.1. Starting PowerTOP</a></li><li class=" leaf"><a href="index.html#calibrating-powertop_using-powertop">8.2.2. Calibrating PowerTOP</a></li><li class=" leaf"><a href="index.html#setting-the-measuring-interval_using-powertop">8.2.3. Setting the measuring interval</a></li><li class=" leaf"><a href="index.html#related-information-using-powertop">8.2.4. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#powertop-statistics_managing-power-consumption-with-powertop">8.3. PowerTOP statistics</a><ol class="menu"><li class=" leaf"><a href="index.html#overview-tab_managing-power-consumption-with-powertop">8.3.1. The Overview tab</a></li><li class=" leaf"><a href="index.html#idle-stats-tab_managing-power-consumption-with-powertop">8.3.2. The Idle stats tab</a></li><li class=" leaf"><a href="index.html#device-stats-tab_managing-power-consumption-with-powertop">8.3.3. The Device stats tab</a></li><li class=" leaf"><a href="index.html#tunables-tab_managing-power-consumption-with-powertop">8.3.4. The Tunables tab</a></li></ol></li><li class=" leaf"><a href="index.html#generating-an-html-output_managing-power-consumption-with-powertop">8.4. Generating an HTML output</a></li><li class=" leaf"><a href="index.html#optimizing-power-consumption_managing-power-consumption-with-powertop">8.5. Optimizing power consumption</a><ol class="menu"><li class=" leaf"><a href="index.html#optimizing-power-consumption-using-the-powertop-service_optimizing-power-consumption">8.5.1. Optimizing power consumption using the powertop service</a></li><li class=" leaf"><a href="index.html#powertop2tuned-utility_optimizing-power-consumption">8.5.2. The powertop2tuned utility</a></li><li class=" leaf"><a href="index.html#optimizing-power-consumption-with-powertop2tuned_optimizing-power-consumption">8.5.3. Optimizing power consumption using the powertop2tuned utility</a></li><li class=" leaf"><a href="index.html#con_comparison-of-powertop-service-and-powertop2tuned_optimizing-power-consumption">8.5.4. Comparison of powertop.service and powertop2tuned</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#idm139692455275536">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-training-banner"  >
  
      
  
  <div class="card card-light card-md push-bottom">
  <h2 class="card-heading card-heading-red card-heading-sm card-heading-flush">Red Hat Training</h2>
  <p>A Red Hat training course is available for <a href="https://www.redhat.com/en/services/training/courses-by-curriculum?intcmp=701f2000001D4OtAAK&amp;#Red-Hat-Enterprise-Linux" class="cta-link">RHEL 8</a></p>
</div>

  
  </div>
<div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Monitoring and managing system status and performance</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm139692462563920"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">8</span></div><div><h2 class="subtitle">Optimizing system throughput, latency, and power consumption</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="index.html#idm139692455275536">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This documentation collection provides instructions on how to monitor and optimize the throughput, latency, and power consumption of Red Hat Enterprise Linux 8 in different scenarios.
			</div></div></div></div><hr/></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p>
			We appreciate your input on our documentation. Please let us know how we could make it better. To do so:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					For simple comments on specific passages:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Make sure you are viewing the documentation in the <span class="emphasis"><em>Multi-page HTML</em></span> format. In addition, ensure you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner of the document.
						</li><li class="listitem">
							Use your mouse cursor to highlight the part of text that you want to comment on.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Add Feedback</strong></span> pop-up that appears below the highlighted text.
						</li><li class="listitem">
							Follow the displayed instructions.
						</li></ol></div></li><li class="listitem"><p class="simpara">
					For submitting more complex feedback, create a Bugzilla ticket:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Go to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">Bugzilla</a> website.
						</li><li class="listitem">
							As the Component, use <span class="strong strong"><strong>Documentation</strong></span>.
						</li><li class="listitem">
							Fill in the <span class="strong strong"><strong>Description</strong></span> field with your suggestion for improvement. Include a link to the relevant part(s) of documentation.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Submit Bug</strong></span>.
						</li></ol></div></li></ul></div></section><section class="chapter" id="getting-started-with-tuned_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Getting started with Tuned</h1></div></div></div><p>
			As a system administrator, you can use the <span class="strong strong"><strong>Tuned</strong></span> application to optimize the performance profile of your system for a variety of use cases.
		</p><section class="section" id="the-purpose-of-tuned_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.1. The purpose of Tuned</h2></div></div></div><p>
				<span class="strong strong"><strong>Tuned</strong></span> is a service that monitors your system and optimizes the performance under certain workloads. The core of <span class="strong strong"><strong>Tuned</strong></span> are <span class="emphasis"><em>profiles</em></span>, which tune your system for different use cases.
			</p><p>
				<span class="strong strong"><strong>Tuned</strong></span> is distributed with a number of predefined profiles for use cases such as:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						High throughput
					</li><li class="listitem">
						Low latency
					</li><li class="listitem">
						Saving power
					</li></ul></div><p>
				It is possible to modify the rules defined for each profile and customize how to tune a particular device. When you switch to another profile or deactivate <span class="strong strong"><strong>Tuned</strong></span>, all changes made to the system settings by the previous profile revert back to their original state.
			</p><p>
				You can also configure <span class="strong strong"><strong>Tuned</strong></span> to react to changes in device usage and adjusts settings to improve performance of active devices and reduce power consumption of inactive devices.
			</p></section><section class="section" id="tuned-profiles_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.2. Tuned profiles</h2></div></div></div><p>
				A detailed analysis of a system can be very time-consuming. <span class="strong strong"><strong>Tuned</strong></span> provides a number of predefined profiles for typical use cases. You can also create, modify, and delete profiles.
			</p><p>
				The profiles provided with <span class="strong strong"><strong>Tuned</strong></span> are divided into the following categories:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Power-saving profiles
					</li><li class="listitem">
						Performance-boosting profiles
					</li></ul></div><p>
				The performance-boosting profiles include profiles that focus on the following aspects:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Low latency for storage and network
					</li><li class="listitem">
						High throughput for storage and network
					</li><li class="listitem">
						Virtual machine performance
					</li><li class="listitem">
						Virtualization host performance
					</li></ul></div><h4 id="the_default_profile">The default profile</h4><p>
				During the installation, the best profile for your system is selected automatically. Currently, the default profile is selected according to the following customizable rules:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 29%; " class="col_1"><!--Empty--></col><col style="width: 29%; " class="col_2"><!--Empty--></col><col style="width: 43%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139692463039248" scope="col">Environment</th><th align="left" valign="top" id="idm139692460687456" scope="col">Default profile</th><th align="left" valign="top" id="idm139692460686368" scope="col">Goal</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139692463039248"> <p>
								Compute nodes
							</p>
							 </td><td align="left" valign="top" headers="idm139692460687456"> <p>
								<code class="literal">throughput-performance</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692460686368"> <p>
								The best throughput performance
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692463039248"> <p>
								Virtual machines
							</p>
							 </td><td align="left" valign="top" headers="idm139692460687456"> <p>
								<code class="literal">virtual-guest</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692460686368"> <p>
								The best performance. If you are not interested in the best performance, you can change it to the <code class="literal">balanced</code> or <code class="literal">powersave</code> profile.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692463039248"> <p>
								Other cases
							</p>
							 </td><td align="left" valign="top" headers="idm139692460687456"> <p>
								<code class="literal">balanced</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692460686368"> <p>
								Balanced performance and power consumption
							</p>
							 </td></tr></tbody></table></div><h4 id="merged_profiles">Merged profiles</h4><p>
				As an experimental feature, it is possible to select more profiles at once. <span class="strong strong"><strong>Tuned</strong></span> will try to merge them during the load.
			</p><p>
				If there are conflicts, the settings from the last specified profile takes precedence.
			</p><div class="example" id="idm139692462719584"><p class="title"><strong>Example 1.1. Low power consumption in a virtual guest</strong></p><div class="example-contents"><p>
					The following example optimizes the system to run in a virtual machine for the best performance and concurrently tunes it for low power consumption, while the low power consumption is the priority:
				</p><pre class="screen"># tuned-adm profile virtual-guest powersave</pre></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Merging is done automatically without checking whether the resulting combination of parameters makes sense. Consequently, the feature might tune some parameters the opposite way, which might be counterproductive: for example, setting the disk for high throughput by using the <code class="literal">throughput-performance</code> profile and concurrently setting the disk spindown to the low value by the <code class="literal">spindown-disk</code> profile.
				</p></div></div><h4 id="the_location_of_profiles">The location of profiles</h4><p>
				<span class="strong strong"><strong>Tuned</strong></span> stores profiles in the following directories:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal filename">/usr/lib/tuned/</code></span></dt><dd>
							Distribution-specific profiles are stored in the directory. Each profile has its own directory. The profile consists of the main configuration file called <code class="literal">tuned.conf</code>, and optionally other files, for example helper scripts.
						</dd><dt><span class="term"><code class="literal filename">/etc/tuned/</code></span></dt><dd>
							If you need to customize a profile, copy the profile directory into the directory, which is used for custom profiles. If there are two profiles of the same name, the custom profile located in <code class="literal filename">/etc/tuned/</code> is used.
						</dd></dl></div><h4 id="the_syntax_of_profile_configuration">The syntax of profile configuration</h4><p>
				The <code class="literal">tuned.conf</code> file can contain one <code class="literal">[main]</code> section and other sections for configuring plug-in instances. However, all sections are optional.
			</p><p>
				Lines starting with the hash sign (<code class="literal">#</code>) are comments.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page.
					</li></ul></div></section><section class="section" id="tuned-profiles-distributed-with-rhel_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.3. Tuned profiles distributed with RHEL</h2></div></div></div><p>
				The following is a list of profiles that are installed with <span class="strong strong"><strong>Tuned</strong></span> on Red Hat Enterprise Linux.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There might be more product-specific or third-party <span class="strong strong"><strong>Tuned</strong></span> profiles available. Such profiles are usually provided by separate RPM packages.
				</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">balanced</code></span></dt><dd>
							The default power-saving profile. It is intended to be a compromise between performance and power consumption. It uses auto-scaling and auto-tuning whenever possible. The only drawback is the increased latency. In the current <span class="strong strong"><strong>Tuned</strong></span> release, it enables the CPU, disk, audio, and video plugins, and activates the <code class="literal">conservative</code> CPU governor. The <code class="literal">radeon_powersave</code> option uses the <code class="literal">dpm-balanced</code> value if it is supported, otherwise it is set to <code class="literal">auto</code>.
						</dd><dt><span class="term"><code class="literal">powersave</code></span></dt><dd><p class="simpara">
							A profile for maximum power saving performance. It can throttle the performance in order to minimize the actual power consumption. In the current <span class="strong strong"><strong>Tuned</strong></span> release it enables USB autosuspend, WiFi power saving, and Aggressive Link Power Management (ALPM) power savings for SATA host adapters. It also schedules multi-core power savings for systems with a low wakeup rate and activates the <code class="literal">ondemand</code> governor. It enables AC97 audio power saving or, depending on your system, HDA-Intel power savings with a 10 seconds timeout. If your system contains a supported Radeon graphics card with enabled KMS, the profile configures it to automatic power saving. On ASUS Eee PCs, a dynamic Super Hybrid Engine is enabled.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								In certain cases, the <code class="literal">balanced</code> profile is more efficient compared to the <code class="literal">powersave</code> profile.
							</p><p>
								Consider there is a defined amount of work that needs to be done, for example a video file that needs to be transcoded. Your machine might consume less energy if the transcoding is done on the full power, because the task is finished quickly, the machine starts to idle, and it can automatically step-down to very efficient power save modes. On the other hand, if you transcode the file with a throttled machine, the machine consumes less power during the transcoding, but the process takes longer and the overall consumed energy can be higher.
							</p><p>
								That is why the <code class="literal">balanced</code> profile can be generally a better option.
							</p></div></div></dd><dt><span class="term"><code class="literal">throughput-performance</code></span></dt><dd>
							A server profile optimized for high throughput. It disables power savings mechanisms and enables <code class="literal">sysctl</code> settings that improve the throughput performance of the disk and network IO. CPU governor is set to <code class="literal">performance</code>.
						</dd><dt><span class="term"><code class="literal">latency-performance</code></span></dt><dd>
							A server profile optimized for low latency. It disables power savings mechanisms and enables <code class="literal">sysctl</code> settings that improve latency. CPU governor is set to <code class="literal">performance</code> and the CPU is locked to the low C states (by PM QoS).
						</dd><dt><span class="term"><code class="literal">network-latency</code></span></dt><dd>
							A profile for low latency network tuning. It is based on the <code class="literal">latency-performance</code> profile. It additionally disables transparent huge pages and NUMA balancing, and tunes several other network-related <code class="literal">sysctl</code> parameters.
						</dd><dt><span class="term"><code class="literal">network-throughput</code></span></dt><dd>
							A profile for throughput network tuning. It is based on the <code class="literal">throughput-performance</code> profile. It additionally increases kernel network buffers.
						</dd><dt><span class="term"><code class="literal">virtual-guest</code></span></dt><dd>
							A profile designed for virtual guests based on the <code class="literal">throughput-performance</code> profile that, among other tasks, decreases virtual memory swappiness and increases disk readahead values. It does not disable disk barriers.
						</dd><dt><span class="term"><code class="literal">virtual-host</code></span></dt><dd>
							A profile designed for virtual hosts based on the <code class="literal">throughput-performance</code> profile that, among other tasks, decreases virtual memory swappiness, increases disk readahead values, and enables a more aggressive value of dirty pages writeback.
						</dd><dt><span class="term"><code class="literal">oracle</code></span></dt><dd>
							A profile optimized for Oracle databases loads based on <code class="literal">throughput-performance</code> profile. It additionally disables transparent huge pages and modifies other performance-related kernel parameters. This profile is provided by the <code class="literal package">tuned-profiles-oracle</code> package.
						</dd><dt><span class="term"><code class="literal">desktop</code></span></dt><dd>
							A profile optimized for desktops, based on the <code class="literal">balanced</code> profile. It additionally enables scheduler autogroups for better response of interactive applications.
						</dd><dt><span class="term"><code class="literal">cpu-partitioning</code></span></dt><dd><p class="simpara">
							The <code class="literal">cpu-partitioning</code> profile partitions the system CPUs into isolated and housekeeping CPUs. To reduce jitter and interruptions on an isolated CPU, the profile clears the isolated CPU from user-space processes, movable kernel threads, interrupt handlers, and kernel timers.
						</p><p class="simpara">
							A housekeeping CPU can run all services, shell processes, and kernel threads.
						</p><p class="simpara">
							You can configure the <code class="literal">cpu-partitioning</code> profile in <code class="literal">/etc/tuned/cpu-partitioning-variables.conf</code> file. The configuration options are:
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">isolated_cores=<span class="emphasis"><em>cpu-list</em></span></code></span></dt><dd>
										Lists CPUs to isolate. The list of isolated CPUs is comma-separated or the user can specify the range. You can specify a range using a dash, such as <code class="literal">3-5</code>. This option is mandatory. Any CPU missing from this list is automatically considered a housekeeping CPU.
									</dd><dt><span class="term"><code class="literal">no_balance_cores=<span class="emphasis"><em>cpu-list</em></span></code></span></dt><dd>
										Lists CPUs which are not considered by the kernel during system wide process load-balancing. This option is optional. This is usually the same list as <code class="literal">isolated_cores</code>.
									</dd></dl></div><p class="simpara">
							For more information on <code class="literal">cpu-partitioning</code>, see the <code class="literal">tuned-profiles-cpu-partitioning(7)</code> man page.
						</p></dd></dl></div><h4 id="real_time_profiles">Real-time profiles</h4><p>
				Real-time profiles are intended for systems running the real-time kernel. Without a special kernel build, they do not configure the system to be real-time. On RHEL, the profiles are available from additional repositories.
			</p><p>
				The following real-time profiles are available:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">realtime</code></span></dt><dd><p class="simpara">
							Use on bare-metal real-time systems.
						</p><p class="simpara">
							Provided by the <code class="literal package">tuned-profiles-realtime</code> package, which is available from the RT or NFV repositories.
						</p></dd><dt><span class="term"><code class="literal">realtime-virtual-host</code></span></dt><dd><p class="simpara">
							Use in a virtualization host configured for real-time.
						</p><p class="simpara">
							Provided by the <code class="literal package">tuned-profiles-nfv-host</code> package, which is available from the NFV repository.
						</p></dd><dt><span class="term"><code class="literal">realtime-virtual-guest</code></span></dt><dd><p class="simpara">
							Use in a virtualization guest configured for real-time.
						</p><p class="simpara">
							Provided by the <code class="literal package">tuned-profiles-nfv-guest</code> package, which is available from the NFV repository.
						</p></dd></dl></div></section><section class="section" id="static-and-dynamic-tuning-in-tuned_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.4. Static and dynamic tuning in Tuned</h2></div></div></div><p>
				This section explains the difference between the two categories of system tuning that <span class="strong strong"><strong>Tuned</strong></span> applies: <span class="emphasis"><em>static</em></span> and <span class="emphasis"><em>dynamic</em></span>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static tuning</span></dt><dd>
							Mainly consists of the application of predefined <code class="literal">sysctl</code> and <code class="literal">sysfs</code> settings and one-shot activation of several configuration tools such as <code class="literal">ethtool</code>.
						</dd><dt><span class="term">Dynamic tuning</span></dt><dd><p class="simpara">
							Watches how various system components are used throughout the uptime of your system. <span class="strong strong"><strong>Tuned</strong></span> adjusts system settings dynamically based on that monitoring information.
						</p><p class="simpara">
							For example, the hard drive is used heavily during startup and login, but is barely used later when the user might mainly work with applications such as web browsers or email clients. Similarly, the CPU and network devices are used differently at different times. <span class="strong strong"><strong>Tuned</strong></span> monitors the activity of these components and reacts to the changes in their use.
						</p><p class="simpara">
							By default, dynamic tuning is disabled. To enable it, edit the <code class="literal filename">/etc/tuned/tuned-main.conf</code> file and change the <code class="literal option">dynamic_tuning</code> option to <code class="literal">1</code>. <span class="strong strong"><strong>Tuned</strong></span> then periodically analyzes system statistics and uses them to update your system tuning settings. To configure the time interval in seconds between these updates, use the <code class="literal option">update_interval</code> option.
						</p><p class="simpara">
							Currently implemented dynamic tuning algorithms try to balance the performance and powersave, and are therefore disabled in the performance profiles. Dynamic tuning for individual plug-ins can be enabled or disabled in the <span class="strong strong"><strong>Tuned</strong></span> profiles.
						</p></dd></dl></div><div class="example" id="idm139692479034416"><p class="title"><strong>Example 1.2. Static and dynamic tuning on a workstation</strong></p><div class="example-contents"><p>
					On a typical office workstation, the Ethernet network interface is inactive most of the time. Only a few emails go in and out or some web pages might be loaded.
				</p><p>
					For those kinds of loads, the network interface does not have to run at full speed all the time, as it does by default. <span class="strong strong"><strong>Tuned</strong></span> has a monitoring and tuning plug-in for network devices that can detect this low activity and then automatically lower the speed of that interface, typically resulting in a lower power usage.
				</p><p>
					If the activity on the interface increases for a longer period of time, for example because a DVD image is being downloaded or an email with a large attachment is opened, <span class="strong strong"><strong>Tuned</strong></span> detects this and sets the interface speed to maximum to offer the best performance while the activity level is high.
				</p><p>
					This principle is used for other plug-ins for CPU and disks as well.
				</p></div></div></section><section class="section" id="tuned-no-daemon-mode_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.5. Tuned no-daemon mode</h2></div></div></div><p>
				You can run <span class="strong strong"><strong>Tuned</strong></span> in <code class="literal">no-daemon</code> mode, which does not require any resident memory. In this mode, <span class="strong strong"><strong>Tuned</strong></span> applies the settings and exits.
			</p><p>
				By default, <code class="literal">no-daemon</code> mode is disabled because a lot of <span class="strong strong"><strong>Tuned</strong></span> functionality is missing in this mode, including:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						D-Bus support
					</li><li class="listitem">
						Hot-plug support
					</li><li class="listitem">
						Rollback support for settings
					</li></ul></div><p>
				To enable <code class="literal">no-daemon</code> mode, include the following line in the <code class="literal filename">/etc/tuned/tuned-main.conf</code> file:
			</p><pre class="screen">daemon = 0</pre></section><section class="section" id="installing-and-enabling-tuned_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.6. Installing and enabling Tuned</h2></div></div></div><p>
				This procedure installs and enables the <span class="strong strong"><strong>Tuned</strong></span> application, installs <span class="strong strong"><strong>Tuned</strong></span> profiles, and presets a default <span class="strong strong"><strong>Tuned</strong></span> profile for your system.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal package">tuned</code> package:
					</p><pre class="screen"># yum install tuned</pre></li><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">tuned</code> service:
					</p><pre class="screen"># systemctl enable --now tuned</pre></li><li class="listitem"><p class="simpara">
						Optionally, install <span class="strong strong"><strong>Tuned</strong></span> profiles for real-time systems:
					</p><pre class="screen"># yum install tuned-profiles-realtime tuned-profiles-nfv</pre></li><li class="listitem"><p class="simpara">
						Verify that a <span class="strong strong"><strong>Tuned</strong></span> profile is active and applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">balanced</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verfication succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div></section><section class="section" id="listing-available-tuned-profiles_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.7. Listing available Tuned profiles</h2></div></div></div><p>
				This procedure lists all <span class="strong strong"><strong>Tuned</strong></span> profiles that are currently available on your system.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To list all available <span class="strong strong"><strong>Tuned</strong></span> profiles on your system, use:
					</p><pre class="screen white-space-pre white-space-pre">$ <span class="strong strong"><strong>tuned-adm list</strong></span>

Available profiles:
- balanced               - General non-specialized tuned profile
- desktop                - Optimize for the desktop use-case
- latency-performance    - Optimize for deterministic performance at the cost of increased power consumption
- network-latency        - Optimize for deterministic performance at the cost of increased power consumption, focused on low latency network performance
- network-throughput     - Optimize for streaming network throughput, generally only necessary on older CPUs or 40G+ networks
- powersave              - Optimize for low power consumption
- throughput-performance - Broadly applicable tuning that provides excellent performance across a variety of common server workloads
- virtual-guest          - Optimize for running inside a virtual guest
- virtual-host           - Optimize for running KVM guests
Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">balanced</span></em></span></pre></li><li class="listitem"><p class="simpara">
						To display only the currently active profile, use:
					</p><pre class="screen">$ <span class="strong strong"><strong>tuned-adm active</strong></span>

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">balanced</span></em></span></pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned-adm(8)</code> man page.
					</li></ul></div></section><section class="section" id="setting-a-tuned-profile_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.8. Setting a Tuned profile</h2></div></div></div><p>
				This procedure activates a selected <span class="strong strong"><strong>Tuned</strong></span> profile on your system.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned</code> service is running. See <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a> for details.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optionally, you can let <span class="strong strong"><strong>Tuned</strong></span> recommend the most suitable profile for your system:
					</p><pre class="screen"># tuned-adm recommend

<span class="emphasis"><em><span class="replaceable replaceable">balanced</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Activate a profile:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">selected-profile</span></em></span></pre><p class="simpara">
						Alternatively, you can activate a combination of multiple profiles:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">profile1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">profile2</span></em></span></pre><div class="example" id="idm139692462478560"><p class="title"><strong>Example 1.3. A virtual machine optimized for low power consumption</strong></p><div class="example-contents"><p>
							The following example optimizes the system to run in a virtual machine with the best performance and concurrently tunes it for low power consumption, while the low power consumption is the priority:
						</p><pre class="screen"># tuned-adm profile virtual-guest powersave</pre></div></div></li><li class="listitem"><p class="simpara">
						Verify that the <span class="strong strong"><strong>Tuned</strong></span> profile is active and applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">selected-profile</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verfication succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned-adm(8)</code> man page
					</li></ul></div></section><section class="section" id="disabling-tuned_getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.9. Disabling Tuned</h2></div></div></div><p>
				This procedure disables <span class="strong strong"><strong>Tuned</strong></span> and resets all affected system settings to their original state before <span class="strong strong"><strong>Tuned</strong></span> modified them.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To disable all tunings temporarily:
					</p><pre class="screen"># tuned-adm off</pre><p class="simpara">
						The tunings are applied again after the <code class="literal">tuned</code> service restarts.
					</p></li><li class="listitem"><p class="simpara">
						Alternatively, to stop and disable the <code class="literal">tuned</code> service permanently:
					</p><pre class="screen"># systemctl disable --now tuned</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned-adm(8)</code> man page.
					</li></ul></div></section><section class="section" id="related-information-getting-started-with-tuned"><div class="titlepage"><div><div><h2 class="title">1.10. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned(8)</code> man page
					</li><li class="listitem">
						The <code class="literal">tuned-adm(8)</code> man page
					</li><li class="listitem">
						The <span class="strong strong"><strong>Tuned</strong></span> project website: <a class="link" href="https://tuned-project.org/">https://tuned-project.org/</a>
					</li></ul></div></section></section><section class="chapter" id="customizing-tuned-profiles_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Customizing Tuned profiles</h1></div></div></div><p>
			You can create or modify <span class="strong strong"><strong>Tuned</strong></span> profiles to optimize system performance for your intended use case.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					Install and enable <span class="strong strong"><strong>Tuned</strong></span> as described in <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a>.
				</li></ul></div><section class="section" id="tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.1. Tuned profiles</h2></div></div></div><p>
				A detailed analysis of a system can be very time-consuming. <span class="strong strong"><strong>Tuned</strong></span> provides a number of predefined profiles for typical use cases. You can also create, modify, and delete profiles.
			</p><p>
				The profiles provided with <span class="strong strong"><strong>Tuned</strong></span> are divided into the following categories:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Power-saving profiles
					</li><li class="listitem">
						Performance-boosting profiles
					</li></ul></div><p>
				The performance-boosting profiles include profiles that focus on the following aspects:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Low latency for storage and network
					</li><li class="listitem">
						High throughput for storage and network
					</li><li class="listitem">
						Virtual machine performance
					</li><li class="listitem">
						Virtualization host performance
					</li></ul></div><h4 id="the_default_profile_2">The default profile</h4><p>
				During the installation, the best profile for your system is selected automatically. Currently, the default profile is selected according to the following customizable rules:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 29%; " class="col_1"><!--Empty--></col><col style="width: 29%; " class="col_2"><!--Empty--></col><col style="width: 43%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139692461653904" scope="col">Environment</th><th align="left" valign="top" id="idm139692461652816" scope="col">Default profile</th><th align="left" valign="top" id="idm139692462756144" scope="col">Goal</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139692461653904"> <p>
								Compute nodes
							</p>
							 </td><td align="left" valign="top" headers="idm139692461652816"> <p>
								<code class="literal">throughput-performance</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692462756144"> <p>
								The best throughput performance
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692461653904"> <p>
								Virtual machines
							</p>
							 </td><td align="left" valign="top" headers="idm139692461652816"> <p>
								<code class="literal">virtual-guest</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692462756144"> <p>
								The best performance. If you are not interested in the best performance, you can change it to the <code class="literal">balanced</code> or <code class="literal">powersave</code> profile.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692461653904"> <p>
								Other cases
							</p>
							 </td><td align="left" valign="top" headers="idm139692461652816"> <p>
								<code class="literal">balanced</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139692462756144"> <p>
								Balanced performance and power consumption
							</p>
							 </td></tr></tbody></table></div><h4 id="merged_profiles_2">Merged profiles</h4><p>
				As an experimental feature, it is possible to select more profiles at once. <span class="strong strong"><strong>Tuned</strong></span> will try to merge them during the load.
			</p><p>
				If there are conflicts, the settings from the last specified profile takes precedence.
			</p><div class="example" id="idm139692461567888"><p class="title"><strong>Example 2.1. Low power consumption in a virtual guest</strong></p><div class="example-contents"><p>
					The following example optimizes the system to run in a virtual machine for the best performance and concurrently tunes it for low power consumption, while the low power consumption is the priority:
				</p><pre class="screen"># tuned-adm profile virtual-guest powersave</pre></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Merging is done automatically without checking whether the resulting combination of parameters makes sense. Consequently, the feature might tune some parameters the opposite way, which might be counterproductive: for example, setting the disk for high throughput by using the <code class="literal">throughput-performance</code> profile and concurrently setting the disk spindown to the low value by the <code class="literal">spindown-disk</code> profile.
				</p></div></div><h4 id="the_location_of_profiles_2">The location of profiles</h4><p>
				<span class="strong strong"><strong>Tuned</strong></span> stores profiles in the following directories:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal filename">/usr/lib/tuned/</code></span></dt><dd>
							Distribution-specific profiles are stored in the directory. Each profile has its own directory. The profile consists of the main configuration file called <code class="literal">tuned.conf</code>, and optionally other files, for example helper scripts.
						</dd><dt><span class="term"><code class="literal filename">/etc/tuned/</code></span></dt><dd>
							If you need to customize a profile, copy the profile directory into the directory, which is used for custom profiles. If there are two profiles of the same name, the custom profile located in <code class="literal filename">/etc/tuned/</code> is used.
						</dd></dl></div><h4 id="the_syntax_of_profile_configuration_2">The syntax of profile configuration</h4><p>
				The <code class="literal">tuned.conf</code> file can contain one <code class="literal">[main]</code> section and other sections for configuring plug-in instances. However, all sections are optional.
			</p><p>
				Lines starting with the hash sign (<code class="literal">#</code>) are comments.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page.
					</li></ul></div></section><section class="section" id="inheritance-between-tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.2. Inheritance between Tuned profiles</h2></div></div></div><p>
				<span class="strong strong"><strong>Tuned</strong></span> profiles can be based on other profiles and modify only certain aspects of their parent profile.
			</p><p>
				The <code class="literal">[main]</code> section of <span class="strong strong"><strong>Tuned</strong></span> profiles recognizes the <code class="literal option">include</code> option:
			</p><pre class="screen">[main]
include=<span class="emphasis"><em><span class="replaceable replaceable">parent</span></em></span></pre><p>
				All settings from the <span class="emphasis"><em><span class="replaceable replaceable">parent</span></em></span> profile are loaded in this <span class="emphasis"><em>child</em></span> profile. In the following sections, the <span class="emphasis"><em>child</em></span> profile can override certain settings inherited from the <span class="emphasis"><em><span class="replaceable replaceable">parent</span></em></span> profile or add new settings not present in the <span class="emphasis"><em><span class="replaceable replaceable">parent</span></em></span> profile.
			</p><p>
				You can create your own <span class="emphasis"><em>child</em></span> profile in the <code class="literal filename">/etc/tuned/</code> directory based on a pre-installed profile in <code class="literal filename">/usr/lib/tuned/</code> with only some parameters adjusted.
			</p><p>
				If the <span class="emphasis"><em><span class="replaceable replaceable">parent</span></em></span> profile is updated, such as after a <span class="strong strong"><strong>Tuned</strong></span> upgrade, the changes are reflected in the <span class="emphasis"><em>child</em></span> profile.
			</p><div class="example" id="idm139692462864176"><p class="title"><strong>Example 2.2. A power-saving profile based on balanced</strong></p><div class="example-contents"><p>
					The following is an example of a custom profile that extends the <code class="literal">balanced</code> profile and sets Aggressive Link Power Management (ALPM) for all devices to the maximum powersaving.
				</p><pre class="screen">[main]
include=balanced

[scsi_host]
alpm=min_power</pre></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="static-and-dynamic-tuning-in-tuned_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.3. Static and dynamic tuning in Tuned</h2></div></div></div><p>
				This section explains the difference between the two categories of system tuning that <span class="strong strong"><strong>Tuned</strong></span> applies: <span class="emphasis"><em>static</em></span> and <span class="emphasis"><em>dynamic</em></span>.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static tuning</span></dt><dd>
							Mainly consists of the application of predefined <code class="literal">sysctl</code> and <code class="literal">sysfs</code> settings and one-shot activation of several configuration tools such as <code class="literal">ethtool</code>.
						</dd><dt><span class="term">Dynamic tuning</span></dt><dd><p class="simpara">
							Watches how various system components are used throughout the uptime of your system. <span class="strong strong"><strong>Tuned</strong></span> adjusts system settings dynamically based on that monitoring information.
						</p><p class="simpara">
							For example, the hard drive is used heavily during startup and login, but is barely used later when the user might mainly work with applications such as web browsers or email clients. Similarly, the CPU and network devices are used differently at different times. <span class="strong strong"><strong>Tuned</strong></span> monitors the activity of these components and reacts to the changes in their use.
						</p><p class="simpara">
							By default, dynamic tuning is disabled. To enable it, edit the <code class="literal filename">/etc/tuned/tuned-main.conf</code> file and change the <code class="literal option">dynamic_tuning</code> option to <code class="literal">1</code>. <span class="strong strong"><strong>Tuned</strong></span> then periodically analyzes system statistics and uses them to update your system tuning settings. To configure the time interval in seconds between these updates, use the <code class="literal option">update_interval</code> option.
						</p><p class="simpara">
							Currently implemented dynamic tuning algorithms try to balance the performance and powersave, and are therefore disabled in the performance profiles. Dynamic tuning for individual plug-ins can be enabled or disabled in the <span class="strong strong"><strong>Tuned</strong></span> profiles.
						</p></dd></dl></div><div class="example" id="idm139692454334656"><p class="title"><strong>Example 2.3. Static and dynamic tuning on a workstation</strong></p><div class="example-contents"><p>
					On a typical office workstation, the Ethernet network interface is inactive most of the time. Only a few emails go in and out or some web pages might be loaded.
				</p><p>
					For those kinds of loads, the network interface does not have to run at full speed all the time, as it does by default. <span class="strong strong"><strong>Tuned</strong></span> has a monitoring and tuning plug-in for network devices that can detect this low activity and then automatically lower the speed of that interface, typically resulting in a lower power usage.
				</p><p>
					If the activity on the interface increases for a longer period of time, for example because a DVD image is being downloaded or an email with a large attachment is opened, <span class="strong strong"><strong>Tuned</strong></span> detects this and sets the interface speed to maximum to offer the best performance while the activity level is high.
				</p><p>
					This principle is used for other plug-ins for CPU and disks as well.
				</p></div></div></section><section class="section" id="tuned-plug-ins_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.4. Tuned plug-ins</h2></div></div></div><p>
				Plug-ins are modules in <span class="strong strong"><strong>Tuned</strong></span> profiles that <span class="strong strong"><strong>Tuned</strong></span> uses to monitor or optimize different devices on the system.
			</p><p>
				<span class="strong strong"><strong>Tuned</strong></span> uses two types of plug-ins:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						monitoring plug-ins
					</li><li class="listitem">
						tuning plug-ins
					</li></ul></div><h4 id="monitoring_plug_ins">Monitoring plug-ins</h4><p>
				Monitoring plug-ins are used to get information from a running system. The output of the monitoring plug-ins can be used by tuning plug-ins for dynamic tuning.
			</p><p>
				Monitoring plug-ins are automatically instantiated whenever their metrics are needed by any of the enabled tuning plug-ins. If two tuning plug-ins require the same data, only one instance of the monitoring plug-in is created and the data is shared.
			</p><h4 id="tuning_plug_ins">Tuning plug-ins</h4><p>
				Each tuning plug-in tunes an individual subsystem and takes several parameters that are populated from the tuned profiles. Each subsystem can have multiple devices, such as multiple CPUs or network cards, that are handled by individual instances of the tuning plug-ins. Specific settings for individual devices are also supported.
			</p><h4 id="syntax_for_plug_ins_in_tuned_profiles">Syntax for plug-ins in Tuned profiles</h4><p>
				Sections describing plug-in instances are formatted in the following way:
			</p><pre class="screen">[<span class="emphasis"><em>NAME</em></span>]
type=<span class="emphasis"><em>TYPE</em></span>
devices=<span class="emphasis"><em>DEVICES</em></span></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term">NAME</span></dt><dd>
							is the name of the plug-in instance as it is used in the logs. It can be an arbitrary string.
						</dd><dt><span class="term">TYPE</span></dt><dd>
							is the type of the tuning plug-in.
						</dd><dt><span class="term">DEVICES</span></dt><dd><p class="simpara">
							is the list of devices that this plug-in instance handles.
						</p><p class="simpara">
							The <code class="literal">devices</code> line can contain a list, a wildcard (<code class="literal">*</code>), and negation (<code class="literal">!</code>). If there is no <code class="literal">devices</code> line, all devices present or later attached on the system of the <span class="emphasis"><em><span class="replaceable replaceable">TYPE</span></em></span> are handled by the plug-in instance. This is same as using the <code class="literal option">devices=*</code> option.
						</p><div class="example" id="idm139692453809248"><p class="title"><strong>Example 2.4. Matching block devices with a plug-in</strong></p><div class="example-contents"><p>
								The following example matches all block devices starting with <code class="literal">sd</code>, such as <code class="literal">sda</code> or <code class="literal">sdb</code>, and does not disable barriers on them:
							</p><pre class="screen">[data_disk]
type=disk
devices=sd*
disable_barriers=false</pre><p>
								The following example matches all block devices except <code class="literal">sda1</code> and <code class="literal">sda2</code>:
							</p><pre class="screen">[data_disk]
type=disk
devices=!sda1, !sda2
disable_barriers=false</pre></div></div></dd></dl></div><p>
				If no instance of a plug-in is specified, the plug-in is not enabled.
			</p><p>
				If the plug-in supports more options, they can be also specified in the plug-in section. If the option is not specified and it was not previously specified in the included plug-in, the default value is used.
			</p><h4 id="short_plug_in_syntax">Short plug-in syntax</h4><p>
				If you do not need custom names for the plug-in instance and there is only one definition of the instance in your configuration file, <span class="strong strong"><strong>Tuned</strong></span> supports the following short syntax:
			</p><pre class="screen">[<span class="emphasis"><em>TYPE</em></span>]
devices=<span class="emphasis"><em>DEVICES</em></span></pre><p>
				In this case, it is possible to omit the <code class="literal">type</code> line. The instance is then referred to with a name, same as the type. The previous example could be then rewritten into:
			</p><div class="example" id="idm139692478997920"><p class="title"><strong>Example 2.5. Matching block devices using the short syntax</strong></p><div class="example-contents"><pre class="screen">[disk]
devices=sdb*
disable_barriers=false</pre></div></div><h4 id="conflicting_plug_in_definitions_in_a_profile">Conflicting plug-in definitions in a profile</h4><p>
				If the same section is specified more than once using the <code class="literal">include</code> option, the settings are merged. If they cannot be merged due to a conflict, the last conflicting definition overrides the previous settings. If you do not know what was previously defined, you can use the <code class="literal option">replace</code> Boolean option and set it to <code class="literal">true</code>. This causes all the previous definitions with the same name to be overwritten and the merge does not happen.
			</p><p>
				You can also disable the plug-in by specifying the <code class="literal option">enabled=false</code> option. This has the same effect as if the instance was never defined. Disabling the plug-in is useful if you are redefining the previous definition from the <code class="literal option">include</code> option and do not want the plug-in to be active in your custom profile.
			</p><h4 id="functionality_not_implemented_in_any_plug_in">Functionality not implemented in any plug-in</h4><p>
				<span class="strong strong"><strong>Tuned</strong></span> includes the ability to run any shell command as part of enabling or disabling a tuning profile. This enables you to extend <span class="strong strong"><strong>Tuned</strong></span> profiles with functionality that has not been integrated into Tuned yet.
			</p><p>
				You can specify arbitrary shell commands using the <code class="literal">script</code> plug-in.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="available-tuned-plug-ins_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.5. Available Tuned plug-ins</h2></div></div></div><p>
				This section lists all monitoring and tuning plug-ins currently available in <span class="strong strong"><strong>Tuned</strong></span>.
			</p><h4 id="monitoring_plug_ins_2">Monitoring plug-ins</h4><p>
				Currently, the following monitoring plug-ins are implemented:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">disk</code></span></dt><dd>
							Gets disk load (number of IO operations) per device and measurement interval.
						</dd><dt><span class="term"><code class="literal">net</code></span></dt><dd>
							Gets network load (number of transferred packets) per network card and measurement interval.
						</dd><dt><span class="term"><code class="literal">load</code></span></dt><dd>
							Gets CPU load per CPU and measurement interval.
						</dd></dl></div><h4 id="tuning_plug_ins_2">Tuning plug-ins</h4><p>
				Currently, the following tuning plug-ins are implemented. Only some of these plug-ins implement dynamic tuning. Options supported by plug-ins are also listed:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">cpu</code></span></dt><dd><p class="simpara">
							Sets the CPU governor to the value specified by the <code class="literal option">governor</code> option and dynamically changes the Power Management Quality of Service (PM QoS) CPU Direct Memory Access (DMA) latency according to the CPU load.
						</p><p class="simpara">
							If the CPU load is lower than the value specified by the <code class="literal option">load_threshold</code> option, the latency is set to the value specified by the <code class="literal option">latency_high</code> option, otherwise it is set to the value specified by <code class="literal option">latency_low</code>.
						</p><p class="simpara">
							You can also force the latency to a specific value and prevent it from dynamically changing further. To do so, set the <code class="literal option">force_latency</code> option to the required latency value.
						</p></dd><dt><span class="term"><code class="literal">eeepc_she</code></span></dt><dd><p class="simpara">
							Dynamically sets the front-side bus (FSB) speed according to the CPU load.
						</p><p class="simpara">
							This feature can be found on some netbooks and is also known as the ASUS Super Hybrid Engine (SHE).
						</p><p class="simpara">
							If the CPU load is lower or equal to the value specified by the <code class="literal option">load_threshold_powersave</code> option, the plug-in sets the FSB speed to the value specified by the <code class="literal option">she_powersave</code> option. If the CPU load is higher or equal to the value specified by the <code class="literal option">load_threshold_normal</code> option, it sets the FSB speed to the value specified by the <code class="literal option">she_normal</code> option.
						</p><p class="simpara">
							Static tuning is not supported and the plug-in is transparently disabled if <span class="strong strong"><strong>Tuned</strong></span> does not detect the hardware support for this feature.
						</p></dd><dt><span class="term"><code class="literal">net</code></span></dt><dd>
							Configures the Wake-on-LAN functionality to the values specified by the <code class="literal option">wake_on_lan</code> option. It uses the same syntax as the <code class="literal">ethtool</code> utility. It also dynamically changes the interface speed according to the interface utilization.
						</dd><dt><span class="term"><code class="literal">sysctl</code></span></dt><dd><p class="simpara">
							Sets various <code class="literal">sysctl</code> settings specified by the plug-in options.
						</p><p class="simpara">
							The syntax is <code class="literal"><span class="emphasis"><em><span class="replaceable replaceable">name</span></em></span>=<span class="emphasis"><em><span class="replaceable replaceable">value</span></em></span></code>, where <span class="emphasis"><em><span class="replaceable replaceable">name</span></em></span> is the same as the name provided by the <code class="literal">sysctl</code> utility.
						</p><p class="simpara">
							Use the <code class="literal">sysctl</code> plug-in if you need to change system settings that are not covered by other plug-ins available in <span class="strong strong"><strong>Tuned</strong></span>. If the settings are covered by some specific plug-ins, prefer these plug-ins.
						</p></dd><dt><span class="term"><code class="literal">usb</code></span></dt><dd><p class="simpara">
							Sets autosuspend timeout of USB devices to the value specified by the <code class="literal option">autosuspend</code> parameter.
						</p><p class="simpara">
							The value <code class="literal">0</code> means that autosuspend is disabled.
						</p></dd><dt><span class="term"><code class="literal">vm</code></span></dt><dd>
							Enables or disables transparent huge pages depending on the Boolean value of the <code class="literal option">transparent_hugepages</code> option.
						</dd><dt><span class="term"><code class="literal">audio</code></span></dt><dd><p class="simpara">
							Sets the autosuspend timeout for audio codecs to the value specified by the <code class="literal option">timeout</code> option.
						</p><p class="simpara">
							Currently, the <code class="literal">snd_hda_intel</code> and <code class="literal">snd_ac97_codec</code> codecs are supported. The value <code class="literal">0</code> means that the autosuspend is disabled. You can also enforce the controller reset by setting the Boolean option <code class="literal option">reset_controller</code> to <code class="literal">true</code>.
						</p></dd><dt><span class="term"><code class="literal">disk</code></span></dt><dd><p class="simpara">
							Sets the disk elevator to the value specified by the <code class="literal option">elevator</code> option.
						</p><p class="simpara">
							It also sets:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									APM to the value specified by the <code class="literal option">apm</code> option
								</li><li class="listitem">
									Scheduler quantum to the value specified by the <code class="literal option">scheduler_quantum</code> option
								</li><li class="listitem">
									Disk spindown timeout to the value specified by the <code class="literal option">spindown</code> option
								</li><li class="listitem">
									Disk readahead to the value specified by the <code class="literal option">readahead</code> parameter
								</li><li class="listitem">
									The current disk readahead to a value multiplied by the constant specified by the <code class="literal option">readahead_multiply</code> option
								</li></ul></div><p class="simpara">
							In addition, this plug-in dynamically changes the advanced power management and spindown timeout setting for the drive according to the current drive utilization. The dynamic tuning can be controlled by the Boolean option <code class="literal option">dynamic</code> and is enabled by default.
						</p></dd><dt><span class="term"><code class="literal">scsi_host</code></span></dt><dd><p class="simpara">
							Tunes options for SCSI hosts.
						</p><p class="simpara">
							It sets Aggressive Link Power Management (ALPM) to the value specified by the <code class="literal option">alpm</code> option.
						</p></dd><dt><span class="term"><code class="literal">mounts</code></span></dt><dd>
							Enables or disables barriers for mounts according to the Boolean value of the <code class="literal option">disable_barriers</code> option.
						</dd><dt><span class="term"><code class="literal">script</code></span></dt><dd><p class="simpara">
							Executes an external script or binary when the profile is loaded or unloaded. You can choose an arbitrary executable.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								The <code class="literal">script</code> plug-in is provided mainly for compatibility with earlier releases. Prefer other <span class="strong strong"><strong>Tuned</strong></span> plug-ins if they cover the required functionality.
							</p></div></div><p class="simpara">
							<span class="strong strong"><strong>Tuned</strong></span> calls the executable with one of the following arguments:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">start</code> when loading the profile
								</li><li class="listitem">
									<code class="literal">stop</code> when unloading the profile
								</li></ul></div><p class="simpara">
							You need to correctly implement the <code class="literal">stop</code> action in your executable and revert all settings that you changed during the <code class="literal">start</code> action. Otherwise, the roll-back step after changing your <span class="strong strong"><strong>Tuned</strong></span> profile will not work.
						</p><p class="simpara">
							Bash scripts can import the <code class="literal filename">/usr/lib/tuned/functions</code> Bash library and use the functions defined there. Use these functions only for functionality that is not natively provided by <span class="strong strong"><strong>Tuned</strong></span>. If a function name starts with an underscore, such as <code class="literal">_wifi_set_power_level</code>, consider the function private and do not use it in your scripts, because it might change in the future.
						</p><p class="simpara">
							Specify the path to the executable using the <code class="literal">script</code> parameter in the plug-in configuration.
						</p><div class="example" id="idm139692462973856"><p class="title"><strong>Example 2.6. Running a Bash script from a profile</strong></p><div class="example-contents"><p>
								To run a Bash script named <code class="literal">script.sh</code> that is located in the profile directory, use:
							</p><pre class="screen">[script]
script=${i:PROFILE_DIR}/script.sh</pre></div></div></dd><dt><span class="term"><code class="literal">sysfs</code></span></dt><dd><p class="simpara">
							Sets various <code class="literal">sysfs</code> settings specified by the plug-in options.
						</p><p class="simpara">
							The syntax is <code class="literal"><span class="emphasis"><em><span class="replaceable replaceable">name</span></em></span>=<span class="emphasis"><em><span class="replaceable replaceable">value</span></em></span></code>, where <span class="emphasis"><em><span class="replaceable replaceable">name</span></em></span> is the <code class="literal">sysfs</code> path to use.
						</p><p class="simpara">
							Use this plugin in case you need to change some settings that are not covered by other plug-ins. Prefer specific plug-ins if they cover the required settings.
						</p></dd><dt><span class="term"><code class="literal">video</code></span></dt><dd><p class="simpara">
							Sets various powersave levels on video cards. Currently, only the Radeon cards are supported.
						</p><p class="simpara">
							The powersave level can be specified by using the <code class="literal option">radeon_powersave</code> option. Supported values are:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">default</code>
								</li><li class="listitem">
									<code class="literal">auto</code>
								</li><li class="listitem">
									<code class="literal">low</code>
								</li><li class="listitem">
									<code class="literal">mid</code>
								</li><li class="listitem">
									<code class="literal">high</code>
								</li><li class="listitem">
									<code class="literal">dynpm</code>
								</li><li class="listitem">
									<code class="literal">dpm-battery</code>
								</li><li class="listitem">
									<code class="literal">dpm-balanced</code>
								</li><li class="listitem">
									<code class="literal">dpm-perfomance</code>
								</li></ul></div><p class="simpara">
							For details, see <a class="link" href="http://www.x.org/wiki/RadeonFeature#KMS_Power_Management_Options">www.x.org</a>. Note that this plug-in is experimental and the option might change in future releases.
						</p></dd><dt><span class="term"><code class="literal">bootloader</code></span></dt><dd><p class="simpara">
							Adds options to the kernel command line. This plug-in supports only the GRUB 2 boot loader.
						</p><p class="simpara">
							Customized non-standard location of the GRUB 2 configuration file can be specified by the <code class="literal option">grub2_cfg_file</code> option.
						</p><p class="simpara">
							The kernel options are added to the current GRUB configuration and its templates. The system needs to be rebooted for the kernel options to take effect.
						</p><p class="simpara">
							Switching to another profile or manually stopping the <code class="literal">tuned</code> service removes the additional options. If you shut down or reboot the system, the kernel options persist in the <code class="literal filename">grub.cfg</code> file.
						</p><p class="simpara">
							The kernel options can be specified by the following syntax:
						</p><pre class="screen">cmdline=<span class="emphasis"><em><span class="replaceable replaceable">arg1</span></em></span> <span class="emphasis"><em><span class="replaceable replaceable">arg2</span></em></span> ... <span class="emphasis"><em><span class="replaceable replaceable">argN</span></em></span></pre><div class="example" id="idm139692456663024"><p class="title"><strong>Example 2.7. Modifying the kernel command line</strong></p><div class="example-contents"><p>
								For example, to add the <code class="literal option">quiet</code> kernel option to a <span class="strong strong"><strong>Tuned</strong></span> profile, include the following lines in the <code class="literal filename">tuned.conf</code> file:
							</p><pre class="screen">[bootloader]
cmdline=quiet</pre><p>
								The following is an example of a custom profile that adds the <code class="literal option">isolcpus=2</code> option to the kernel command line:
							</p><pre class="screen">[bootloader]
cmdline=isolcpus=2</pre></div></div></dd></dl></div></section><section class="section" id="variables-and-built-in-functions-in-tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.6. Variables and built-in functions in Tuned profiles</h2></div></div></div><p>
				Variables and built-in functions expand at run time when a <span class="strong strong"><strong>Tuned</strong></span> profile is activated.
			</p><p>
				Using <span class="strong strong"><strong>Tuned</strong></span> variables reduces the amount of necessary typing in <span class="strong strong"><strong>Tuned</strong></span> profiles. You can also:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Use various built-in functions together with <span class="strong strong"><strong>Tuned</strong></span> variables
					</li><li class="listitem">
						Create custom functions in Python and add them to <span class="strong strong"><strong>Tuned</strong></span> in the form of plug-ins
					</li></ul></div><h4 id="variables">Variables</h4><p>
				There are no predefined variables in <span class="strong strong"><strong>Tuned</strong></span> profiles. You can define your own variables by creating the <code class="literal">[variables]</code> section in a profile and using the following syntax:
			</p><pre class="screen">[variables]

<span class="emphasis"><em><span class="replaceable replaceable">variable_name</span></em></span>=<span class="emphasis"><em><span class="replaceable replaceable">value</span></em></span></pre><p>
				To expand the value of a variable in a profile, use the following syntax:
			</p><pre class="screen">${<span class="emphasis"><em><span class="replaceable replaceable">variable_name</span></em></span>}</pre><div class="example" id="idm139692453055424"><p class="title"><strong>Example 2.8. Isolating CPU cores using variables</strong></p><div class="example-contents"><p>
					In the following example, the <code class="literal">${isolated_cores}</code> variable expands to <code class="literal">1,2</code>; hence the kernel boots with the <code class="literal option">isolcpus=1,2</code> option:
				</p><pre class="screen">[variables]
isolated_cores=1,2

[bootloader]
cmdline=isolcpus=${isolated_cores}</pre><p>
					The variables can be specified in a separate file. For example, you can add the following lines to <code class="literal filename">tuned.conf</code>:
				</p><pre class="screen">[variables]
include=/etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-variables.conf</span></em></span>

[bootloader]
cmdline=isolcpus=${isolated_cores}</pre><p>
					If you add the <code class="literal option">isolated_cores=1,2</code> option to the <code class="literal filename">/etc/tuned/my-variables.conf</code> file, the kernel boots with the <code class="literal option">isolcpus=1,2</code> option.
				</p></div></div><h4 id="functions">Functions</h4><p>
				To call a function, use the following syntax:
			</p><pre class="screen">${f:<span class="emphasis"><em><span class="replaceable replaceable">function_name</span></em></span>:<span class="emphasis"><em><span class="replaceable replaceable">argument_1</span></em></span>:<span class="emphasis"><em><span class="replaceable replaceable">argument_2</span></em></span>}</pre><p>
				To expand the directory path where the profile and the <code class="literal">tuned.conf</code> file are located, use the <code class="literal">PROFILE_DIR</code> function, which requires special syntax:
			</p><pre class="screen">${i:PROFILE_DIR}</pre><div class="example" id="idm139692465641440"><p class="title"><strong>Example 2.9. Isolating CPU cores using variables and built-in functions</strong></p><div class="example-contents"><p>
					In the following example, the <code class="literal">${non_isolated_cores}</code> variable expands to <code class="literal">0,3-5</code>, and the <code class="literal">cpulist_invert</code> built-in function is called with the <code class="literal">0,3-5</code> argument:
				</p><pre class="screen">[variables]
non_isolated_cores=0,3-5

[bootloader]
cmdline=isolcpus=${f:cpulist_invert:${non_isolated_cores}}</pre><p>
					The <code class="literal">cpulist_invert</code> function inverts the list of CPUs. For a 6-CPU machine, the inversion is <code class="literal">1,2</code>, and the kernel boots with the <code class="literal option">isolcpus=1,2</code> command-line option.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="built-in-functions-available-in-tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.7. Built-in functions available in Tuned profiles</h2></div></div></div><p>
				The following built-in functions are available in all <span class="strong strong"><strong>Tuned</strong></span> profiles:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">PROFILE_DIR</code></span></dt><dd>
							Returns the directory path where the profile and the <code class="literal">tuned.conf</code> file are located.
						</dd><dt><span class="term"><code class="literal">exec</code></span></dt><dd>
							Executes a process and returns its output.
						</dd><dt><span class="term"><code class="literal">assertion</code></span></dt><dd>
							Compares two arguments. If they <span class="emphasis"><em>do not match</em></span>, the function logs text from the first argument and aborts profile loading.
						</dd><dt><span class="term"><code class="literal">assertion_non_equal</code></span></dt><dd>
							Compares two arguments. If they <span class="emphasis"><em>match</em></span>, the function logs text from the first argument and aborts profile loading.
						</dd><dt><span class="term"><code class="literal">kb2s</code></span></dt><dd>
							Converts kilobytes to disk sectors.
						</dd><dt><span class="term"><code class="literal">s2kb</code></span></dt><dd>
							Converts disk sectors to kilobytes.
						</dd><dt><span class="term"><code class="literal">strip</code></span></dt><dd>
							Creates a string from all passed arguments and deletes both leading and trailing white space.
						</dd><dt><span class="term"><code class="literal">virt_check</code></span></dt><dd><p class="simpara">
							Checks whether <span class="strong strong"><strong>Tuned</strong></span> is running inside a virtual machine (VM) or on bare metal:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Inside a VM, the function returns the first argument.
								</li><li class="listitem">
									On bare metal, the function returns the second argument, even in case of an error.
								</li></ul></div></dd><dt><span class="term"><code class="literal">cpulist_invert</code></span></dt><dd>
							Inverts a list of CPUs to make its complement. For example, on a system with 4 CPUs, numbered from 0 to 3, the inversion of the list <code class="literal">0,2,3</code> is <code class="literal">1</code>.
						</dd><dt><span class="term"><code class="literal">cpulist2hex</code></span></dt><dd>
							Converts a CPU list to a hexadecimal CPU mask.
						</dd><dt><span class="term"><code class="literal">cpulist2hex_invert</code></span></dt><dd>
							Converts a CPU list to a hexadecimal CPU mask and inverts it.
						</dd><dt><span class="term"><code class="literal">hex2cpulist</code></span></dt><dd>
							Converts a hexadecimal CPU mask to a CPU list.
						</dd><dt><span class="term"><code class="literal">cpulist_online</code></span></dt><dd>
							Checks whether the CPUs from the list are online. Returns the list containing only online CPUs.
						</dd><dt><span class="term"><code class="literal">cpulist_present</code></span></dt><dd>
							Checks whether the CPUs from the list are present. Returns the list containing only present CPUs.
						</dd><dt><span class="term"><code class="literal">cpulist_unpack</code></span></dt><dd>
							Unpacks a CPU list in the form of <code class="literal">1-3,4</code> to <code class="literal">1,2,3,4</code>.
						</dd><dt><span class="term"><code class="literal">cpulist_pack</code></span></dt><dd>
							Packs a CPU list in the form of <code class="literal">1,2,3,5</code> to <code class="literal">1-3,5</code>.
						</dd></dl></div></section><section class="section" id="creating-new-tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.8. Creating new Tuned profiles</h2></div></div></div><p>
				This procedure creates a new <span class="strong strong"><strong>Tuned</strong></span> profile with custom performance rules.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned</code> service is installed and running. See <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a> for details.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In the <code class="literal filename">/etc/tuned/</code> directory, create a new directory named the same as the profile that you want to create:
					</p><pre class="screen"># mkdir /etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						In the new directory, create a file named <code class="literal filename">tuned.conf</code>. Add a <code class="literal">[main]</code> section and plug-in definitions in it, according to your requirements.
					</p><p class="simpara">
						For example, see the configuration of the <code class="literal">balanced</code> profile:
					</p><pre class="screen">[main]
summary=General non-specialized tuned profile

[cpu]
governor=conservative
energy_perf_bias=normal

[audio]
timeout=10

[video]
radeon_powersave=dpm-balanced, auto

[scsi_host]
alpm=medium_power</pre></li><li class="listitem"><p class="simpara">
						To activate the profile, use:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the <span class="strong strong"><strong>Tuned</strong></span> profile is active and the system settings are applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verfication succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="modifying-existing-tuned-profiles_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.9. Modifying existing Tuned profiles</h2></div></div></div><p>
				This procedure creates a modified child profile based on an existing <span class="strong strong"><strong>Tuned</strong></span> profile.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned</code> service is installed and running. See <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a> for details.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In the <code class="literal filename">/etc/tuned/</code> directory, create a new directory named the same as the profile that you want to create:
					</p><pre class="screen"># mkdir /etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">modified-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						In the new directory, create a file named <code class="literal filename">tuned.conf</code>, and set the <code class="literal">[main]</code> section as follows:
					</p><pre class="screen">[main]
include=<span class="emphasis"><em><span class="replaceable replaceable">parent-profile</span></em></span></pre><p class="simpara">
						Replace <span class="emphasis"><em><span class="replaceable replaceable">parent-profile</span></em></span> with the name of the profile you are modifying.
					</p></li><li class="listitem"><p class="simpara">
						Include your profile modifications.
					</p><div class="example" id="idm139692462895056"><p class="title"><strong>Example 2.10. Lowering swappiness in the throughput-performance profile</strong></p><div class="example-contents"><p>
							To use the settings from the <code class="literal">throughput-performance</code> profile and change the value of <code class="literal">vm.swappiness</code> to 5, instead of the default 10, use:
						</p><pre class="screen">[main]
include=throughput-performance

[sysctl]
vm.swappiness=5</pre></div></div></li><li class="listitem"><p class="simpara">
						To activate the profile, use:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">modified-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the <span class="strong strong"><strong>Tuned</strong></span> profile is active and the system settings are applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verfication succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li></ul></div></section><section class="section" id="setting-the-disk-scheduler-using-tuned_customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.10. Setting the disk scheduler using Tuned</h2></div></div></div><p>
				This procedure creates and enables a <span class="strong strong"><strong>Tuned</strong></span> profile that sets a given disk scheduler for selected block devices. The setting persists across system reboots.
			</p><p>
				In the following commands and configuration, replace:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> with the name of the block device, for example <code class="literal">sdf</code>
					</li><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span> with the disk scheduler that you want to set for the device, for example <code class="literal">bfq</code>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						The <code class="literal">tuned</code> service is installed and enabled.
					</p><p class="simpara">
						For details, see <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a>.
					</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Select an existing <span class="strong strong"><strong>Tuned</strong></span> profile on which your profile will be based. For a list of available profiles, see <a class="xref" href="index.html#tuned-profiles-distributed-with-rhel_getting-started-with-tuned" title="1.3. Tuned profiles distributed with RHEL">Section 1.3, “Tuned profiles distributed with RHEL”</a>.
					</p><p class="simpara">
						To see which profile is currently active, use:
					</p><pre class="screen">$ tuned-adm active</pre></li><li class="listitem"><p class="simpara">
						Create a new directory to hold your <span class="strong strong"><strong>Tuned</strong></span> profile:
					</p><pre class="screen"># mkdir /etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Find the World Wide Name (WWN) identifier of the selected block device:
					</p><pre class="screen">$ udevadm info --query=property --name=/dev/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> | grep WWN=

ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Create the <code class="literal filename">/etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span>/tuned.conf</code> configuration file. In the file, set the following options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Optional: Include an existing profile:
							</p><pre class="screen">[main]
include=<span class="emphasis"><em><span class="replaceable replaceable">existing-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
								Set the selected disk scheduler for the device that matches the WWN identifier:
							</p><pre class="screen">[disk]
devices_udev_regex=ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span>
elevator=<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span></pre><p class="simpara">
								To match multiple devices in the <code class="literal option">devices_udev_regex</code> option, separate the identifiers with commas:
							</p><pre class="screen">devices_udev_regex=ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span>, ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x1234567800000000</span></em></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Enable your profile:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the Tuned profile is active and applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verification succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on creating a <span class="strong strong"><strong>Tuned</strong></span> profile, see <a class="xref" href="index.html#customizing-tuned-profiles_monitoring-and-managing-system-status-and-performance" title="Chapter 2. Customizing Tuned profiles">Chapter 2, <em>Customizing Tuned profiles</em></a>.
					</li></ul></div></section><section class="section" id="related-information-customizing-tuned-profiles"><div class="titlepage"><div><div><h2 class="title">2.11. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned.conf(5)</code> man page
					</li><li class="listitem">
						The <span class="strong strong"><strong>Tuned</strong></span> project website: <a class="link" href="https://tuned-project.org/">https://tuned-project.org/</a>
					</li></ul></div></section></section><section class="chapter" id="monitoring-performance-with-performance-co-pilot_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Monitoring performance with Performance Co-Pilot</h1></div></div></div><p>
			As a system administrator, you can monitor the system’s performance using the Performance Co-Pilot (PCP) application in Red Hat Enterprise Linux 8.
		</p><section class="section" id="overview-of-pcp_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.1. Overview of PCP</h2></div></div></div><p>
				PCP is a suite of tools, services, and libraries for monitoring, visualizing, storing, and analyzing system-level performance measurements.
			</p><p>
				Features of PCP:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Light-weight distributed architecture, which is useful during the centralized analysis of complex systems.
					</li><li class="listitem">
						It allows the monitoring and management of real-time data.
					</li><li class="listitem">
						It allows logging and retrieval of historical data.
					</li></ul></div><p>
				You can add performance metrics using Python, Perl, C++, and C interfaces. Analysis tools can use the Python, C++, C client APIs directly, and rich web applications can explore all available performance data using a JSON interface.
			</p><p>
				You can analyze data patterns by comparing live results with archived data.
			</p><p>
				PCP has the following components:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The Performance Metric Collector Daemon (<code class="literal">pmcd</code>) collects performance data from the installed Performance Metric Domain Agents (<code class="literal">pmda</code>). <span class="strong strong"><strong>PMDAs</strong></span> can be individually loaded or unloaded on the system and are controlled by the <span class="strong strong"><strong>PMCD</strong></span> on the same host.
					</li><li class="listitem">
						Various client tools, such as <code class="literal">pminfo</code> or <code class="literal">pmstat</code>, can retrieve, display, archive, and process this data on the same host or over the network.
					</li><li class="listitem">
						The <code class="literal">pcp</code> package provides the command-line tools and underlying functionality.
					</li><li class="listitem">
						The <code class="literal">pcp-gui</code> package provides the graphical application. Install the <code class="literal">pcp-gui</code> package by executing the <code class="literal">yum install pcp-gui</code> command. For more information, see <a class="xref" href="index.html#visually-tracing-pcp-log-archives-with-pcp-charts_monitoring-performance-with-performance-co-pilot" title="3.6. Visually tracing PCP log archives with the PCP Charts application">Section 3.6, “Visually tracing PCP log archives with the <span class="strong strong"><strong>PCP Charts</strong></span> application”</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">/usr/share/doc/pcp-doc/</code> directory.
					</li><li class="listitem">
						<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>.
					</li><li class="listitem">
						The <a class="link" href="https://access.redhat.com/articles/1145953">Index of Performance Co-Pilot (PCP) articles, solutions, tutorials and white papers</a> on Red Hat Customer Portal.
					</li><li class="listitem">
						The <a class="link" href="https://access.redhat.com/articles/2372811">Side-by-side comparison of PCP tools with legacy tools</a> Red Hat Knowledgebase article.
					</li><li class="listitem">
						The upstream <a class="link" href="http://pcp.io/documentation.html">PCP documentation</a>.
					</li></ul></div></section><section class="section" id="installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.2. Installing and enabling PCP</h2></div></div></div><p>
				To begin using PCP, install all the required packages and enable the PCP monitoring services.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the PCP package:
					</p><pre class="screen"># yum install pcp</pre></li><li class="listitem"><p class="simpara">
						Enable and start the <code class="literal">pmcd</code> service on the host machine:
					</p><pre class="screen"># systemctl enable pmcd

# systemctl start pmcd</pre></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal">pmcd</code> process is running on the host and the XFS PMDA is listed as enabled in the configuration:
					</p><pre class="screen"># pcp

Performance Co-Pilot configuration on workstation:

platform: Linux workstation 4.18.0-80.el8.x86_64 #1 SMP Wed Mar 13 12:02:46 UTC 2019 x86_64
hardware: 12 cpus, 2 disks, 1 node, 36023MB RAM
timezone: CEST-2
services: pmcd
pmcd: Version 4.3.0-1, 8 agents
pmda: root pmcd proc xfs linux mmv kvm jbd2</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>.
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmcd.1.html">pmcd</a> man page.
					</li></ul></div></section><section class="section" id="deploying-a-minimal-pcp-setup_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.3. Deploying a minimal PCP setup</h2></div></div></div><p>
				The minimal PCP setup collects performance statistics on Red Hat Enterprise Linux. The setup involves adding the minimum number of packages on a production system needed to gather data for further analysis. You can analyze the resulting <code class="literal">tar.gz</code> file and the archive of the <code class="literal">pmlogger</code> output using various PCP tools and compare them with other sources of performance information.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Update the <code class="literal">pmlogger</code> configuration:
					</p><pre class="screen"># pmlogconf -r /var/lib/pcp/config/pmlogger/config.default</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">pmcd</code> and <code class="literal">pmlogger</code> services:
					</p><pre class="screen"># systemctl start pmcd.service

# systemctl start pmlogger.service</pre></li><li class="listitem">
						Execute the required operations to record the performance data.
					</li><li class="listitem"><p class="simpara">
						Stop the <code class="literal">pmcd</code> and <code class="literal">pmlogger</code> services:
					</p><pre class="screen"># systemctl stop pmcd.service

# systemctl stop pmlogger.service</pre></li><li class="listitem"><p class="simpara">
						Save the output and save it to a <code class="literal">tar.gz</code> file named based on the host name and the current date and time:
					</p><pre class="screen"># cd /var/log/pcp/pmlogger/

# tar -czf $(hostname).$(date +%F-%Hh%M).pcp.tar.gz $(hostname)</pre><p class="simpara">
						Extract this file and analyze the data using PCP tools.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmlogconf.1.html">pmlogconf</a> man page.
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmcd.1.html">pmcd</a> man page.
					</li></ul></div></section><section class="section" id="logging-performance-data-with-pmlogger_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.4. Logging performance data with pmlogger</h2></div></div></div><p>
				With the PCP tool you can log the performance metric values and replay them later. This allows you to perform a retrospective performance analysis.
			</p><p>
				Using the <code class="literal">pmlogger</code> tool, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create the archived logs of selected metrics on the system
					</li><li class="listitem">
						Specify which metrics are recorded on the system and how often
					</li></ul></div><section class="section" id="modifying-the-pmlogger-configuration-file-with-pmlogconf_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.1. Modifying the pmlogger configuration file with pmlogconf</h3></div></div></div><p>
					When the <code class="literal">pmlogger</code> service is running, PCP logs a default set of metrics on the host. Use the <code class="literal">pmlogconf</code> utility to check the default configuration. If the <code class="literal">pmlogger</code> configuration file does not exist, <code class="literal">pmlogconf</code> creates it with a default metric values.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create or modify the <code class="literal">pmlogger</code> configuration file:
						</p><pre class="screen"># pmlogconf -r /var/lib/pcp/config/pmlogger/config.default</pre></li><li class="listitem">
							Follow <code class="literal">pmlogconf</code> prompts to enable or disable groups of related performance metrics and to control the logging interval for each enabled group.
						</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogconf.1.html">pmlogconf</a> man page.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li></ul></div></section><section class="section" id="editing-the-pmlogger-configuration-file-manually_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.2. Editing the pmlogger configuration file manually</h3></div></div></div><p>
					To create a tailored logging configuration with specific metrics and given intervals, edit the <code class="literal">pmlogger</code> configuration file manually.
				</p><p>
					In manual configuration, you can:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Record metrics which are not listed in the automatic configuration.
						</li><li class="listitem">
							Choose custom logging frequencies.
						</li><li class="listitem">
							Add <span class="strong strong"><strong>PMDA</strong></span> with the application metrics.
						</li></ul></div><p>
					The default <code class="literal">pmlogger</code> configuration file is <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code>. The configuration file specifies which metrics are logged by the primary logging instance.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Open and edit the <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code> file to add specific metrics:
						</p><pre class="screen"># It is safe to make additions from here on ...
#

log mandatory on every 5 seconds {
    xfs.write
    xfs.write_bytes
    xfs.read
    xfs.read_bytes
}

log mandatory on every 10 seconds {
    xfs.allocs
    xfs.block_map
    xfs.transactions
    xfs.log

}

[access]
disallow * : all;
allow localhost : enquire;</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li></ul></div></section><section class="section" id="enabling-the-pmlogger-service_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.3. Enabling the pmlogger service</h3></div></div></div><p>
					The <code class="literal">pmlogger</code> service must be started and enabled to log the metric values on the local machine.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Start and enable the <code class="literal">pmlogger</code> service:
						</p><pre class="screen"># systemctl start pmlogger

# systemctl enable pmlogger</pre></li><li class="listitem"><p class="simpara">
							Verify that the <code class="literal">pmlogger</code> is enabled:
						</p><pre class="screen"># pcp

Performance Co-Pilot configuration on workstation:

platform: Linux workstation 4.18.0-80.el8.x86_64 #1 SMP Wed Mar 13 12:02:46 UTC 2019 x86_64
hardware: 12 cpus, 2 disks, 1 node, 36023MB RAM
timezone: CEST-2
services: pmcd
pmcd: Version 4.3.0-1, 8 agents, 1 client
pmda: root pmcd proc xfs linux mmv kvm jbd2
pmlogger: primary logger: /var/log/pcp/pmlogger/workstation/20190827.15.54</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
						</li><li class="listitem">
							The <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code> file.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li></ul></div></section><section class="section" id="setting-up-a-client-system-for-metrics-collection_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.4. Setting up a client system for metrics collection</h3></div></div></div><p>
					This procedure describes how to set up a client system so that a central server can collect metrics from clients running PCP.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal">pcp-system-tools</code> package:
						</p><pre class="screen"># yum install pcp-system-tools</pre></li><li class="listitem"><p class="simpara">
							Configure an IP address for <code class="literal">pmcd</code>:
						</p><pre class="screen"># echo "-i <span class="emphasis"><em>192.168.4.62</em></span>" &gt;&gt;/etc/pcp/pmcd/pmcd.options</pre><p class="simpara">
							Replace <span class="emphasis"><em>192.168.4.62</em></span> with the IP address, the client should listen on.
						</p><p class="simpara">
							By default, <code class="literal">pmcd</code> is listening on the localhost.
						</p></li><li class="listitem"><p class="simpara">
							Configure the firewall to add the public <code class="literal">zone</code> permanently:
						</p><pre class="screen"># firewall-cmd --permanent --zone=public --add-port=44321/tcp
success

# firewall-cmd --reload
success</pre></li><li class="listitem"><p class="simpara">
							Set an SELinux boolean:
						</p><pre class="screen"># setsebool -P pcp_bind_all_unreserved_ports on</pre></li><li class="listitem"><p class="simpara">
							Enable the <code class="literal">pmcd</code> and <code class="literal">pmlogger</code> services:
						</p><pre class="screen"># systemctl enable pmcd pmlogger
# systemctl restart pmcd pmlogger</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify if the <code class="literal">pmcd</code> is correctly listening on the configured IP address:
						</p><pre class="literallayout white-space-pre"># ss -tlp | grep 44321
LISTEN   0   5     127.0.0.1:44321   0.0.0.0:*   users:(("pmcd",pid=151595,fd=6))
LISTEN   0   5  <span class="emphasis"><em>192.168.4.62:44321</em></span>   0.0.0.0:*   users:(("pmcd",pid=151595,fd=0))
LISTEN   0   5         [::1]:44321      [::]:*   users:(("pmcd",pid=151595,fd=7))</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>.
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>.
						</li><li class="listitem">
							The <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code> file.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li><li class="listitem">
							The <code class="literal">firewall-cmd</code> man page.
						</li><li class="listitem">
							The <code class="literal">setsebool</code> man page.
						</li><li class="listitem">
							The <code class="literal">ss</code> man page.
						</li></ul></div></section><section class="section" id="setting-up-the-central-server-to-collect-data_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.5. Setting up a central server to collect data</h3></div></div></div><p>
					This procedure describes how to create a central server to collect metrics from clients running PCP.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li><li class="listitem">
							Client is configured for metrics collection. For more information, see <a class="xref" href="index.html#setting-up-a-client-system-for-metrics-collection_logging-performance-data-with-pmlogger" title="3.4.4. Setting up a client system for metrics collection">Section 3.4.4, “Setting up a client system for metrics collection”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal">pcp-system-tools</code> package:
						</p><pre class="screen"># yum install pcp-system-tools</pre></li><li class="listitem"><p class="simpara">
							Add clients for monitoring:
						</p><pre class="literallayout white-space-pre"># echo "<span class="emphasis"><em>192.168.4.13</em></span> n n PCP_LOG_DIR/pmlogger/rhel7u4a -r -T24h10m \
-c config.remote"  &gt;&gt; /etc/pcp/pmlogger/control.d/remote

# echo "<span class="emphasis"><em>192.168.4.14</em></span> n n PCP_LOG_DIR/pmlogger/rhel6u10a -r -T24h10m \
 -c config.remote" &gt;&gt; /etc/pcp/pmlogger/control.d/remote

# echo "<span class="emphasis"><em>192.168.4.62</em></span> n n PCP_LOG_DIR/pmlogger/rhel8u1a -r -T24h10m \
-c config.remote" &gt;&gt; /etc/pcp/pmlogger/control.d/remote</pre><p class="simpara">
							Replace <span class="emphasis"><em>192.168.4.13</em></span>, <span class="emphasis"><em>192.168.4.14</em></span>, and <span class="emphasis"><em>192.168.4.62</em></span> with the client IP addresses.
						</p></li><li class="listitem"><p class="simpara">
							Enable the <code class="literal">pmcd</code> and <code class="literal">pmlogger</code> services:
						</p><pre class="screen"># systemctl enable pmcd pmlogger
# systemctl restart pmcd pmlogger</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Ensure that you can access the latest archive file from each directory:
						</p><pre class="screen"># for i in /var/log/pcp/pmlogger/rhel*/*.0; do pmdumplog -L $i; done
Log Label (Log Format Version 2)
Performance metrics from host rhel6u10a.local
  commencing Mon Nov 25 21:55:04.851 2019
  ending     Mon Nov 25 22:06:04.874 2019
Archive timezone: JST-9
PID for pmlogger: 24002
Log Label (Log Format Version 2)
Performance metrics from host rhel7u4a
  commencing Tue Nov 26 06:49:24.954 2019
  ending     Tue Nov 26 07:06:24.979 2019
Archive timezone: CET-1
PID for pmlogger: 10941
[..]</pre><p class="simpara">
							The archive files from the <code class="literal">/var/log/pcp/pmlogger/</code> directory can be used for further analysis and graphing.
						</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>.
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>.
						</li><li class="listitem">
							The <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code> file.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li></ul></div></section><section class="section" id="replaying-the-pcp-log-archives_logging-performance-data-with-pmlogger"><div class="titlepage"><div><div><h3 class="title">3.4.6. Replaying the PCP log archives with pmdumptext</h3></div></div></div><p>
					After recording the metric data, you can replay the PCP log archives. To export the logs to text files and import them into spreadsheets, use PCP utilities such as <code class="literal">pmdumptext</code>, <code class="literal">pmrep</code>, or <code class="literal">pmlogsummary</code>.
				</p><p>
					Using the <code class="literal">pmdumptext</code> tool, you can:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							View the log files
						</li><li class="listitem">
							Parse the selected PCP log archive and export the values into an ASCII table
						</li><li class="listitem">
							Extract the entire archive log or only select metric values from the log by specifying individual metrics on the command line
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li><li class="listitem">
							The <code class="literal">pmlogger</code> service is enabled. For more information, see <a class="xref" href="index.html#enabling-the-pmlogger-service_logging-performance-data-with-pmlogger" title="3.4.3. Enabling the pmlogger service">Section 3.4.3, “Enabling the pmlogger service”</a>.
						</li><li class="listitem"><p class="simpara">
							Install the <code class="literal">pcp-gui</code> package:
						</p><pre class="screen"># yum install pcp-gui</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Display the data on the metric:
						</p><pre class="screen">$ pmdumptext -t <span class="emphasis"><em>5seconds</em></span> -H -a 20170605 xfs.perdev.log.writes

Time local::xfs.perdev.log.writes["/dev/mapper/fedora-home"] local::xfs.perdev.log.writes["/dev/mapper/fedora-root"]
? 0.000 0.000
none count / second count / second
Mon Jun 5 12:28:45 ? ?
Mon Jun 5 12:28:50 0.000 0.000
Mon Jun 5 12:28:55 0.200 0.200
Mon Jun 5 12:29:00 6.800 1.000</pre><p class="simpara">
							The mentioned example displays the data on the <code class="literal">xfs.perdev.log</code> metric collected in an archive at a <span class="emphasis"><em>5 second</em></span> interval and display all the headers.
						</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmdumptext.1.html">pmdumptext</a> man page.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmrep.1.html">pmrep</a> man page.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogsummary.1.html">pmlogsummary</a> man page.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
						</li></ul></div></section></section><section class="section" id="monitoring-postfix-with-pmda-postfix_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.5. Monitoring postfix with pmda-postfix</h2></div></div></div><p>
				This procedure describes how to monitor performance metrics of the <code class="literal">postfix</code> mail server with <code class="literal">pmda-postfix</code>. It helps to check how many emails are received per second.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
					</li><li class="listitem">
						The <code class="literal">pmlogger</code> service is enabled. For more information, see <a class="xref" href="index.html#enabling-the-pmlogger-service_logging-performance-data-with-pmlogger" title="3.4.3. Enabling the pmlogger service">Section 3.4.3, “Enabling the pmlogger service”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the following packages:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the <code class="literal">pcp-system-tools</code>:
							</p><pre class="screen"># yum install pcp-system-tools</pre></li><li class="listitem"><p class="simpara">
								Install the <code class="literal">pmda-postfix</code> package to monitor <code class="literal">postfix</code>:
							</p><pre class="screen"># yum install pcp-pmda-postfix postfix</pre></li><li class="listitem"><p class="simpara">
								Install the logging daemon:
							</p><pre class="screen"># yum install rsyslog</pre></li><li class="listitem"><p class="simpara">
								Install the mail client for testing:
							</p><pre class="screen"># yum install mutt</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Enable the <code class="literal">postfix</code> and <code class="literal">rsyslog</code> services:
					</p><pre class="screen"># systemctl enable postfix rsyslog
# systemctl restart postfix rsyslog</pre></li><li class="listitem"><p class="simpara">
						Enable the SELinux boolean, so that <code class="literal">pmda-postfix</code> can access the required log files:
					</p><pre class="screen"># setsebool -P pcp_read_generic_logs=on</pre></li><li class="listitem"><p class="simpara">
						Install the <code class="literal">PMDA</code>:
					</p><pre class="screen"># cd /var/lib/pcp/pmdas/postfix/

# ./Install

Updating the Performance Metrics Name Space (PMNS) ...
Terminate PMDA if already installed ...
Updating the PMCD control file, and notifying PMCD ...
Waiting for pmcd to terminate ...
Starting pmcd ...
Check postfix metrics have appeared ... 7 metrics and 58 values</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify the <code class="literal">pmda-postfix</code> operation:
					</p><pre class="screen">echo testmail | mutt root</pre></li><li class="listitem"><p class="simpara">
						Verify the available metrics:
					</p><pre class="screen"># pminfo postfix

postfix.received
postfix.sent
postfix.queues.incoming
postfix.queues.maildrop
postfix.queues.hold
postfix.queues.deferred
postfix.queues.active</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.8. System services distributed with PCP">Section 3.8, “System services distributed with PCP”</a>
					</li><li class="listitem">
						The <code class="literal">/var/lib/pcp/config/pmlogger/config.default</code> file.
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmlogger.1.html">pmlogger</a> man page.
					</li><li class="listitem">
						The <code class="literal">rsyslog</code> man page.
					</li><li class="listitem">
						The <code class="literal">postfix</code> man page.
					</li><li class="listitem">
						The <code class="literal">setsebool</code> man page.
					</li></ul></div></section><section class="section" id="visually-tracing-pcp-log-archives-with-pcp-charts_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.6. Visually tracing PCP log archives with the <span class="strong strong"><strong>PCP Charts</strong></span> application</h2></div></div></div><p>
				After recording metric data, you can replay the PCP log archives as graphs.
			</p><p>
				Using the <span class="strong strong"><strong>PCP Charts</strong></span> application, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Replay the data in the <span class="strong strong"><strong>PCP Charts</strong></span> application application and use graphs to visualize the retrospective data alongside live data of the system.
					</li><li class="listitem">
						Plot performance metric values into graphs.
					</li><li class="listitem">
						Display multiple charts simultaneously.
					</li></ul></div><p>
				The metrics are sourced from one or more live hosts with alternative options to use metric data from PCP log archives as a source of historical data.
			</p><p>
				Following are the several ways to customize the <span class="strong strong"><strong>PCP Charts</strong></span> application interface to display the data from the performance metrics:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						line plot
					</li><li class="listitem">
						bar graphs
					</li><li class="listitem">
						utilization graphs
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
					</li><li class="listitem">
						Logged performance data with the <code class="literal">pmlogger</code>. For more information, see <a class="xref" href="index.html#logging-performance-data-with-pmlogger_monitoring-performance-with-performance-co-pilot" title="3.4. Logging performance data with pmlogger">Section 3.4, “Logging performance data with pmlogger”</a>.
					</li><li class="listitem"><p class="simpara">
						Install the <code class="literal">pcp-gui</code> package:
					</p><pre class="screen"># yum install pcp-gui</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Launch the <span class="strong strong"><strong>PCP Charts</strong></span> application from the command line:
					</p><pre class="screen"># pmchart</pre><p class="simpara">
						<span class="inlinemediaobject"><img src="pmchart_started.png" alt="pmchart started"/></span>

					</p><p class="simpara">
						The <code class="literal">pmtime</code> server settings are located at the bottom. The <span class="strong strong"><strong>start</strong></span> and <span class="strong strong"><strong>pause</strong></span> button allows you to control:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The interval in which PCP polls the metric data
							</li><li class="listitem">
								The date and time for the metrics of historical data
							</li></ul></div></li><li class="listitem">
						Go to <span class="strong strong"><strong>File → New Chart</strong></span> to select metric from both the local machine and remote machines by specifying their host name or address. Advanced configuration options include the ability to manually set the axis values for the chart, and to manually choose the color of the plots.
					</li><li class="listitem"><p class="simpara">
						Record the views created in the <span class="strong strong"><strong>PCP Charts</strong></span> application:
					</p><p class="simpara">
						Following are the options to take images or record the views created in the <span class="strong strong"><strong>PCP Charts</strong></span> application:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Click <span class="strong strong"><strong>File → Export</strong></span> to save an image of the current view.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Record → Start</strong></span> to start a recording. Click <span class="strong strong"><strong>Record → Stop</strong></span> to stop the recording. After stopping the recording, the recorded metrics are archived to be viewed later.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: In the <span class="strong strong"><strong>PCP Charts</strong></span> application, the main configuration file, known as the <span class="strong strong"><strong>view</strong></span>, allows the metadata associated with one or more charts to be saved. This metadata describes all chart aspects, including the metrics used and the chart columns. Save the custom <span class="strong strong"><strong>view</strong></span> configuration by clicking <span class="strong strong"><strong>File → Save View</strong></span>, and load the <span class="strong strong"><strong>view</strong></span> configuration later. The following example of the <span class="strong strong"><strong>PCP Charts</strong></span> application view configuration file describes a stacking chart graph showing the total number of bytes read and written to the given XFS file system <code class="literal">loop1</code>:
					</p><pre class="screen">#kmchart
version 1

chart title "Filesystem Throughput /loop1" style stacking antialiasing off
    plot legend "Read rate"   metric xfs.read_bytes   instance  "loop1"
    plot legend "Write rate"  metric xfs.write_bytes  instance  "loop1"</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmchart.1.html">pmchart</a> man page.
					</li><li class="listitem">
						The <a class="link" href="https://pcp.io/man/man1/pmtime.1.html">pmtime</a> man page.
					</li></ul></div></section><section class="section" id="xfs-file-system-performance-analysis-with-pcp_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.7. XFS file system performance analysis with PCP</h2></div></div></div><p>
				The XFS PMDA ships as part of the <code class="literal">pcp</code> package and is enabled by default during the installation. It is used to gather performance metric data of XFS file systems in PCP.
			</p><section class="section" id="installing-xfs-pmda-manually_xfs-file-system-performance-analysis-with-pcp"><div class="titlepage"><div><div><h3 class="title">3.7.1. Installing XFS PMDA manually</h3></div></div></div><p>
					If the XFS PMDA is not listed in PCP configuration readout, install the PMDA agent manually.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Navigate to the xfs directory:
						</p><pre class="screen"># cd /var/lib/pcp/pmdas/xfs/</pre></li><li class="listitem"><p class="simpara">
							Install the XFS PMDA manually:
						</p><pre class="screen">xfs]# ./Install

You will need to choose an appropriate configuration for install of
the “xfs” Performance Metrics Domain Agent (PMDA).

  collector     collect performance statistics on this system
  monitor       allow this system to monitor local and/or remote systems
  both          collector and monitor configuration for this system

Please enter c(ollector) or m(onitor) or (both) [b]
Updating the Performance Metrics Name Space (PMNS) ...
Terminate PMDA if already installed ...
Updating the PMCD control file, and notifying PMCD ...
Waiting for pmcd to terminate ...
Starting pmcd ...
Check xfs metrics have appeared ... 149 metrics and 149 values</pre></li><li class="listitem"><p class="simpara">
							Select the intended PMDA role by entering <code class="literal">c</code> for collector, <code class="literal">m</code> for monitor, or <code class="literal">b</code> for both. The PMDA installation script prompts you to specify one of the following PMDA roles:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The <code class="literal">collector</code> role allows the collection of performance metrics on the current system
								</li><li class="listitem"><p class="simpara">
									The <code class="literal">monitor</code> role allows the system to monitor local systems, remote systems, or both
								</p><p class="simpara">
									The default option is both <code class="literal">collector</code> and <code class="literal">monitor</code>, which allows the XFS PMDA to operate correctly in most scenarios.
								</p></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmcd.1.html">pmcd</a> man page.
						</li></ul></div></section><section class="section" id="examining-xfs-performance-metrics-with-pminfo_xfs-file-system-performance-analysis-with-pcp"><div class="titlepage"><div><div><h3 class="title">3.7.2. Examining XFS performance metrics with pminfo</h3></div></div></div><p>
					The <code class="literal">pminfo</code> tool displays information about the available performance metrics. This procedure displays a list of all available metrics provided by the XFS PMDA.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the list of all available metrics provided by the XFS PMDA:
						</p><pre class="screen"># pminfo xfs</pre></li><li class="listitem"><p class="simpara">
							Display information for the individual metrics. The following examples examine specific XFS <code class="literal">read</code> and <code class="literal">write</code> metrics using the <code class="literal">pminfo</code> tool:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Display a short description of the <code class="literal">xfs.write_bytes</code> metric:
								</p><pre class="screen"># pminfo --online xfs.write_bytes

xfs.write_bytes [number of bytes written in XFS file system write operations]</pre></li><li class="listitem"><p class="simpara">
									Display a long description of the <code class="literal">xfs.read_bytes</code> metric:
								</p><pre class="screen"># pminfo --helptext xfs.read_bytes

xfs.read_bytes
Help:
This is the number of bytes read via read(2) system calls to files in
XFS file systems. It can be used in conjunction with the read_calls
count to calculate the average size of the read operations to file in
XFS file systems.</pre></li><li class="listitem"><p class="simpara">
									Obtain the current performance value of the <code class="literal">xfs.read_bytes</code> metric:
								</p><pre class="screen"># pminfo --fetch xfs.read_bytes

xfs.read_bytes
    value 4891346238</pre></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot" title="3.10. PCP metric groups for XFS">Section 3.10, “PCP metric groups for XFS”</a>.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pminfo.1.html">pminfo</a> man page.
						</li></ul></div></section><section class="section" id="resetting-xfs-performance-metrics-with-pmstore_xfs-file-system-performance-analysis-with-pcp"><div class="titlepage"><div><div><h3 class="title">3.7.3. Resetting XFS performance metrics with pmstore</h3></div></div></div><p>
					With PCP, you can modify the values of certain metrics, especially if the metric acts as a control variable, such as the <code class="literal">xfs.control.reset</code> metric. To modify a metric value, use the <code class="literal">pmstore</code> tool.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the value of a metric:
						</p><pre class="screen">$ pminfo -f xfs.write

xfs.write
    value 325262</pre></li><li class="listitem"><p class="simpara">
							Reset all the XFS metrics:
						</p><pre class="screen"># pmstore xfs.control.reset 1

xfs.control.reset old value=0 new value=1</pre></li><li class="listitem"><p class="simpara">
							View the information after resetting the metric:
						</p><pre class="screen">$ pminfo --fetch xfs.write

xfs.write
    value 0</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot" title="3.9. Tools distributed with PCP">Section 3.9, “Tools distributed with PCP”</a>
						</li><li class="listitem">
							<a class="xref" href="index.html#pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot" title="3.10. PCP metric groups for XFS">Section 3.10, “PCP metric groups for XFS”</a>.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pmstore.1.html">pmstore</a> man page.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pminfo.1.html">pminfo</a> man page.
						</li></ul></div></section><section class="section" id="examining-xfs-metrics-available-per-file-system_xfs-file-system-performance-analysis-with-pcp"><div class="titlepage"><div><div><h3 class="title">3.7.4. Examining XFS metrics available per file system</h3></div></div></div><p>
					PCP enables XFS PMDA to allow the reporting of certain XFS metrics per each of the mounted XFS file systems. This makes it easier to pinpoint specific mounted file system issues and evaluate performance. The <code class="literal">pminfo</code> command provides per-device XFS metrics for each mounted XFS file system.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							PCP is installed. For more information, see <a class="xref" href="index.html#installing-and-enabling-pcp_monitoring-performance-with-performance-co-pilot" title="3.2. Installing and enabling PCP">Section 3.2, “Installing and enabling PCP”</a>.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Obtain per-device XFS metrics with <code class="literal">pminfo</code>:
						</p><pre class="screen"># pminfo --fetch --online xfs.perdev.read xfs.perdev.write

xfs.perdev.read [number of XFS file system read operations]
inst [0 or "loop1"] value 0
inst [0 or "loop2"] value 0

xfs.perdev.write [number of XFS file system write operations]
inst [0 or "loop1"] value 86
inst [0 or "loop2"] value 0</pre></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#per-device-pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot" title="3.11. Per-device PCP metric groups for XFS">Section 3.11, “Per-device PCP metric groups for XFS”</a>.
						</li><li class="listitem">
							The <a class="link" href="https://pcp.io/man/man1/pminfo.1.html">pminfo</a> man page.
						</li></ul></div></section></section><section class="section" id="system-services-distributed-with-pcp_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.8. System services distributed with PCP</h2></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
								Name
							</p>
							 </td><td align="left" valign="top"> <p>
								Description
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmcd</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								The Performance Metric Collector Daemon (PMCD).
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmie</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								The Performance Metrics Inference Engine.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmlogger</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								The performance metrics logger.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmmgr</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Manages a collection of PCP daemons for a set of discovered local and remote hosts running the Performance Metric Collector Daemon (PMCD) according to zero or more configuration directories.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmproxy</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								The Performance Metric Collector Daemon (PMCD) proxy server.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmwebd</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Binds a subset of the Performance Co-Pilot client API to RESTful web applications using the HTTP protocol.
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="tools-distributed-with-pcp_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.9. Tools distributed with PCP</h2></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
								Name
							</p>
							 </td><td align="left" valign="top"> <p>
								Description
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pcp</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays the current status of a Performance Co-Pilot installation.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pcp-atop</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Shows the system-level occupation of the most critical hardware resources from the performance point of view: CPU, memory, disk, and network.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pcp-dstat</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays metrics of one system at a time. To display metrics of multiple systems, use <code class="literal">--host</code> option.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmchart</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Plots performance metrics values available through the facilities of the Performance Co-Pilot.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmclient</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays high-level system performance metrics by using the Performance Metrics Application Programming Interface (PMAPI).
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmcollectl</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Collects and displays system-level data, either from a live system or from a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmconfig</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays the values of configuration parameters.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmdbg</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays available Performance Co-Pilot debug control flags and their values.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmdiff</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Compares the average values for every metric in either one or two archives, in a given time window, for changes that are likely to be of interest when searching for performance regressions.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmdumplog</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays control, metadata, index, and state information from a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmdumptext</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Outputs the values of performance metrics collected live or from a Performance Co-Pilot archive.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmerr</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays available Performance Co-Pilot error codes and their corresponding error messages.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmfind</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Finds PCP services on the network.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmie</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								An inference engine that periodically evaluates a set of arithmetic, logical, and rule expressions. The metrics are collected either from a live system, or from a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmieconf</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays or sets configurable pmie variables.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pminfo</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays information about performance metrics. The metrics are collected either from a live system, or from a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmiostat</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Reports I/O statistics for SCSI devices (by default) or device-mapper devices (with the -x dm option).
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmlc</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Interactively configures active pmlogger instances.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmlogcheck</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Identifies invalid data in a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmlogconf</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Creates and modifies a pmlogger configuration file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmloglabel</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Verifies, modifies, or repairs the label of a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmlogsummary</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Calculates statistical information about performance metrics stored in a Performance Co-Pilot archive file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmprobe</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Determines the availability of performance metrics.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmrep</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Reports on selected, easily customizable, performance metrics values.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmsocks</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Allows access to a Performance Co-Pilot hosts through a firewall.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmstat</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Periodically displays a brief summary of system performance.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmstore</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Modifies the values of performance metrics.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmtrace</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Provides a command line interface to the trace Performance Metrics Domain Agent (PMDA).
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">pmval</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Displays the current value of a performance metric.
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.10. PCP metric groups for XFS</h2></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
								Metric Group
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics provided
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								General XFS metrics including the read and write operation counts, read and write byte counts. Along with counters for the number of times inodes are flushed, clustered and number of failure to cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.allocs.*</code>
							</p>
							 <p>
								<code class="literal">xfs.alloc_btree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Range of metrics regarding the allocation of objects in the file system, these include number of extent and block creations/frees. Allocation tree lookup and compares along with extend record creation and deletion from the btree.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.block_map.*</code>
							</p>
							 <p>
								<code class="literal">xfs.bmap_tree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics include the number of block map read/write and block deletions, extent list operations for insertion, deletions and lookups. Also operations counters for compares, lookups, insertions and deletion operations from the blockmap.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.dir_ops.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for directory operations on XFS file systems for creation, entry deletions, count of “getdent” operations.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.transactions.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of meta-data transactions, these include the count for the number of synchronous and asynchronous transactions along with the number of empty transactions.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.inode_ops.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of times that the operating system looked for an XFS inode in the inode cache with different outcomes. These count cache hits, cache misses, and so on.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.log.*</code>
							</p>
							 <p>
								<code class="literal">xfs.log_tail.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of log buffer writes over XFS file sytems includes the number of blocks written to disk. Metrics also for the number of log flushes and pinning.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.xstrat.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counts for the number of bytes of file data flushed out by the XFS flush deamon along with counters for number of buffers flushed to contiguous and non-contiguous space on disk.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.attr.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counts for the number of attribute get, set, remove and list operations over all XFS file systems.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.quota.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics for quota operation over XFS file systems, these include counters for number of quota reclaims, quota cache misses, cache hits and quota data reclaims.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.buffer.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Range of metrics regarding XFS buffer objects. Counters include the number of requested buffer calls, successful buffer locks, waited buffer locks, miss_locks, miss_retries and buffer hits when looking up pages.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.btree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics regarding the operations of the XFS btree.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.control.reset</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Configuration metrics which are used to reset the metric counters for the XFS stats. Control metrics are toggled by means of the pmstore tool.
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="per-device-pcp-metric-groups-for-xfs_monitoring-performance-with-performance-co-pilot"><div class="titlepage"><div><div><h2 class="title">3.11. Per-device PCP metric groups for XFS</h2></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
								Metric Group
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics provided
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								General XFS metrics including the read and write operation counts, read and write byte counts. Along with counters for the number of times inodes are flushed, clustered and number of failure to cluster.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.allocs.*</code>
							</p>
							 <p>
								<code class="literal">xfs.perdev.alloc_btree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Range of metrics regarding the allocation of objects in the file system, these include number of extent and block creations/frees. Allocation tree lookup and compares along with extend record creation and deletion from the btree.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.block_map.*</code>
							</p>
							 <p>
								<code class="literal">xfs.perdev.bmap_tree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics include the number of block map read/write and block deletions, extent list operations for insertion, deletions and lookups. Also operations counters for compares, lookups, insertions and deletion operations from the blockmap.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.dir_ops.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for directory operations of XFS file systems for creation, entry deletions, count of “getdent” operations.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.transactions.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of meta-data transactions, these include the count for the number of synchronous and asynchronous transactions along with the number of empty transactions.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.inode_ops.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of times that the operating system looked for an XFS inode in the inode cache with different outcomes. These count cache hits, cache misses, and so on.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.log.*</code>
							</p>
							 <p>
								<code class="literal">xfs.perdev.log_tail.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counters for the number of log buffer writes over XFS filesytems includes the number of blocks written to disk. Metrics also for the number of log flushes and pinning.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.xstrat.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counts for the number of bytes of file data flushed out by the XFS flush deamon along with counters for number of buffers flushed to contiguous and non-contiguous space on disk.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.attr.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Counts for the number of attribute get, set, remove and list operations over all XFS file systems.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.quota.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics for quota operation over XFS file systems, these include counters for number of quota reclaims, quota cache misses, cache hits and quota data reclaims.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.buffer.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Range of metrics regarding XFS buffer objects. Counters include the number of requested buffer calls, successful buffer locks, waited buffer locks, miss_locks, miss_retries and buffer hits when looking up pages.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								<code class="literal">xfs.perdev.btree.*</code>
							</p>
							 </td><td align="left" valign="top"> <p>
								Metrics regarding the operations of the XFS btree.
							</p>
							 </td></tr></tbody></table></div></section></section><section class="chapter" id="using-the-web-console-for-selecting-performance-profiles_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Using the web console for selecting performance profiles</h1></div></div></div><p>
			Red Hat Enterprise Linux 8 includes performance profiles optimizing:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Systems using Desktop
				</li><li class="listitem">
					Latency performance
				</li><li class="listitem">
					Network performance
				</li><li class="listitem">
					Low power consumption
				</li><li class="listitem">
					Virtual machines
				</li></ul></div><p>
			The following procedure describes setting up performance profiles in the web console.
		</p><p>
			The RHEL 8 web console configures the <code class="literal">tuned</code> service.
		</p><p>
			For details about the <code class="literal">tuned</code> service, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/monitoring_and_managing_system_status_and_performance">Monitoring and managing system status and performance</a>.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					The web console must be installed and accessible.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">Installing the web console</a>.
				</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Log in to the RHEL 8 web console.
				</p><p class="simpara">
					For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
				</p></li><li class="listitem">
					Click <span class="strong strong"><strong>System</strong></span>.
				</li><li class="listitem"><p class="simpara">
					In the <span class="strong strong"><strong>Performance Profile</strong></span> field, click the current performance profile.
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="cockpit-performance-profile.png" alt="cockpit performance profile"/></span>

				</p></li><li class="listitem">
					In the <span class="strong strong"><strong>Change Performance Profile</strong></span> dialog box, change the profile if necessary.
				</li><li class="listitem"><p class="simpara">
					Click <span class="strong strong"><strong>Change</strong></span>.
				</p><p class="simpara">
					<span class="inlinemediaobject"><img src="cockpit-performance-profile-change.png" alt="cockpit performance profile change"/></span>

				</p></li></ol></div><p>
			The change is now available in the <span class="strong strong"><strong>System</strong></span> tab.
		</p></section><section class="chapter" id="setting-the-disk-scheduler_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Setting the disk scheduler</h1></div></div></div><p>
			The disk scheduler is responsible for ordering the I/O requests submitted to a storage device.
		</p><p>
			You can configure the scheduler in several different ways:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Set the scheduler using <span class="strong strong"><strong>Tuned</strong></span>, as described in <a class="xref" href="index.html#setting-the-disk-scheduler-using-tuned_setting-the-disk-scheduler" title="5.6. Setting the disk scheduler using Tuned">Section 5.6, “Setting the disk scheduler using Tuned”</a>
				</li><li class="listitem">
					Set the scheduler using <code class="literal">udev</code>, as described in <a class="xref" href="index.html#setting-the-disk-scheduler-using-udev-rules_setting-the-disk-scheduler" title="5.7. Setting the disk scheduler using udev rules">Section 5.7, “Setting the disk scheduler using udev rules”</a>
				</li><li class="listitem">
					Temporarily change the scheduler on a running system, as described in <a class="xref" href="index.html#temporarily-setting-a-scheduler-for-a-specific-disk_setting-the-disk-scheduler" title="5.8. Temporarily setting a scheduler for a specific disk">Section 5.8, “Temporarily setting a scheduler for a specific disk”</a>
				</li></ul></div><section class="section" id="disk-scheduler-changes-in-rhel-8_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.1. Disk scheduler changes in RHEL 8</h2></div></div></div><p>
				In RHEL 8, block devices support only multi-queue scheduling. This enables the block layer performance to scale well with fast solid-state drives (SSDs) and multi-core systems.
			</p><p>
				The traditional, single-queue schedulers, which were available in RHEL 7 and earlier versions, have been removed.
			</p></section><section class="section" id="available-disk-schedulers_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.2. Available disk schedulers</h2></div></div></div><p>
				The following multi-queue disk schedulers are supported in RHEL 8:
			</p><div class="variablelist"><p class="title"><strong>Disk schedulers</strong></p><dl class="variablelist"><dt><span class="term"><code class="literal">none</code></span></dt><dd>
							Implements a first-in first-out (FIFO) scheduling algorithm. It merges requests at the generic block layer through a simple last-hit cache.
						</dd><dt><span class="term"><code class="literal">mq-deadline</code></span></dt><dd><p class="simpara">
							Attempts to provide a guaranteed latency for requests from the point at which requests reach the scheduler.
						</p><p class="simpara">
							The <code class="literal">mq-deadline</code> scheduler sorts queued I/O requests into a read or write batch and then schedules them for execution in increasing logical block addressing (LBA) order. By default, read batches take precedence over write batches, because applications are more likely to block on read I/O operations. After <code class="literal">mq-deadline</code> processes a batch, it checks how long write operations have been starved of processor time and schedules the next read or write batch as appropriate.
						</p><p class="simpara">
							This scheduler is suitable for most use cases, but particularly those in which read operations occur more often than write operations.
						</p></dd><dt><span class="term"><code class="literal">bfq</code></span></dt><dd><p class="simpara">
							Targets desktop systems and interactive tasks.
						</p><p class="simpara">
							The <code class="literal">bfq</code> scheduler ensures that a single application is never using all of the bandwidth. In effect, the storage device is always as responsive as if it was idle. The system does not become unresponsive when copying large files. In its default configuration, <code class="literal">bfq</code> focuses on delivering the lowest latency rather than achieving the maximum throughput.
						</p><p class="simpara">
							<code class="literal">bfq</code> is based on <code class="literal">cfq</code> code. It does not grant the disk to each process for a fixed time slice but assigns a <span class="emphasis"><em>budget</em></span> measured in number of sectors to the process.
						</p></dd><dt><span class="term"><code class="literal">kyber</code></span></dt><dd>
							Is intended for fast devices. The scheduler tunes itself to achieve a latency goal. You can configure the target latencies for read and synchronous write requests.
						</dd></dl></div></section><section class="section" id="recommended-disk-schedulers-for-different-use-cases_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.3. Recommended disk schedulers for different use cases</h2></div></div></div><p>
				Depending on the task that your system performs, Red Hat recommends the following disk schedulers:
			</p><div class="table" id="idm139692457271216"><p class="title"><strong>Table 5.1. Recommendations</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139692457266384" scope="col">Use case</th><th align="left" valign="top" id="idm139692457265296" scope="col">Disk scheduler recommendation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139692457266384"> <p>
								Traditional HDD with a SCSI interface
							</p>
							 </td><td align="left" valign="top" headers="idm139692457265296"> <p>
								Use <code class="literal">mq-deadline</code> or <code class="literal">bfq</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692457266384"> <p>
								High-performance SSD or a CPU-bound system with fast storage
							</p>
							 </td><td align="left" valign="top" headers="idm139692457265296"> <p>
								Use <code class="literal">none</code>, especially when running enterprise applications. Alternatively, use <code class="literal">kyber</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692457266384"> <p>
								Desktop or interactive tasks
							</p>
							 </td><td align="left" valign="top" headers="idm139692457265296"> <p>
								Use <code class="literal">bfq</code>.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139692457266384"> <p>
								Virtual guest
							</p>
							 </td><td align="left" valign="top" headers="idm139692457265296"> <p>
								Use <code class="literal">mq-deadline</code>. With a multi-queue host bus adapter (HBA), use <code class="literal">none</code>.
							</p>
							 </td></tr></tbody></table></div></div></section><section class="section" id="the-default-disk-scheduler_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.4. The default disk scheduler</h2></div></div></div><p>
				Block devices use the default disk scheduler unless you specify another scheduler.
			</p><p>
				The kernel selects a default disk scheduler based on the type of device. The automatically selected scheduler is typically the optimal setting. If you require a different scheduler, Red Hat recommends to use <code class="literal">udev</code> rules or the <span class="strong strong"><strong>Tuned</strong></span> application to configure it. Match the selected devices and switch the scheduler only for those devices.
			</p></section><section class="section" id="determining-the-active-disk-scheduler_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.5. Determining the active disk scheduler</h2></div></div></div><p>
				This procedure determines which disk scheduler is currently active on a given block device.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Read the content of the <code class="literal filename">/sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler</code> file:
					</p><pre class="screen"># cat /sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler

[mq-deadline] kyber bfq none</pre><p class="simpara">
						In the file name, replace <span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> with the block device name, for example <code class="literal">sdc</code>.
					</p><p class="simpara">
						The active scheduler is listed in square brackets (<code class="literal">[ ]</code>).
					</p></li></ul></div></section><section class="section" id="setting-the-disk-scheduler-using-tuned_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.6. Setting the disk scheduler using Tuned</h2></div></div></div><p>
				This procedure creates and enables a <span class="strong strong"><strong>Tuned</strong></span> profile that sets a given disk scheduler for selected block devices. The setting persists across system reboots.
			</p><p>
				In the following commands and configuration, replace:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> with the name of the block device, for example <code class="literal">sdf</code>
					</li><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span> with the disk scheduler that you want to set for the device, for example <code class="literal">bfq</code>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						The <code class="literal">tuned</code> service is installed and enabled.
					</p><p class="simpara">
						For details, see <a class="xref" href="index.html#installing-and-enabling-tuned_getting-started-with-tuned" title="1.6. Installing and enabling Tuned">Section 1.6, “Installing and enabling Tuned”</a>.
					</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optional: Select an existing <span class="strong strong"><strong>Tuned</strong></span> profile on which your profile will be based. For a list of available profiles, see <a class="xref" href="index.html#tuned-profiles-distributed-with-rhel_getting-started-with-tuned" title="1.3. Tuned profiles distributed with RHEL">Section 1.3, “Tuned profiles distributed with RHEL”</a>.
					</p><p class="simpara">
						To see which profile is currently active, use:
					</p><pre class="screen">$ tuned-adm active</pre></li><li class="listitem"><p class="simpara">
						Create a new directory to hold your <span class="strong strong"><strong>Tuned</strong></span> profile:
					</p><pre class="screen"># mkdir /etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Find the World Wide Name (WWN) identifier of the selected block device:
					</p><pre class="screen">$ udevadm info --query=property --name=/dev/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> | grep WWN=

ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Create the <code class="literal filename">/etc/tuned/<span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span>/tuned.conf</code> configuration file. In the file, set the following options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Optional: Include an existing profile:
							</p><pre class="screen">[main]
include=<span class="emphasis"><em><span class="replaceable replaceable">existing-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
								Set the selected disk scheduler for the device that matches the WWN identifier:
							</p><pre class="screen">[disk]
devices_udev_regex=ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span>
elevator=<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span></pre><p class="simpara">
								To match multiple devices in the <code class="literal option">devices_udev_regex</code> option, separate the identifiers with commas:
							</p><pre class="screen">devices_udev_regex=ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x5002538d00000000</span></em></span>, ID_WWN=<span class="emphasis"><em><span class="replaceable replaceable">0x1234567800000000</span></em></span></pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Enable your profile:
					</p><pre class="screen"># tuned-adm profile <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre></li><li class="listitem"><p class="simpara">
						Verify that the Tuned profile is active and applied:
					</p><pre class="screen">$ tuned-adm active

Current active profile: <span class="emphasis"><em><span class="replaceable replaceable">my-profile</span></em></span></pre><pre class="screen">$ tuned-adm verify

Verification succeeded, current system settings match the preset profile.
See tuned log file ('/var/log/tuned/tuned.log') for details.</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on creating a <span class="strong strong"><strong>Tuned</strong></span> profile, see <a class="xref" href="index.html#customizing-tuned-profiles_monitoring-and-managing-system-status-and-performance" title="Chapter 2. Customizing Tuned profiles">Chapter 2, <em>Customizing Tuned profiles</em></a>.
					</li></ul></div></section><section class="section" id="setting-the-disk-scheduler-using-udev-rules_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.7. Setting the disk scheduler using udev rules</h2></div></div></div><p>
				This procedure sets a given disk scheduler for specific block devices using <code class="literal">udev</code> rules. The setting persists across system reboots.
			</p><p>
				In the following commands and configuration, replace:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> with the name of the block device, for example <code class="literal">sdf</code>
					</li><li class="listitem">
						<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span> with the disk scheduler that you want to set for the device, for example <code class="literal">bfq</code>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the World Wide Identifier (WWID) of the block device:
					</p><pre class="screen">$ udevadm info --attribute-walk --name=/dev/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> | grep wwid

    ATTRS{wwid}=="<span class="emphasis"><em><span class="replaceable replaceable">device WWID</span></em></span>"</pre><p class="simpara">
						An example value of <span class="emphasis"><em><span class="replaceable replaceable">device WWID</span></em></span> is:
					</p><pre class="screen">t10.ATA     SAMSUNG MZNLN256HMHQ-000L7              S2WDNX0J336519</pre></li><li class="listitem"><p class="simpara">
						Configure the <code class="literal">udev</code> rule. Create the <code class="literal filename">/etc/udev/rules.d/99-scheduler.rules</code> file with the following content:
					</p><pre class="screen">ACTION=="add|change", SUBSYSTEM=="block", ATTRS{wwid}=="<span class="emphasis"><em><span class="replaceable replaceable">device WWID</span></em></span>", ATTR{queue/scheduler}="<span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span>"</pre><p class="simpara">
						Replace <span class="emphasis"><em><span class="replaceable replaceable">device WWID</span></em></span> with the WWID value that you found in the previous steps.
					</p></li><li class="listitem"><p class="simpara">
						Reload <code class="literal">udev</code> rules:
					</p><pre class="screen"># udevadm control --reload-rules</pre></li><li class="listitem"><p class="simpara">
						Apply the scheduler configuration:
					</p><pre class="screen"># udevadm trigger --type=devices --action=change</pre></li><li class="listitem"><p class="simpara">
						Verify the active scheduler:
					</p><pre class="screen"># cat /sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler</pre></li></ol></div></section><section class="section" id="temporarily-setting-a-scheduler-for-a-specific-disk_setting-the-disk-scheduler"><div class="titlepage"><div><div><h2 class="title">5.8. Temporarily setting a scheduler for a specific disk</h2></div></div></div><p>
				This procedure sets a given disk scheduler for specific block devices. The setting does not persist across system reboots.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Write the name of the selected scheduler to the <code class="literal filename">/sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler</code> file:
					</p><pre class="screen"># echo <span class="emphasis"><em><span class="replaceable replaceable">selected-scheduler</span></em></span> &gt; /sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler</pre><p class="simpara">
						In the file name, replace <span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span> with the block device name, for example <code class="literal">sdc</code>.
					</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>Verification steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Verify that the scheduler is active on the device:
					</p><pre class="screen"># cat /sys/block/<span class="emphasis"><em><span class="replaceable replaceable">device</span></em></span>/queue/scheduler</pre></li></ul></div></section></section><section class="chapter" id="assembly_tuning-the-performance-of-a-samba-server_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Tuning the performance of a Samba server</h1></div></div></div><p>
			This chapter describes what settings can improve the performance of Samba in certain situations, and which settings can have a negative performance impact.
		</p><p>
			Parts of this section were adopted from the <a class="link" href="https://wiki.samba.org/index.php/Performance_Tuning">Performance Tuning</a> documentation published in the Samba Wiki. License: <a class="link" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Authors and contributors: See the <a class="link" href="https://wiki.samba.org/index.php?title=Performance_Tuning&amp;action=history">history</a> tab on the Wiki page.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Samba is set up as a file or print server
				</p><p class="simpara">
					See <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers">Using Samba as a server</a>.
				</p></li></ul></div><section class="section" id="proc_setting-the-smb-protocol-version_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h2 class="title">6.1. Setting the SMB protocol version</h2></div></div></div><p>
				Each new SMB version adds features and improves the performance of the protocol. The recent Windows and Windows Server operating systems always supports the latest protocol version. If Samba also uses the latest protocol version, Windows clients connecting to Samba benefit from the performance improvements. In Samba, the default value of the server max protocol is set to the latest supported stable SMB protocol version.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To always have the latest stable SMB protocol version enabled, do not set the <code class="literal">server max protocol</code> parameter. If you set the parameter manually, you will need to modify the setting with each new version of the SMB protocol, to have the latest protocol version enabled.
				</p></div></div><p>
				The following procedure explains how to use the default value in the <code class="literal">server max protocol</code> parameter.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Remove the <code class="literal">server max protocol</code> parameter from the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code> file.
					</li><li class="listitem"><p class="simpara">
						Reload the Samba configuration
					</p><pre class="literallayout"># smbcontrol all reload-config</pre></li></ol></div></section><section class="section" id="proc_tuning-shares-with-directories-that-contain-a-large-number-of-files_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h2 class="title">6.2. Tuning shares with directories that contain a large number of files</h2></div></div></div><p>
				Linux supports case-sensitive file names. For this reason, Samba needs to scan directories for uppercase and lowercase file names when searching or accessing a file. You can configure a share to create new files only in lowercase or uppercase, which improves the performance.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Samba is configured as a file server
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Rename all files on the share to lowercase.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Using the settings in this procedure, files with names other than in lowercase will no longer be displayed.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Set the following parameters in the share’s section:
					</p><pre class="literallayout">case sensitive = true
default case = lower
preserve case = no
short preserve case = no</pre><p class="simpara">
						For details about the parameters, see their descriptions in the <code class="literal">smb.conf(5)</code> man page.
					</p></li><li class="listitem"><p class="simpara">
						Verify the <code class="literal filename">/etc/samba/smb.conf</code> file:
					</p><pre class="literallayout"># testparm</pre></li><li class="listitem"><p class="simpara">
						Reload the Samba configuration:
					</p><pre class="literallayout"># smbcontrol all reload-config</pre></li></ol></div><p>
				After you applied these settings, the names of all newly created files on this share use lowercase. Because of these settings, Samba no longer needs to scan the directory for uppercase and lowercase, which improves the performance.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/assembly_using-samba-as-a-server_deploying-different-types-of-servers#proc_verifying-the-smb-conf-file-by-using-the-testparm-utility_assembly_using-samba-as-a-server">Verifying the smb.conf file by using the testparm utility</a>
					</li></ul></div></section><section class="section" id="con_settings-that-can-have-a-negative-performance-impact_assembly_tuning-the-performance-of-a-samba-server"><div class="titlepage"><div><div><h2 class="title">6.3. Settings that can have a negative performance impact</h2></div></div></div><p>
				By default, the kernel in Red Hat Enterprise Linux is tuned for high network performance. For example, the kernel uses an auto-tuning mechanism for buffer sizes. Setting the <code class="literal">socket options</code> parameter in the <code class="literal filename">/etc/samba/smb.conf</code> file overrides these kernel settings. As a result, setting this parameter decreases the Samba network performance in most cases.
			</p><p>
				To use the optimized settings from the Kernel, remove the <code class="literal">socket options</code> parameter from the <code class="literal">[global]</code> section in the <code class="literal filename">/etc/samba/smb.conf</code>.
			</p></section></section><section class="chapter" id="optimizing-virtual-machine-performance-in-rhel-8_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Optimizing virtual machine performance</h1></div></div></div><p>
			Virtual machines (VMs) always experience some degree of performance deterioration in comparison to the host. The following sections explain the reasons for this deterioration and provide instructions on how to minimize the performance impact of virtualization in RHEL 8, so that your hardware infrastructure resources can be used as efficiently as possible.
		</p><section class="section" id="what-influences-virtual-machine-performance_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.1. What influences virtual machine performance</h2></div></div></div><p>
				VMs are run as user-space processes on the host. The hypervisor therefore needs to convert the host’s system resources so that the VMs can use them. As a consequence, a portion of the resources is consumed by the conversion, and the VM therefore cannot achieve the same performance efficiency as the host.
			</p><h4 id="the_impact_of_virtualization_on_system_performance">The impact of virtualization on system performance</h4><p>
				More specific reasons for VM performance loss include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Virtual CPUs (vCPUs) are implemented as threads on the host, handled by the Linux scheduler.
					</li><li class="listitem">
						VMs do not automatically inherit optimization features, such as NUMA or huge pages, from the host kernel.
					</li><li class="listitem">
						Disk and network I/O settings of the host might have a significant performance impact on the VM.
					</li><li class="listitem">
						Network traffic typically travels to a VM through a software-based bridge.
					</li><li class="listitem">
						Depending on the host devices and their models, there might be significant overhead due to emulation of particular hardware.
					</li></ul></div><p>
				The severity of the virtualization impact on the VM performance is influenced by a variety factors, which include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The number of concurrently running VMs.
					</li><li class="listitem">
						The amount of virtual devices used by each VM.
					</li><li class="listitem">
						The device types used by the VMs.
					</li></ul></div><h4 id="reducing_vm_performance_loss">Reducing VM performance loss</h4><p>
				RHEL 8 provides a number of features you can use to reduce the negative performance effects of virtualization. Notably:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#optimizing-virtual-machine-performance-using-tuned_optimizing-virtual-machine-performance-in-rhel-8" title="7.2. Optimizing virtual machine performance using tuned">The <code class="literal">tuned</code> service</a> can automatically optimize the resource distribution and performance of your VMs.
					</li><li class="listitem">
						<a class="link" href="index.html#optimizing-virtual-machine-i-o-performance_optimizing-virtual-machine-performance-in-rhel-8" title="7.3. Optimizing virtual machine I/O performance">Block I/O tuning</a> can improve the performances of the VM’s block devices, such as disks.
					</li><li class="listitem">
						<a class="link" href="index.html#optimizing-virtual-machine-cpu-performance_optimizing-virtual-machine-performance-in-rhel-8" title="7.4. Optimizing virtual machine CPU performance">NUMA tuning</a> can increase vCPU performance.
					</li><li class="listitem">
						<a class="link" href="index.html#optimizing-virtual-machine-network-performance_optimizing-virtual-machine-performance-in-rhel-8" title="7.5. Optimizing virtual machine network performance">Virtual networking</a> can be optimized in various ways.
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Tuning VM performance can have adverse effects on other virtualization functions. For example, it can make migrating the modified VM more difficult.
				</p></div></div></section><section class="section" id="optimizing-virtual-machine-performance-using-tuned_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.2. Optimizing virtual machine performance using tuned</h2></div></div></div><p>
				The <code class="literal">tuned</code> utility is a tuning profile delivery mechanism that adapts RHEL for certain workload characteristics, such as requirements for CPU-intensive tasks or storage-network throughput responsiveness. It provides a number of tuning profiles that are pre-configured to enhance performance and reduce power consumption in a number of specific use cases. You can edit these profiles or create new profiles to create performance solutions tailored to your environment, including virtualized environments.
			</p><p>
				Red Hat recommends using the following profiles when using virtualization in RHEL 8:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For RHEL 8 virtual machines, use the <span class="strong strong"><strong>virtual-guest</strong></span> profile. It is based on the generally applicable <code class="literal"><span class="emphasis"><em>throughput-performance</em></span></code> profile, but also decreases the swappiness of virtual memory.
					</li><li class="listitem">
						For RHEL 8 virtualization hosts, use the <span class="strong strong"><strong>virtual-host</strong></span> profile. This enables more aggressive writeback of dirty memory pages, which benefits the host performance.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">tuned</code> service must be <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/getting-started-with-tuned_monitoring-and-managing-system-status-and-performance#installing-and-enabling-tuned_getting-started-with-tuned">installed and enabled</a>.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To enable a specific <code class="literal">tuned</code> profile:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						List the available <code class="literal">tuned</code> profiles.
					</p><pre class="literallayout"># <span class="strong strong"><strong>tuned-adm list</strong></span>

Available profiles:
- balanced             - General non-specialized tuned profile
- desktop              - Optimize for the desktop use-case
[...]
- virtual-guest        - Optimize for running inside a virtual guest
- virtual-host         - Optimize for running KVM guests
Current active profile: <span class="emphasis"><em>balanced</em></span></pre></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Optional:</strong></span> Create a new <code class="literal">tuned</code> profile or edit an existing <code class="literal">tuned</code> profile.
					</p><p class="simpara">
						For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/customizing-tuned-profiles_monitoring-and-managing-system-status-and-performance">Customizing tuned profiles</a>.
					</p></li><li class="listitem"><p class="simpara">
						Activate a <code class="literal">tuned</code> profile.
					</p><pre class="literallayout"># <span class="strong strong"><strong>tuned-adm profile <span class="emphasis"><em>selected-profile</em></span></strong></span></pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								To optimize a virtualization host, use the <span class="emphasis"><em>virtual-host</em></span> profile.
							</p><pre class="literallayout"># <span class="strong strong"><strong>tuned-adm profile virtual-host</strong></span></pre></li><li class="listitem"><p class="simpara">
								On a RHEL guest operating system, use the <span class="emphasis"><em>virtual-guest</em></span> profile.
							</p><pre class="literallayout"># <span class="strong strong"><strong>tuned-adm profile virtual-guest</strong></span></pre></li></ul></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about <code class="literal">tuned</code> and <code class="literal">tuned</code> profiles, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/">Monitoring and managing system status and performance</a>.
					</li></ul></div></section><section class="section" id="optimizing-virtual-machine-i-o-performance_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.3. Optimizing virtual machine I/O performance</h2></div></div></div><p>
				The input and output (I/O) capabilities of a virtual machine (VM) can significantly limit the VM’s overall efficiency. To address this, you can optimize a VM’s I/O by configuring block I/O parameters.
			</p><section class="section" id="tuning-block-i-o-in-virtual-machines_optimizing-virtual-machine-i-o-performance"><div class="titlepage"><div><div><h3 class="title">7.3.1. Tuning block I/O in virtual machines</h3></div></div></div><p>
					When multiple block devices are being used by one or more VMs, it might be important to adjust the I/O priority of specific virtual devices by modifying their <span class="emphasis"><em>I/O weights</em></span>.
				</p><p>
					Increasing the I/O weight of a device increases its priority for I/O bandwidth, and therefore provides it with more host resources. Similarly, reducing a device’s weight makes it consume less host resources.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Each device’s <code class="literal">weight</code> value must be within the <code class="literal">100</code> to <code class="literal">1000 range. Alternatively, the value can be `0</code>, which removes that device from per-device listings.
					</p></div></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To display and set a VM’s block I/O parameters:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the current <code class="literal">&lt;blkio&gt;</code> parameters for a VM:
						</p><p class="simpara">
							<code class="literal"># <span class="strong strong"><strong>virsh blkiotune <span class="emphasis"><em>virtual_machine</em></span></strong></span></code>
						</p><pre class="programlisting language-xml">&lt;domain&gt;
  ...
  &lt;blkiotune&gt;
    &lt;weight&gt;800&lt;/weight&gt;
    &lt;device&gt;
      &lt;path&gt;/dev/sda&lt;/path&gt;
      &lt;weight&gt;1000&lt;/weight&gt;
    &lt;/device&gt;
    &lt;device&gt;
      &lt;path&gt;/dev/sdb&lt;/path&gt;
      &lt;weight&gt;500&lt;/weight&gt;
    &lt;/device&gt;
  &lt;/blkiotune&gt;
  ...
&lt;/domain&gt;</pre></li><li class="listitem"><p class="simpara">
							Edit the I/O weight of a specified device:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh blkiotune <span class="emphasis"><em>VM-name</em></span> --device-weights <span class="emphasis"><em>device</em></span>, <span class="emphasis"><em>I/O-weight</em></span></strong></span></pre><p class="simpara">
							For example, the following changes the weight of the <span class="emphasis"><em>/dev/sda</em></span> device in the <span class="emphasis"><em>liftrul</em></span> VM to 500.
						</p><pre class="literallayout"># *virsh blkiotune liftbrul --device-weights /dev/sda, 500</pre></li></ol></div></section><section class="section" id="disk-i-o-throttling-in-virtual-machines_optimizing-virtual-machine-i-o-performance"><div class="titlepage"><div><div><h3 class="title">7.3.2. Disk I/O throttling in virtual machines</h3></div></div></div><p>
					When several VMs are running simultaneously, they can interfere with system performance by using excessive disk I/O. Disk I/O throttling in KVM virtualization provides the ability to set a limit on disk I/O requests sent from the VMs to the host machine. This can prevent a VM from over-utilizing shared resources and impacting the performance of other VMs.
				</p><p>
					To enable disk I/O throttling, set a limit on disk I/O requests sent from each block device attached to VMs to the host machine.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Use the <code class="literal">virsh domblklist</code> command to list the names of all the disk devices on a specified VM.
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh domblklist rollin-coal</strong></span>
Target     Source
------------------------------------------------
vda        /var/lib/libvirt/images/rollin-coal.qcow2
sda        -
sdb        /home/horridly-demanding-processes.iso</pre></li><li class="listitem"><p class="simpara">
							Set I/O limits for a block device attached to a VM using the <code class="literal">virsh blkdeviotune</code> command:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh blkdeviotune <span class="emphasis"><em>VM-name</em></span> <span class="emphasis"><em>device</em></span> --parameter <span class="emphasis"><em>limit</em></span></strong></span></pre><p class="simpara">
							For example, to throttle the <code class="literal">sdb</code> device on the <code class="literal">rollin-coal</code> VM to 1000 I/O operations per second and 50 MB per second throughput:
						</p><pre class="literallayout"><code class="literal"># <span class="strong strong"><strong>virsh blkdeviotune rollin-coal sdb --total-iops-sec 1000 --total-bytes-sec 52428800</strong></span></code></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional information</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Disk I/O throttling can be useful in various situations, for example when VMs belonging to different customers are running on the same host, or when quality of service guarantees are given for different VMs. Disk I/O throttling can also be used to simulate slower disks.
						</li><li class="listitem">
							I/O throttling can be applied independently to each block device attached to a VM and supports limits on throughput and I/O operations.
						</li></ul></div></section><section class="section" id="configuring-multi-queue-virtio-scsi_optimizing-virtual-machine-i-o-performance"><div class="titlepage"><div><div><h3 class="title">7.3.3. Enabling multi-queue virtio-scsi</h3></div></div></div><p>
					When using <code class="literal">virtio-scsi</code> storage devices in your virtual machines (VMs), the <span class="emphasis"><em>multi-queue virtio-scsi</em></span> feature provides improved storage performance and scalability. It enables each virtual CPU (vCPU) to have a separate queue and interrupt to use without affecting other vCPUs.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To enable multi-queue virtio-scsi support for a specific VM, add the following to the VM’s XML configuration, where <span class="emphasis"><em>N</em></span> is the total number of vCPU queues:
						</p><pre class="programlisting language-xml">&lt;controller type='scsi' index='0' model='virtio-scsi'&gt;
   &lt;driver queues='N' /&gt;
&lt;/controller&gt;</pre></li></ul></div></section></section><section class="section" id="optimizing-virtual-machine-cpu-performance_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.4. Optimizing virtual machine CPU performance</h2></div></div></div><p>
				Much like physical CPUs in host machines, vCPUs are critical to virtual machine (VM) performance. As a result, optimizing vCPUs can have a significant impact on the resource efficiency of your VMs. To optimize your vCPU:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Ensure that the vCPU model is aligned with the CPU model of the host. For example, to set the <span class="emphasis"><em>testguest1</em></span> VM to use the CPU model of the host:
					</p><pre class="literallayout"># <span class="strong strong"><strong>virt-xml testguest1 --edit --cpu host-model</strong></span></pre></li><li class="listitem"><p class="simpara">
						If your host machine uses Non-Uniform Memory Access (NUMA), you can also <span class="strong strong"><strong>configure NUMA</strong></span> for its VMs. This maps the host’s CPU and memory processes onto the CPU and memory processes of the VM as closely as possible. In effect, NUMA tuning provides the vCPU with a more streamlined access to the system memory allocated to the VM, which can improve the vCPU processing effectiveness.
					</p><p class="simpara">
						For details, see <a class="xref" href="index.html#configuring-numa-in-a-virtual-machine_optimizing-virtual-machine-cpu-performance" title="7.4.1. Configuring NUMA in a virtual machine">Section 7.4.1, “Configuring NUMA in a virtual machine”</a> and <a class="xref" href="index.html#sample-vcpu-performance-tuning-scenario_optimizing-virtual-machine-cpu-performance" title="7.4.2. Sample vCPU performance tuning scenario">Section 7.4.2, “Sample vCPU performance tuning scenario”</a>.
					</p></li></ol></div><section class="section" id="configuring-numa-in-a-virtual-machine_optimizing-virtual-machine-cpu-performance"><div class="titlepage"><div><div><h3 class="title">7.4.1. Configuring NUMA in a virtual machine</h3></div></div></div><p>
					The following methods can be used to configure Non-Uniform Memory Access (NUMA) settings of a virtual machine (VM) on a RHEL 8 host.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The host must be a NUMA-compatible machine. To detect whether this is the case, use the <code class="literal">virsh nodeinfo</code> command and see the <code class="literal">NUMA cell(s)</code> line:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh nodeinfo</strong></span>
CPU model:           x86_64
CPU(s):              48
CPU frequency:       1200 MHz
CPU socket(s):       1
Core(s) per socket:  12
Thread(s) per core:  2
NUMA cell(s):        <span class="strong strong"><strong>2</strong></span>
Memory size:         67012964 KiB</pre><p class="simpara">
							If the value of the line is 2 or greater, the host is NUMA-compatible.
						</p></li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						For ease of use, you can set up a VM’s NUMA configuration using automated utilities and services. However, manual NUMA setup is more likely to yield a significant performance improvement.
					</p></div><h6 id="automatic_methods">Automatic methods</h6><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Set the VM’s NUMA policy to <code class="literal">Preferred</code>. For example, to do so for the <span class="emphasis"><em>testguest5</em></span> VM:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virt-xml testguest5 --edit --vcpus placement=auto</strong></span>
# <span class="strong strong"><strong>virt-xml testguest5 --edit --numatune mode=preferred</strong></span></pre></li><li class="listitem"><p class="simpara">
							Enable automatic NUMA balancing on the host:
						</p><pre class="literallayout"># <span class="strong strong"><strong>echo 1 &gt; /proc/sys/kernel/numa_balancing</strong></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">numad</code> command to automatically align the VM CPU with memory resources.
						</p><pre class="literallayout"># <span class="strong strong"><strong>numad</strong></span></pre></li></ul></div><h6 id="manual_methods">Manual methods</h6><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Pin specific vCPU threads to a specific host CPU or range of CPUs. This is also possible on non-NUMA hosts and VMs, and is recommended as a safe method of vCPU performance improvement.
						</p><p class="simpara">
							For example, the following commands pin vCPU threads 0 to 5 of the <span class="emphasis"><em>testguest6</em></span> VM to host CPUs 1, 3, 5, 7, 9, and 11, respectively:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh vcpupin testguest6 0 1</strong></span>
# <span class="strong strong"><strong>virsh vcpupin testguest6 1 3</strong></span>
# <span class="strong strong"><strong>virsh vcpupin testguest6 2 5</strong></span>
# <span class="strong strong"><strong>virsh vcpupin testguest6 3 7</strong></span>
# <span class="strong strong"><strong>virsh vcpupin testguest6 4 9</strong></span>
# <span class="strong strong"><strong>virsh vcpupin testguest6 5 11</strong></span></pre><p class="simpara">
							Afterwards, you can verify whether this was successful:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh vcpupin testguest6</strong></span>
VCPU   CPU Affinity
----------------------
0      1
1      3
2      5
3      7
4      9
5      11</pre></li><li class="listitem"><p class="simpara">
							After pinning vCPU threads, you can also pin QEMU process threads associated with a specified VM to a specific host CPU or range of CPUs. For example, the following commands pin the QEMU process thread of <span class="emphasis"><em>testguest6</em></span> to CPUs 13 and 15, and verify this was successful:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh emulatorpin testguest6 13,15</strong></span>
# <span class="strong strong"><strong>virsh emulatorpin testguest6</strong></span>
emulator: CPU Affinity
----------------------------------
       *: 13,15</pre></li><li class="listitem"><p class="simpara">
							Finally, you can also specify which host NUMA nodes will be assigned specifically to a certain VM. This can improve the host memory usage by the VM’s vCPU. For example, the following commands set <span class="emphasis"><em>testguest6</em></span> to use host NUMA nodes 3 to 5, and verify this was successful:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh numatune testguest6 --nodeset 3-5</strong></span>
# <span class="strong strong"><strong>virsh numatune testguest6</strong></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Note that for best performance results, it is recommended to use all of the manual tuning methods listed above. For an example of such a configuration, see <a class="xref" href="index.html#sample-vcpu-performance-tuning-scenario_optimizing-virtual-machine-cpu-performance" title="7.4.2. Sample vCPU performance tuning scenario">Section 7.4.2, “Sample vCPU performance tuning scenario”</a>.
						</li><li class="listitem">
							To see the current NUMA configuration of your system, you can use the <code class="literal">numastat</code> utility. For details on using <code class="literal">numastat</code>, see <a class="xref" href="index.html#virtual-machine-performance-monitoring-tools_optimizing-virtual-machine-performance-in-rhel-8" title="7.6. Virtual machine performance monitoring tools">Section 7.6, “Virtual machine performance monitoring tools”</a>.
						</li><li class="listitem">
							NUMA tuning is currently not possible to perform on IBM Z hosts. For further information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/getting-started-with-virtualization-in-rhel-8-on-ibm-z_configuring-and-managing-virtualization#how-virtualization-on-ibm-z-differs-from-amd64-and-intel64_getting-started-with-virtualization-in-rhel-8-on-ibm-z">How virtualization on IBM Z differs from AMD64 and Intel 64</a>.
						</li></ul></div></section><section class="section" id="sample-vcpu-performance-tuning-scenario_optimizing-virtual-machine-cpu-performance"><div class="titlepage"><div><div><h3 class="title">7.4.2. Sample vCPU performance tuning scenario</h3></div></div></div><p>
					To obtain the best vCPU performance possible, Red Hat recommends using manual <code class="literal">vcpupin</code>, <code class="literal">emulatorpin</code>, and <code class="literal">numatune</code> settings together, for example like in the following scenario.
				</p><div class="itemizedlist"><p class="title"><strong>Starting scenario</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Your host has the following hardware specifics:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									2 NUMA nodes
								</li><li class="listitem">
									3 CPU cores on each node
								</li><li class="listitem">
									2 threads on each core
								</li></ul></div><p class="simpara">
							The output of <code class="literal">virsh nodeinfo</code> of such a machine would look similar to:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh nodeinfo</strong></span>
CPU model:           x86_64
CPU(s):              12
CPU frequency:       3661 MHz
CPU socket(s):       2
Core(s) per socket:  3
Thread(s) per core:  2
NUMA cell(s):        2
Memory size:         31248692 KiB</pre></li><li class="listitem"><p class="simpara">
							You intend to modify an existing VM to have 8 vCPUs, which means that it will not fit in a single NUMA node.
						</p><p class="simpara">
							Therefore, you should distribute 4 vCPUs on each NUMA node and make the vCPU topology resemble the host topology as closely as possible. This means that vCPUs that run as sibling threads of a given physical CPU should be pinned to host threads on the same core. For details, see the <span class="emphasis"><em>Solution</em></span> below:
						</p></li></ul></div><div class="orderedlist"><p class="title"><strong>Solution</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Obtain the information on the host topology:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh capabilities</strong></span></pre><p class="simpara">
							The output should include a section that looks similar to the following:
						</p><pre class="programlisting language-xml">&lt;topology&gt;
  &lt;cells num="2"&gt;
    &lt;cell id="0"&gt;
      &lt;memory unit="KiB"&gt;15624346&lt;/memory&gt;
      &lt;pages unit="KiB" size="4"&gt;3906086&lt;/pages&gt;
      &lt;pages unit="KiB" size="2048"&gt;0&lt;/pages&gt;
      &lt;pages unit="KiB" size="1048576"&gt;0&lt;/pages&gt;
      &lt;distances&gt;
        &lt;sibling id="0" value="10" /&gt;
        &lt;sibling id="1" value="21" /&gt;
      &lt;/distances&gt;
      &lt;cpus num="6"&gt;
        &lt;cpu id="0" socket_id="0" core_id="0" siblings="0,3" /&gt;
        &lt;cpu id="1" socket_id="0" core_id="1" siblings="1,4" /&gt;
        &lt;cpu id="2" socket_id="0" core_id="2" siblings="2,5" /&gt;
        &lt;cpu id="3" socket_id="0" core_id="0" siblings="0,3" /&gt;
        &lt;cpu id="4" socket_id="0" core_id="1" siblings="1,4" /&gt;
        &lt;cpu id="5" socket_id="0" core_id="2" siblings="2,5" /&gt;
      &lt;/cpus&gt;
    &lt;/cell&gt;
    &lt;cell id="1"&gt;
      &lt;memory unit="KiB"&gt;15624346&lt;/memory&gt;
      &lt;pages unit="KiB" size="4"&gt;3906086&lt;/pages&gt;
      &lt;pages unit="KiB" size="2048"&gt;0&lt;/pages&gt;
      &lt;pages unit="KiB" size="1048576"&gt;0&lt;/pages&gt;
      &lt;distances&gt;
        &lt;sibling id="0" value="21" /&gt;
        &lt;sibling id="1" value="10" /&gt;
      &lt;/distances&gt;
      &lt;cpus num="6"&gt;
        &lt;cpu id="6" socket_id="1" core_id="3" siblings="6,9" /&gt;
        &lt;cpu id="7" socket_id="1" core_id="4" siblings="7,10" /&gt;
        &lt;cpu id="8" socket_id="1" core_id="5" siblings="8,11" /&gt;
        &lt;cpu id="9" socket_id="1" core_id="3" siblings="6,9" /&gt;
        &lt;cpu id="10" socket_id="1" core_id="4" siblings="7,10" /&gt;
        &lt;cpu id="11" socket_id="1" core_id="5" siblings="8,11" /&gt;
      &lt;/cpus&gt;
    &lt;/cell&gt;
  &lt;/cells&gt;
&lt;/topology&gt;</pre></li><li class="listitem">
							<span class="strong strong"><strong>Optional:</strong></span> Test the performance of the VM using <a class="link" href="index.html#virtual-machine-performance-monitoring-tools_optimizing-virtual-machine-performance-in-rhel-8" title="7.6. Virtual machine performance monitoring tools">the applicable tools and utilities</a>.
						</li><li class="listitem"><p class="simpara">
							Set up and mount 1 GiB huge pages on the host:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Add the following line to the host’s kernel command line:
								</p><pre class="literallayout">default_hugepagesz=1G hugepagesz=1G</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">/etc/systemd/system/hugetlb-gigantic-pages.service</code> file with the following content:
								</p><pre class="literallayout">[Unit]
Description=HugeTLB Gigantic Pages Reservation
DefaultDependencies=no
Before=dev-hugepages.mount
ConditionPathExists=/sys/devices/system/node
ConditionKernelCommandLine=hugepagesz=1G

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=/etc/systemd/hugetlb-reserve-pages.sh

[Install]
WantedBy=sysinit.target</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">/etc/systemd/hugetlb-reserve-pages.sh</code> file with the following content:
								</p><pre class="literallayout">#!/bin/sh

nodes_path=/sys/devices/system/node/
if [ ! -d $nodes_path ]; then
	echo "ERROR: $nodes_path does not exist"
	exit 1
fi

reserve_pages()
{
	echo $1 &gt; $nodes_path/$2/hugepages/hugepages-1048576kB/nr_hugepages
}

reserve_pages 4 node1
reserve_pages 4 node2</pre><p class="simpara">
									This reserves four 1GiB huge pages from <span class="emphasis"><em>node1</em></span> and four 1GiB huge pages from <span class="emphasis"><em>node2</em></span>.
								</p></li><li class="listitem"><p class="simpara">
									Make the script created in the previous step executable:
								</p><pre class="literallayout"># <span class="strong strong"><strong>chmod +x /etc/systemd/hugetlb-reserve-pages.sh</strong></span></pre></li><li class="listitem"><p class="simpara">
									Enable huge page reservation on boot:
								</p><pre class="literallayout"># <span class="strong strong"><strong>systemctl enable hugetlb-gigantic-pages</strong></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Use the <code class="literal">virsh edit</code> command to edit the XML configuration of the VM you wish to optimize, in this example <span class="emphasis"><em>super-VM</em></span>:
						</p><pre class="literallayout"># <span class="strong strong"><strong>virsh edit super-vm</strong></span></pre></li><li class="listitem"><p class="simpara">
							Adjust the XML configuration of the VM in the following way:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Set the VM to use 8 static vCPUs. Use the <code class="literal">&lt;vcpu/&gt;</code> element to do this.
								</li><li class="listitem"><p class="simpara">
									Pin each of the vCPU threads to the corresponding host CPU threads that it mirrors in the topology. To do so, use the <code class="literal">&lt;vcpupin/&gt;</code> elements in the <code class="literal">&lt;cputune&gt;</code> section.
								</p><p class="simpara">
									Note that, as shown by the <code class="literal">virsh capabilities</code> utility above, host CPU threads are not ordered sequentially in their respective cores. In addition, the vCPU threads should be pinned to the highest available set of host cores on the same NUMA node. For a table illustration, see the <span class="strong strong"><strong>Additional Resources</strong></span> section below.
								</p><p class="simpara">
									The XML configuration for steps a. and b. can look similar to:
								</p><pre class="programlisting language-xml">&lt;cputune&gt;
  &lt;vcpupin vcpu='0' cpuset='1'/&gt;
  &lt;vcpupin vcpu='1' cpuset='4'/&gt;
  &lt;vcpupin vcpu='2' cpuset='2'/&gt;
  &lt;vcpupin vcpu='3' cpuset='5'/&gt;
  &lt;vcpupin vcpu='4' cpuset='7'/&gt;
  &lt;vcpupin vcpu='5' cpuset='10'/&gt;
  &lt;vcpupin vcpu='6' cpuset='8'/&gt;
  &lt;vcpupin vcpu='7' cpuset='11'/&gt;
  &lt;emulatorpin cpuset='6,9'/&gt;
&lt;/cputune&gt;</pre></li><li class="listitem"><p class="simpara">
									Set the VM to use 1 GiB huge pages:
								</p><pre class="programlisting language-xml">&lt;memoryBacking&gt;
  &lt;hugepages&gt;
    &lt;page size='1' unit='GiB'/&gt;
  &lt;/hugepages&gt;
&lt;/memoryBacking&gt;</pre></li><li class="listitem"><p class="simpara">
									Configure the VM’s NUMA nodes to use memory from the corresponding NUMA nodes on the host. To do so, use the <code class="literal">&lt;memnode/&gt;</code> elements in the <code class="literal">&lt;numatune/&gt;</code> section:
								</p><pre class="programlisting language-xml">&lt;numatune&gt;
  &lt;memory mode="preferred" nodeset="1"/&gt;
  &lt;memnode cellid="0" mode="strict" nodeset="0"/&gt;
  &lt;memnode cellid="1" mode="strict" nodeset="1"/&gt;
&lt;/numatune&gt;</pre></li><li class="listitem"><p class="simpara">
									Ensure the CPU mode is set to <code class="literal">host-passthrough</code>, and that the CPU uses cache in <code class="literal">passthrough</code> mode:
								</p><pre class="programlisting language-xml">&lt;cpu mode="host-passthrough"&gt;
  &lt;topology sockets="2" cores="2" threads="2"/&gt;
  &lt;cache mode="passthrough"/&gt;</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							The resulting XML configuration of the VM should include a section similar to the following:
						</p><pre class="programlisting language-xml">[...]
  &lt;memoryBacking&gt;
    &lt;hugepages&gt;
      &lt;page size='1' unit='GiB'/&gt;
    &lt;/hugepages&gt;
  &lt;/memoryBacking&gt;
  &lt;vcpu placement='static'&gt;8&lt;/vcpu&gt;
  &lt;cputune&gt;
    &lt;vcpupin vcpu='0' cpuset='1'/&gt;
    &lt;vcpupin vcpu='1' cpuset='4'/&gt;
    &lt;vcpupin vcpu='2' cpuset='2'/&gt;
    &lt;vcpupin vcpu='3' cpuset='5'/&gt;
    &lt;vcpupin vcpu='4' cpuset='7'/&gt;
    &lt;vcpupin vcpu='5' cpuset='10'/&gt;
    &lt;vcpupin vcpu='6' cpuset='8'/&gt;
    &lt;vcpupin vcpu='7' cpuset='11'/&gt;
    &lt;emulatorpin cpuset='6,9'/&gt;
  &lt;/cputune&gt;
  &lt;numatune&gt;
    &lt;memory mode="preferred" nodeset="1"/&gt;
    &lt;memnode cellid="0" mode="strict" nodeset="0"/&gt;
    &lt;memnode cellid="1" mode="strict" nodeset="1"/&gt;
  &lt;/numatune&gt;
  &lt;cpu mode="host-passthrough"&gt;
    &lt;topology sockets="2" cores="2" threads="2"/&gt;
    &lt;cache mode="passthrough"/&gt;
    &lt;numa&gt;
      &lt;cell id="0" cpus="0-3" memory="2" unit="GiB"&gt;
        &lt;distances&gt;
          &lt;sibling id="0" value="10"/&gt;
          &lt;sibling id="1" value="21"/&gt;
        &lt;/distances&gt;
      &lt;/cell&gt;
      &lt;cell id="1" cpus="4-7" memory="2" unit="GiB"&gt;
        &lt;distances&gt;
          &lt;sibling id="0" value="21"/&gt;
          &lt;sibling id="1" value="10"/&gt;
        &lt;/distances&gt;
      &lt;/cell&gt;
    &lt;/numa&gt;
  &lt;/cpu&gt;
&lt;/domain&gt;</pre></li><li class="listitem">
							<span class="strong strong"><strong>Optional:</strong></span> Test the performance of the VM using <a class="link" href="index.html#virtual-machine-performance-monitoring-tools_optimizing-virtual-machine-performance-in-rhel-8" title="7.6. Virtual machine performance monitoring tools">the applicable tools and utilities</a> to evaluate the impact of the VM’s optimization.
						</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The following tables illustrate the connections between the vCPUs and the host CPUs they should be pinned to:
						</p><div class="table" id="idm139692454950752"><p class="title"><strong>Table 7.1. Host topology</strong></p><div class="table-contents"><table class="gt-8-cols lt-7-rows"><colgroup><col style="width: 7%; " class="col_1"><!--Empty--></col><col style="width: 7%; " class="col_2"><!--Empty--></col><col style="width: 7%; " class="col_3"><!--Empty--></col><col style="width: 7%; " class="col_4"><!--Empty--></col><col style="width: 7%; " class="col_5"><!--Empty--></col><col style="width: 7%; " class="col_6"><!--Empty--></col><col style="width: 7%; " class="col_7"><!--Empty--></col><col style="width: 7%; " class="col_8"><!--Empty--></col><col style="width: 7%; " class="col_9"><!--Empty--></col><col style="width: 7%; " class="col_10"><!--Empty--></col><col style="width: 7%; " class="col_11"><!--Empty--></col><col style="width: 7%; " class="col_12"><!--Empty--></col><col style="width: 7%; " class="col_13"><!--Empty--></col><col style="width: 7%; " class="col_14"><!--Empty--></col><col style="width: 7%; " class="col_15"><!--Empty--></col></colgroup><tbody><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>CPU threads</strong></span>
										</p>
										 </td><td align="left" valign="top"> <p>
											0
										</p>
										 </td><td align="left" valign="top"> <p>
											3
										</p>
										 </td><td align="left" valign="top"> <p>
											1
										</p>
										 </td><td align="left" valign="top"> <p>
											4
										</p>
										 </td><td align="left" valign="top"> <p>
											2
										</p>
										 </td><td align="left" valign="top"> <p>
											5
										</p>
										 </td><td align="left" valign="top"> <p>
											6
										</p>
										 </td><td align="left" valign="top"> <p>
											9
										</p>
										 </td><td align="left" valign="top"> <p>
											7
										</p>
										 </td><td align="left" valign="top"> <p>
											10
										</p>
										 </td><td align="left" valign="top"> <p>
											8
										</p>
										 </td><td align="left" valign="top"> <p>
											11
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Cores</strong></span>
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											1
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											2
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											3
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											4
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											5
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Sockets</strong></span>
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>NUMA nodes</strong></span>
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr></tbody></table></div></div><div class="table" id="idm139692457208160"><p class="title"><strong>Table 7.2. VM topology</strong></p><div class="table-contents"><table class="gt-8-cols lt-7-rows"><colgroup><col style="width: 9%; " class="col_1"><!--Empty--></col><col style="width: 9%; " class="col_2"><!--Empty--></col><col style="width: 9%; " class="col_3"><!--Empty--></col><col style="width: 9%; " class="col_4"><!--Empty--></col><col style="width: 9%; " class="col_5"><!--Empty--></col><col style="width: 9%; " class="col_6"><!--Empty--></col><col style="width: 9%; " class="col_7"><!--Empty--></col><col style="width: 9%; " class="col_8"><!--Empty--></col><col style="width: 9%; " class="col_9"><!--Empty--></col><col style="width: 9%; " class="col_10"><!--Empty--></col><col style="width: 9%; " class="col_11"><!--Empty--></col></colgroup><tbody><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>vCPU threads</strong></span>
										</p>
										 </td><td align="left" valign="top"> <p>
											0
										</p>
										 </td><td align="left" valign="top"> <p>
											1
										</p>
										 </td><td align="left" valign="top"> <p>
											2
										</p>
										 </td><td align="left" valign="top"> <p>
											3
										</p>
										 </td><td align="left" valign="top"> <p>
											4
										</p>
										 </td><td align="left" valign="top"> <p>
											5
										</p>
										 </td><td align="left" valign="top"> <p>
											6
										</p>
										 </td><td align="left" valign="top"> <p>
											7
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Cores</strong></span>
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											1
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											2
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											3
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Sockets</strong></span>
										</p>
										 </td><td colspan="4" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="4" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>NUMA nodes</strong></span>
										</p>
										 </td><td colspan="4" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="4" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr></tbody></table></div></div><div class="table" id="idm139692453175488"><p class="title"><strong>Table 7.3. Combined host and VM topology</strong></p><div class="table-contents"><table class="gt-8-cols lt-7-rows"><colgroup><col style="width: 7%; " class="col_1"><!--Empty--></col><col style="width: 7%; " class="col_2"><!--Empty--></col><col style="width: 7%; " class="col_3"><!--Empty--></col><col style="width: 7%; " class="col_4"><!--Empty--></col><col style="width: 7%; " class="col_5"><!--Empty--></col><col style="width: 7%; " class="col_6"><!--Empty--></col><col style="width: 7%; " class="col_7"><!--Empty--></col><col style="width: 7%; " class="col_8"><!--Empty--></col><col style="width: 7%; " class="col_9"><!--Empty--></col><col style="width: 7%; " class="col_10"><!--Empty--></col><col style="width: 7%; " class="col_11"><!--Empty--></col><col style="width: 7%; " class="col_12"><!--Empty--></col><col style="width: 7%; " class="col_13"><!--Empty--></col><col style="width: 7%; " class="col_14"><!--Empty--></col><col style="width: 7%; " class="col_15"><!--Empty--></col></colgroup><tbody><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>vCPU threads</strong></span>
										</p>
										 </td><td colspan="2" align="center" valign="top"> </td><td align="left" valign="top"> <p>
											0
										</p>
										 </td><td align="left" valign="top"> <p>
											1
										</p>
										 </td><td align="left" valign="top"> <p>
											2
										</p>
										 </td><td align="left" valign="top"> <p>
											3
										</p>
										 </td><td colspan="2" align="center" valign="top"> </td><td align="left" valign="top"> <p>
											4
										</p>
										 </td><td align="left" valign="top"> <p>
											5
										</p>
										 </td><td align="left" valign="top"> <p>
											6
										</p>
										 </td><td align="left" valign="top"> <p>
											7
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Host CPU threads</strong></span>
										</p>
										 </td><td align="left" valign="top"> <p>
											0
										</p>
										 </td><td align="left" valign="top"> <p>
											3
										</p>
										 </td><td align="left" valign="top"> <p>
											1
										</p>
										 </td><td align="left" valign="top"> <p>
											4
										</p>
										 </td><td align="left" valign="top"> <p>
											2
										</p>
										 </td><td align="left" valign="top"> <p>
											5
										</p>
										 </td><td align="left" valign="top"> <p>
											6
										</p>
										 </td><td align="left" valign="top"> <p>
											9
										</p>
										 </td><td align="left" valign="top"> <p>
											7
										</p>
										 </td><td align="left" valign="top"> <p>
											10
										</p>
										 </td><td align="left" valign="top"> <p>
											8
										</p>
										 </td><td align="left" valign="top"> <p>
											11
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Cores</strong></span>
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											1
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											2
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											3
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											4
										</p>
										 </td><td colspan="2" align="center" valign="top"> <p>
											5
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>Sockets</strong></span>
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr><tr><td colspan="3" align="center" valign="top"> <p>
											<span class="strong strong"><strong>NUMA nodes</strong></span>
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											0
										</p>
										 </td><td colspan="6" align="center" valign="top"> <p>
											1
										</p>
										 </td></tr></tbody></table></div></div><p class="simpara">
							In this scenario, there are 2 NUMA nodes and 8 vCPUs. Therefore, 4 vCPU threads should be pinned to each node.
						</p><p class="simpara">
							In addition, Red Hat recommends leaving at least a single CPU thread available on each node for host system operations.
						</p><p class="simpara">
							Because in this example, each NUMA node houses 3 cores, each with 2 host CPU threads, the set for node 0 translates as follows:
						</p><pre class="programlisting language-xml">&lt;vcpupin vcpu='0' cpuset='1'/&gt;
&lt;vcpupin vcpu='1' cpuset='4'/&gt;
&lt;vcpupin vcpu='2' cpuset='2'/&gt;
&lt;vcpupin vcpu='3' cpuset='5'/&gt;</pre></li></ul></div></section></section><section class="section" id="optimizing-virtual-machine-network-performance_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.5. Optimizing virtual machine network performance</h2></div></div></div><p>
				Due to the virtual nature of a VM’s network interface card (NIC), the VM loses a portion of its allocated host network bandwidth, which can reduce the overall workload efficiency of the VM. The following tips can minimize the negative impact of virtualization on the virtual NIC (vNIC) throughput.
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					Use any of the following methods and observe if it has a beneficial effect on your VM network performance:
				</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Enable the vhost_net module</span></dt><dd><p class="simpara">
							On the host, ensure the <code class="literal">vhost_net</code> kernel feature is enabled:
						</p><pre class="literallayout"># <span class="strong strong"><strong>lsmod | grep vhost</strong></span>
vhost_net              32768  1
vhost                  53248  1 vhost_net
tap                    24576  1 vhost_net
tun                    57344  6 vhost_net</pre><p class="simpara">
							If the output of this command is blank, enable the <code class="literal">vhost_net</code> kernel module:
						</p><pre class="literallayout"># <span class="strong strong"><strong>modprobe vhost_net</strong></span></pre></dd><dt><span class="term">Set up multi-queue virtio-net</span></dt><dd><p class="simpara">
							To set up the <span class="emphasis"><em>multi-queue virtio-net</em></span> feature for a VM, use the <code class="literal">virsh edit</code> command to edit to the XML configuration of the VM. In the XML, add the following to the <code class="literal">&lt;devices&gt;</code> section, and replace <code class="literal">N</code> with the number of vCPUs in the VM, up to 16:
						</p><pre class="literallayout">&lt;interface type='network'&gt;
      &lt;source network='default'/&gt;
      &lt;model type='virtio'/&gt;
      &lt;driver name='vhost' queues='N'/&gt;
&lt;/interface&gt;</pre><p class="simpara">
							If the VM is running, restart it for the changes to take effect.
						</p></dd><dt><span class="term">Set up vhost zero-copy transmit</span></dt><dd><p class="simpara">
							If using a network with large packet size, enable the <span class="emphasis"><em>vhost zero-copy transmit</em></span> feature.
						</p><p class="simpara">
							Note that this feature only improves the performance when transmitting large packets between a guest network and an external network. It does not affect performance for guest-to-guest and guest-to-host workloads. In addition, it is likely to have a negative impact on the performance of small packet workloads.
						</p><p class="simpara">
							Also, enabling zero-copy transmit can cause head-of-line blocking of packets, which may create a potential security risk.
						</p><p class="simpara">
							To enable vhost zero-copy transmit:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
									On the host, disable the vhost-net kernel module:
								</p><pre class="literallayout"># <span class="strong strong"><strong>modprobe -r vhost_net</strong></span></pre></li><li class="listitem"><p class="simpara">
									Re-enable the vhost-net module with the zero-copy parameter turned on:
								</p><pre class="literallayout"># <span class="strong strong"><strong>modprobe vhost-net experimental_zcopytx=1</strong></span></pre></li><li class="listitem"><p class="simpara">
									Check whether zero-copy transmit was enabled successfully:
								</p><pre class="literallayout"># <span class="strong strong"><strong>cat /sys/module/vhost_net/parameters/experimental_zcopytx</strong></span>
1</pre></li></ol></div></dd><dt><span class="term">Batching network packets</span></dt><dd><p class="simpara">
							In Linux VM configurations with a long transmission path, batching packets before submitting them to the kernel may improve cache utilization. To set up packet batching, use the following command on the host, and replace <span class="emphasis"><em>tap0</em></span> with the name of the network interface that the VMs use:
						</p><pre class="literallayout"># <span class="strong strong"><strong>ethtool -C <span class="emphasis"><em>tap0</em></span> rx-frames 128</strong></span></pre></dd></dl></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For additional information on virtual network connection types and tips for usage, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/understanding-virtual-networking-overview_configuring-and-managing-virtualization">Understanding virtual networking</a>.
					</li></ul></div></section><section class="section" id="virtual-machine-performance-monitoring-tools_optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.6. Virtual machine performance monitoring tools</h2></div></div></div><p>
				To identify what consumes the most VM resources and which aspect of VM performance needs optimization, performance diagnostic tools, both general and VM-specific, can be used.
			</p><div class="formalpara"><p class="title"><strong>Default OS performance monitoring tools</strong></p><p>
					For standard performance evaluation, you can use the utilities provided by default by your host and guest operating systems:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						On your RHEL 8 host, as root, use the <code class="literal">top</code> utility or the <span class="strong strong"><strong>system monitor</strong></span> application, and look for <code class="literal">qemu</code> and <code class="literal">virt</code> in the output. This shows how much host system resources your VMs are consuming.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								If the monitoring tool displays that any of the <code class="literal">qemu</code> or <code class="literal">virt</code> processes consume a large portion of the host CPU or memory capacity, use the <code class="literal">perf</code> utility to investigate. For details, see below.
							</li><li class="listitem">
								In addition, if a <code class="literal">vhost_net</code> thread process, named for example <span class="emphasis"><em>vhost_net-1234</em></span>, is displayed as consuming an excessive amount of host CPU capacity, consider using <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/monitoring_and_managing_system_status_and_performance/optimizing-virtual-machine-network-performance_optimizing-virtual-machine-performance-in-rhel-8">virtual network optimization features</a>, such as <code class="literal">multi-queue virtio-net</code>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						On the guest operating system, use performance utilities and applications available on the system to evaluate which processes consume the most system resources.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								On Linux systems, you can use the <code class="literal">top</code> utility.
							</li><li class="listitem">
								On Windows systems, you can use the <span class="strong strong"><strong>Task Manager</strong></span> application.
							</li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong>perf kvm</strong></p><p>
					You can use the <code class="literal">perf</code> utility to collect and analyze virtualization-specific statistics about the performance of your RHEL 8 host. To do so:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On the host, install the <span class="emphasis"><em>perf</em></span> package:
					</p><pre class="literallayout"># <span class="strong strong"><strong>yum install perf</strong></span></pre></li><li class="listitem"><p class="simpara">
						Use the <code class="literal">perf kvm stat</code> command to display perf statistics for your virtualization host:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For real-time monitoring of your hypervisor, use the <code class="literal">perf kvm stat live</code> command.
							</li><li class="listitem">
								To log the perf data of your hypervisor over a period of time, activate the logging using the <code class="literal">perf kvm stat record</code> command. After the command is canceled or interrupted, the data is saved in the <code class="literal">perf.data.guest</code> file, which can be analyzed using the <code class="literal">perf kvm stat report</code> command.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Analyze the <code class="literal">perf</code> output for types of <code class="literal">VM-EXIT</code> events and their distribution. For example, the <code class="literal">PAUSE_INSTRUCTION</code> events should be infrequent, but in the following output, the high occurrence of this event suggests that the host CPUs are not handling the running vCPUs well. In such a scenario, consider powering down some of your active VMs, removing vCPUs from these VMs, or <a class="link" href="index.html#optimizing-virtual-machine-cpu-performance_optimizing-virtual-machine-performance-in-rhel-8" title="7.4. Optimizing virtual machine CPU performance">tuning the performance of the vCPUs</a>.
					</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>perf kvm stat report</strong></span>

Analyze events for all VMs, all VCPUs:


             VM-EXIT    Samples  Samples%     Time%    Min Time    Max Time         Avg time

  EXTERNAL_INTERRUPT     365634    31.59%    18.04%      0.42us  58780.59us    204.08us ( +-   0.99% )
           MSR_WRITE     293428    25.35%     0.13%      0.59us  17873.02us      1.80us ( +-   4.63% )
    PREEMPTION_TIMER     276162    23.86%     0.23%      0.51us  21396.03us      3.38us ( +-   5.19% )
   PAUSE_INSTRUCTION     189375    16.36%    11.75%      0.72us  29655.25us    256.77us ( +-   0.70% )
                 HLT      20440     1.77%    69.83%      0.62us  79319.41us  14134.56us ( +-   0.79% )
              VMCALL      12426     1.07%     0.03%      1.02us   5416.25us      8.77us ( +-   7.36% )
       EXCEPTION_NMI         27     0.00%     0.00%      0.69us      1.34us      0.98us ( +-   3.50% )
       EPT_MISCONFIG          5     0.00%     0.00%      5.15us     10.85us      7.88us ( +-  11.67% )

Total Samples:1157497, Total events handled time:413728274.66us.</pre><p class="simpara">
						Other event types that can signal problems in the output of <code class="literal">perf kvm stat</code> include:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">INSN_EMULATION</code> - suggests suboptimal <a class="link" href="index.html#optimizing-virtual-machine-i-o-performance_optimizing-virtual-machine-performance-in-rhel-8" title="7.3. Optimizing virtual machine I/O performance">VM I/O configuration</a>.
							</li></ul></div></li></ol></div><p>
				For more information on using <code class="literal">perf</code> to monitor virtualization performance, see the <code class="literal">perf-kvm</code> man page.
			</p><div class="formalpara"><p class="title"><strong>numastat</strong></p><p>
					To see the current NUMA configuration of your system, you can use the <code class="literal">numastat</code> utility, which is provided by installing the <span class="strong strong"><strong>numactl</strong></span> package.
				</p></div><p>
				The following shows a host with 4 running VMs, each obtaining memory from multiple NUMA nodes. This is not optimal for vCPU performance, and <a class="link" href="index.html#configuring-numa-in-a-virtual-machine_optimizing-virtual-machine-cpu-performance" title="7.4.1. Configuring NUMA in a virtual machine">warrants adjusting</a>:
			</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>numastat -c qemu-kvm</strong></span>

Per-node process memory usage (in MBs)
PID              Node 0 Node 1 Node 2 Node 3 Node 4 Node 5 Node 6 Node 7 Total
---------------  ------ ------ ------ ------ ------ ------ ------ ------ -----
51722 (qemu-kvm)     68     16    357   6936      2      3    147    598  8128
51747 (qemu-kvm)    245     11      5     18   5172   2532      1     92  8076
53736 (qemu-kvm)     62    432   1661    506   4851    136     22    445  8116
53773 (qemu-kvm)   1393      3      1      2     12      0      0   6702  8114
---------------  ------ ------ ------ ------ ------ ------ ------ ------ -----
Total              1769    463   2024   7462  10037   2672    169   7837 32434</pre><p>
				In contrast, the following shows memory being provided to each VM by a single node, which is significantly more efficient.
			</p><pre class="literallayout white-space-pre"># <span class="strong strong"><strong>numastat -c qemu-kvm</strong></span>

Per-node process memory usage (in MBs)
PID              Node 0 Node 1 Node 2 Node 3 Node 4 Node 5 Node 6 Node 7 Total
---------------  ------ ------ ------ ------ ------ ------ ------ ------ -----
51747 (qemu-kvm)      0      0      7      0   8072      0      1      0  8080
53736 (qemu-kvm)      0      0      7      0      0      0   8113      0  8120
53773 (qemu-kvm)      0      0      7      0      0      0      1   8110  8118
59065 (qemu-kvm)      0      0   8050      0      0      0      0      0  8051
---------------  ------ ------ ------ ------ ------ ------ ------ ------ -----
Total                 0      0   8072      0   8072      0   8114   8110 32368</pre></section><section class="section" id="related-information-optimizing-virtual-machine-performance-in-rhel-8"><div class="titlepage"><div><div><h2 class="title">7.7. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						When using Windows as the guest operating system of your VM, Red Hat recommends applying additional optimization measures. For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_virtualization/installing-and-managing-windows-virtual-machines-on-rhel8_configuring-and-managing-virtualization#optimizing-windows-virtual-machines-on-rhel-8_installing-and-managing-windows-virtual-machines-on-rhel8">Optimizing Windows virtual machines</a>.
					</li></ul></div></section></section><section class="chapter" id="managing-power-consumption-with-powertop_monitoring-and-managing-system-status-and-performance"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Managing power consumption with PowerTOP</h1></div></div></div><p>
			As a system administrator, you can use the <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> tool to analyze and manage power consumption.
		</p><section class="section" id="the-purpose-of-powertop_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h2 class="title">8.1. The purpose of PowerTOP</h2></div></div></div><p>
				<span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> is a program that diagnoses issues related to power consumption and provides suggestions on how to extend battery lifetime.
			</p><p>
				The <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> tool can provide an estimate of the total power usage of the system and also individual power usage for each process, device, kernel worker, timer, and interrupt handler. The tool can also identify specific components of kernel and user-space applications that frequently wake up the CPU.
			</p><p>
				Red Hat Enterprise Linux 8 uses version 2.x of <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>.
			</p></section><section class="section" id="using-powertop_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h2 class="title">8.2. Using PowerTOP</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To be able to use <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>, make sure that the <code class="literal package">powertop</code> package has been installed on your system:
					</p><pre class="screen"># yum install powertop</pre></li></ul></div><section class="section" id="starting-powertop_using-powertop"><div class="titlepage"><div><div><h3 class="title">8.2.1. Starting PowerTOP</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To run <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>, use the following command:
						</p><pre class="literallayout"># powertop</pre></li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Laptops should run on battery power when running the <code class="literal package">powertop</code> command.
					</p></div></div></section><section class="section" id="calibrating-powertop_using-powertop"><div class="titlepage"><div><div><h3 class="title">8.2.2. Calibrating PowerTOP</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On a laptop, you can calibrate the power estimation engine by running the following command:
						</p><pre class="literallayout"># powertop --calibrate</pre></li><li class="listitem"><p class="simpara">
							Let the calibration finish without interacting with the machine during the process.
						</p><p class="simpara">
							Calibration takes time because the process performs various tests, cycles through brightness levels and switches devices on and off.
						</p></li><li class="listitem"><p class="simpara">
							When the calibration process is completed, <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> starts as normal. Let it run for approximately an hour to collect data.
						</p><p class="simpara">
							When enough data is collected, power estimation figures will be displayed in the first column of the output table.
						</p></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Note that <code class="literal command">powertop --calibrate</code> can only be used on laptops.
					</p></div></div></section><section class="section" id="setting-the-measuring-interval_using-powertop"><div class="titlepage"><div><div><h3 class="title">8.2.3. Setting the measuring interval</h3></div></div></div><p>
					By default, <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> takes measurements in 20 seconds intervals.
				</p><p>
					If you want to change this measuring frequency, use the following procedure:
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Run the <code class="literal command">powertop</code> command with the <code class="literal option">--time</code> option:
						</p><pre class="literallayout"># powertop --time=<span class="emphasis"><em><span class="replaceable replaceable">time in seconds</span></em></span></pre></li></ul></div></section><section class="section" id="related-information-using-powertop"><div class="titlepage"><div><div><h3 class="title">8.2.4. Related information</h3></div></div></div><p>
					For more details on how to use <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>, see the <code class="literal">powertop</code> man page.
				</p></section></section><section class="section" id="powertop-statistics_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h2 class="title">8.3. PowerTOP statistics</h2></div></div></div><p>
				While it runs, <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> gathers statistics from the system.
			</p><p>
				<span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>'s output provides multiple tabs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">Overview</code>
					</li><li class="listitem">
						<code class="literal">Idle stats</code>
					</li><li class="listitem">
						<code class="literal">Frequency stats</code>
					</li><li class="listitem">
						<code class="literal">Device stats</code>
					</li><li class="listitem">
						<code class="literal">Tunables</code>
					</li></ul></div><p>
				You can use the <code class="literal">Tab</code> and <code class="literal">Shift+Tab</code> keys to cycle through these tabs.
			</p><section class="section" id="overview-tab_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h3 class="title">8.3.1. The Overview tab</h3></div></div></div><p>
					In the <code class="literal">Overview</code> tab, you can view a list of the components that either send wakeups to the CPU most frequently or consume the most power. The items within the <code class="literal">Overview</code> tab, including processes, interrupts, devices, and other resources, are sorted according to their utilization.
				</p><p>
					The adjacent columns within the <code class="literal">Overview</code> tab provide the following pieces of information:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Usage</span></dt><dd>
								Power estimation of how the resource is being used.
							</dd><dt><span class="term">Events/s</span></dt><dd>
								Wakeups per second. The number of wakeups per second indicates how efficiently the services or the devices and drivers of the kernel are performing. Less wakeups means that less power is consumed. Components are ordered by how much further their power usage can be optimized.
							</dd><dt><span class="term">Category</span></dt><dd>
								Classification of the component; such as process, device, or timer.
							</dd><dt><span class="term">Description</span></dt><dd>
								Description of the component.
							</dd></dl></div><p>
					If properly calibrated, a power consumption estimation for every listed item in the first column is shown as well.
				</p><p>
					Apart from this, the <code class="literal">Overview</code> tab includes the line with summary statistics such as:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Total power consumption
						</li><li class="listitem">
							Remaining battery life (only if applicable)
						</li><li class="listitem">
							Summary of total wakeups per second, GPU operations per second, and virtual file system operations per second
						</li></ul></div></section><section class="section" id="idle-stats-tab_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h3 class="title">8.3.2. The Idle stats tab</h3></div></div></div><p>
					The <code class="literal">Idle stats</code> tab shows usage of C-states for all processors and cores, while the <code class="literal">Frequency stats</code> tab shows usage of P-states including the Turbo mode, if applicable, for all processors and cores. The duration of C- or P-states is an indication of how well the CPU usage has been optimized. The longer the CPU stays in the higher C- or P-states (for example C4 is higher than C3), the better the CPU usage optimization is. Ideally, residency is 90% or more in the highest C- or P-state when the system is idle.
				</p></section><section class="section" id="device-stats-tab_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h3 class="title">8.3.3. The Device stats tab</h3></div></div></div><p>
					The <code class="literal">Device stats</code> tab provides similar information to the <code class="literal">Overview</code> tab but only for devices.
				</p></section><section class="section" id="tunables-tab_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h3 class="title">8.3.4. The Tunables tab</h3></div></div></div><p>
					The <code class="literal">Tunables</code> tab contains <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>'s suggestions for optimizing the system for lower power consumption.
				</p><p>
					Use the <code class="literal">up</code> and <code class="literal">down</code> keys to move through suggestions, and the <code class="literal">enter</code> key to toggle the suggestion on or off.
				</p><div class="figure" id="idm139692457662944"><p class="title"><strong>Figure 8.1. PowerTOP output</strong></p><div class="figure-contents"><div class="mediaobject"><img src="powertop_output_n.png" alt="powertop output n"/></div></div></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
						For more details on <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>, see <a class="link" href="https://01.org/powertop/">PowerTOP’s home page</a>.
					</p></div></section></section><section class="section" id="generating-an-html-output_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h2 class="title">8.4. Generating an HTML output</h2></div></div></div><p>
				Apart from the <code class="literal command">powertop’s</code> output in terminal, you can also generate an HTML report.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run the <code class="literal command">powertop</code> command with the <code class="literal option">--html</code> option:
					</p><pre class="literallayout"># powertop --html=htmlfile.html</pre><p class="simpara">
						Replace the <code class="literal">htmlfile.html</code> parameter with the required name for the output file.
					</p></li></ul></div></section><section class="section" id="optimizing-power-consumption_managing-power-consumption-with-powertop"><div class="titlepage"><div><div><h2 class="title">8.5. Optimizing power consumption</h2></div></div></div><p>
				To optimize power consumption, you can use either the <code class="literal">powertop</code> service or the <code class="literal">powertop2tuned</code> utility.
			</p><section class="section" id="optimizing-power-consumption-using-the-powertop-service_optimizing-power-consumption"><div class="titlepage"><div><div><h3 class="title">8.5.1. Optimizing power consumption using the powertop service</h3></div></div></div><p>
					You can use the <code class="literal">powertop</code> service to automatically enable all <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>'s suggestions from the <code class="literal">Tunables</code> tab on the boot:
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Enable the <code class="literal">powertop</code> service:
						</p><pre class="literallayout"># systemctl enable powertop</pre></li></ul></div></section><section class="section" id="powertop2tuned-utility_optimizing-power-consumption"><div class="titlepage"><div><div><h3 class="title">8.5.2. The powertop2tuned utility</h3></div></div></div><p>
					The <code class="literal">powertop2tuned</code> utility allows you to create custom <span class="strong strong"><strong><span class="application application">Tuned</span></strong></span> profiles from <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> suggestions.
				</p><p>
					By default, <code class="literal">powertop2tuned</code> creates profiles in the <code class="literal filename">/etc/tuned/</code> directory, and bases the custom profile on the currently selected <span class="strong strong"><strong><span class="application application">Tuned</span></strong></span> profile. For safety reasons, all <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> tunings are initially disabled in the new profile.
				</p><p>
					To enable the tunings, you can:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Uncomment them in the <code class="literal filename">/etc/tuned/profile_name/tuned.conf file</code>.
						</li><li class="listitem"><p class="simpara">
							Use the <code class="literal option">--enable</code> or <code class="literal option">-e</code> option to generate a new profile that enables most of the tunings suggested by <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span>.
						</p><p class="simpara">
							Certain potentially problematic tunings, such as the USB autosuspend, are disabled by default and need to be uncommented manually.
						</p></li></ul></div></section><section class="section" id="optimizing-power-consumption-with-powertop2tuned_optimizing-power-consumption"><div class="titlepage"><div><div><h3 class="title">8.5.3. Optimizing power consumption using the powertop2tuned utility</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The <code class="literal">powertop2tuned</code> utility is installed on the system:
						</p><pre class="literallayout"># yum install tuned-utils</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a custom profile:
						</p><pre class="literallayout"># powertop2tuned new_profile_name</pre></li><li class="listitem"><p class="simpara">
							Activate the new profile:
						</p><pre class="literallayout"># tuned-adm profile new_profile_name</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional information</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							For a complete list of options that <code class="literal">powertop2tuned</code> supports, use:
						</p><pre class="literallayout">$ powertop2tuned --help</pre></li></ul></div></section><section class="section" id="con_comparison-of-powertop-service-and-powertop2tuned_optimizing-power-consumption"><div class="titlepage"><div><div><h3 class="title">8.5.4. Comparison of powertop.service and powertop2tuned</h3></div></div></div><p>
					Optimizing power consumption with <code class="literal">powertop2tuned</code> is preferred over <code class="literal">powertop.service</code> for the following reasons:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">powertop2tuned</code> utility represents integration of <span class="strong strong"><strong><span class="application application">PowerTOP</span></strong></span> into <span class="strong strong"><strong><span class="application application">Tuned</span></strong></span>, which enables to benefit of advantages of both tools.
						</li><li class="listitem">
							The <code class="literal">powertop2tuned</code> utility allows for fine-grained control of enabled tuning.
						</li><li class="listitem">
							With <code class="literal">powertop2tuned</code>, potentially dangerous tuning are not automatically enabled.
						</li><li class="listitem">
							With <code class="literal">powertop2tuned</code>, rollback is possible without reboot.
						</li></ul></div></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm139692455275536"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2020 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="l_summit.png" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
