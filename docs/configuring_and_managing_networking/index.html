<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="a7a810bf-ede9-445b-821c-482c9e5fb6df" product="f321f43a-4a79-48fe-8aae-117b9d973ec0" revision="b341c8e755f9f9be6e64db4660b631ff6efb1d78:en-us" page="ca3a7c41-d047-470e-b37a-8a8a400c8f36" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index" />
<meta property="og:title" content="Configuring and managing networking Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta property="og:description" content="This document describes how to manage networking on Red Hat Enterprise Linux 8. The current version of the document contains only selected preview user stories." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/index" />
<meta name="twitter:title" content="Configuring and managing networking Red Hat Enterprise Linux 8 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This document describes how to manage networking on Red Hat Enterprise Linux 8. The current version of the document contains only selected preview user stories." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Configuring and managing networking Red Hat Enterprise Linux 8 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs07.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="2070d6b" />
<meta name="cp-chrome-build-date" content="2020-03-09T20:28:54.189Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "2070d6b",
        builddate : "2020-03-09T20:28:54.189Z",
        fetchdate : "2020-03-11T07:52:05-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=2070d6b.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=2070d6b.css" />

<link href="chosen.css%3Fv=2070d6b.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=2070d6b" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__1YIht1y1Jlm9D0PyxEuhS3DlWdYAlEsNpsFDOaUsfRw__ZnC7278ZsqBG-1FOUqflDl8B3Y1kLiAWXAIkoLrHbYg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       'a7a810bf-ede9-445b-821c-482c9e5fb6df');
attributes.set('ResourceTitle',    'Configuring and managing networking');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       'b341c8e755f9f9be6e64db4660b631ff6efb1d78:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat Enterprise Linux');
attributes.set('ProductVersion',   '8');
attributes.set('ProductId',        'Red Hat Enterprise Linux 8');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat Enterprise Linux", "/documentation/en-us/red_hat_enterprise_linux/"], ["8", "/documentation/en-us/red_hat_enterprise_linux/8/"], ["Configuring and managing networking", "/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__veGxEiPQW6fkzAPZnAFA23SFz1CyJy2dlu6x8XuHM4s__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"p16IBEJ5K_3DCJRPduzQ68-cO9fhPnKphW5d-qbBhYg","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-group-group, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-group-group-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-group-group-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-group-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs07-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page admin-bar  kcs_external" >

  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
            <defs>
              <style>
                .rh-logo-hat {
                  fill: #e00;
                }
                .rh-logo-type {
                  fill: #fff;
                }
              </style>
            </defs>
            <title>Red Hat</title>
            <path
              class="rh-logo-hat"
              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
              <path class="rh-logo-band"
              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
              <path
              class="rh-logo-type"
              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
          </svg>
        </span>
        <span class="site-title"><span>Customer </span><span>Portal</span></span>
    </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/ecosystem/">Ecosystem</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <div class="input-group push-bottom">

                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Troubleshooting an issue? Try <a href="https://access.redhat.com/solution-engine">Solution Engine</a>&mdash;our new support tool.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                        <span class="logo-crop">
                          <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                            <defs>
                              <style>
                                .rh-logo-hat {
                                  fill: #e00;
                                }
                                .rh-logo-type {
                                  fill: #fff;
                                }
                              </style>
                            </defs>
                            <title>Red Hat</title>
                            <path
                              class="rh-logo-hat"
                              d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                              <path class="rh-logo-band"
                              d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                              <path
                              class="rh-logo-type"
                              d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                          </svg>
                        </span>
                        <span class="site-title"><span>Customer </span><span>Portal</span></span>
                    </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/support/policy/update_policies/">Product Life Cycle &amp; Update Policies</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        <li><a href="https://access.redhat.com/ecosystem/" class="cta-link cta-link-darkbg">Ecosystem</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="index.html">English</a></li>
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/">日本語</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_networking/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/pdf/configuring_and_managing_networking/Red_Hat_Enterprise_Linux-8-Configuring_and_managing_networking-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/epub/configuring_and_managing_networking/Red_Hat_Enterprise_Linux-8-Configuring_and_managing_networking-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Configuring and managing networking</a></li><li class=" leaf"><a href="index.html#proc_providing-feedback-on-red-hat-documentation_configuring-and-managing-networking">Providing feedback on Red Hat documentation</a></li><li class=" leaf"><a href="index.html#Overview-of-Networking-topics_configuring-and-managing-networking">1. Overview of networking topics</a><ol class="menu"><li class=" leaf"><a href="index.html#IP_versus_non_IP_networks_Overview-of-Networking-topics">1.1. IP versus non-IP networks</a></li><li class=" leaf"><a href="index.html#Static-vesrus-dynamic-IP-addressing_Overview-of-Networking-topics">1.2. Static versus dynamic IP addressing</a></li><li class=" leaf"><a href="index.html#Configuring-the-DHCP-Client-Behavior_Overview-of-Networking-topics">1.3. Configuring the DHCP client behavior</a><ol class="menu"><li class=" leaf"><a href="index.html#Making_DHCPv4_persistent">1.3.1. Making DHCPv4 persistent</a></li></ol></li><li class=" leaf"><a href="index.html#Setting_the_Wireless_Regulatory_Domain_Overview-of-Networking-topics">1.4. Setting the wireless regulatory domain</a></li><li class=" leaf"><a href="index.html#Using_Network_Kernel_Tunables_with_sysctl_Overview-of-Networking-topics">1.5. Using network kernel tunables with sysctl</a></li><li class=" leaf"><a href="index.html#Managing_Data_Using_the_ncat_Utility_Overview-of-Networking-topics">1.6. Managing data using the ncat utility</a></li></ol></li><li class=" leaf"><a href="index.html#consistent-network-interface-device-naming_configuring-and-managing-networking">2. Consistent network interface device naming</a><ol class="menu"><li class=" leaf"><a href="index.html#network-interface-device-naming-hierarchy_consistent-network-interface-device-naming">2.1. Network interface device naming hierarchy</a></li><li class=" leaf"><a href="index.html#how-the-network-device-naming-works_consistent-network-interface-device-naming">2.2. How the network device renaming works</a></li><li class=" leaf"><a href="index.html#predictable-network-interface-device-names-on-the-x86_64-platform-explained_consistent-network-interface-device-naming">2.3. Predictable network interface device names on the x86_64 platform explained</a></li><li class=" leaf"><a href="index.html#predictable-network-interface-device-names-on-the-system-z-platform-explained_consistent-network-interface-device-naming">2.4. Predictable network interface device names on the System z platform explained</a></li><li class=" leaf"><a href="index.html#disabling-consistent-interface-device-naming-during-the-installation_consistent-network-interface-device-naming">2.5. Disabling consistent interface device naming during the installation</a></li><li class=" leaf"><a href="index.html#disabling-consistent-interface-device-naming-on-an-installed-system_consistent-network-interface-device-naming">2.6. Disabling consistent interface device naming on an installed System</a></li><li class=" leaf"><a href="index.html#using-prefixdevname">2.7. Using prefixdevname for naming of Ethernet network interfaces</a><ol class="menu"><li class=" leaf"><a href="index.html#prefixdevname-intro_using-prefixdevname">2.7.1. Introduction to prefixdevname</a></li><li class=" leaf"><a href="index.html#installing-using-prefixdevname_using-prefixdevname">2.7.2. Setting prefixdevname</a></li><li class=" leaf"><a href="index.html#prefixdevname-limitations_using-prefixdevname">2.7.3. Limitations of prefixdevname</a></li></ol></li><li class=" leaf"><a href="index.html#related_information">2.8. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#Netconsole_configuring-and-managing-networking">3. Netconsole</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring_netconsole_Netconsole">3.1. Configuring netconsole</a></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking">4. Getting started with managing networking with NetworkManager</a><ol class="menu"><li class=" leaf"><a href="index.html#Overview_of_NetworkManager_getting-started-with-networking-devices-with-NetworkManager">4.1. Overview of NetworkManager</a><ol class="menu"><li class=" leaf"><a href="index.html#Benefits_of_Using_NetworkManager_getting-started-with-networking-devices-with-NetworkManager">4.1.1. Benefits of using NetworkManager</a></li></ol></li><li class=" leaf"><a href="index.html#Installing-NetworkManager_getting-started-with-networking-devices-with-NetworkManager">4.2. Installing NetworkManager</a></li><li class=" leaf"><a href="index.html#Checking-the-Status-of-NetworkManager_getting-started-with-networking-devices-with-NetworkManager">4.3. Checking the status of NetworkManager</a></li><li class=" leaf"><a href="index.html#Starting-NetworkManager_getting-started-with-networking-devices-with-NetworkManager">4.4. Starting NetworkManager</a></li><li class=" leaf"><a href="index.html#NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager">4.5. NetworkManager tools</a></li><li class=" leaf"><a href="index.html#Running-Dispatcher-Scripts_getting-started-with-networking-devices-with-NetworkManager">4.6. Running dispatcher scripts</a></li><li class=" leaf"><a href="index.html#Using-NetworkManager-with-sysconfig-files_getting-started-with-networking-devices-with-NetworkManager">4.7. Using NetworkManager with sysconfig files</a><ol class="menu"><li class=" leaf"><a href="index.html#legacy_network_scripts_support">4.7.1. Legacy network scripts support</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#overview-of-Network-configuration-methods_configuring-and-managing-networking">5. Overview of network configuration methods</a><ol class="menu"><li class=" leaf"><a href="index.html#Selecting-Network-Configuration-methods_overview-of-Network-configuration-methods">5.1. Selecting network configuration methods</a></li></ol></li><li class=" leaf"><a href="index.html#Configuring-IP-Networking-with-nmtui_configuring-and-managing-networking">6. Configuring IP networking with nmtui</a><ol class="menu"><li class=" leaf"><a href="index.html#Getting-started-with-nmtui_Configuring-IP-Networking-with-nmtui">6.1. Getting started with nmtui</a><ol class="menu"><li class=" leaf"><a href="index.html#editing_a_connection_with_nmtui">6.1.1. Editing a connection with nmtui</a></li><li class=" leaf"><a href="index.html#applying_changes_to_a_modified_connection_with_nmtui">6.1.2. Applying changes to a modified connection with nmtui</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-nmcli_configuring-and-managing-networking">7. Getting started with nmcli</a><ol class="menu"><li class=" leaf"><a href="index.html#understanding-nmcli_getting-started-with-nmcli">7.1. Understanding nmcli</a></li><li class=" leaf"><a href="index.html#Overview-of-nmcli-property-names-and-aliases_getting-started-with-nmcli">7.2. Overview of nmcli property names and aliases</a></li><li class=" leaf"><a href="index.html#Brief-Selection-of-nmcli-commands_getting-started-with-nmcli">7.3. Brief selection of nmcli commands</a></li><li class=" leaf"><a href="index.html#Setting-a-device-managed-or-unmanaged-with-nmcli_getting-started-with-nmcli">7.4. Setting a device managed or unmanaged with nmcli</a></li><li class=" leaf"><a href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli">7.5. Creating a connection profile with nmcli</a></li><li class=" leaf"><a href="index.html#Using-the-nmcli-Interactive-Connection-Editor_getting-started-with-nmcli">7.6. Using the nmcli interactive connection editor</a></li><li class=" leaf"><a href="index.html#Modifying-a-connection-profile-with-nmcli_getting-started-with-nmcli">7.7. Modifying a connection profile with nmcli</a></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-configuring-networking-using-the-gnome-gui_configuring-and-managing-networking">8. Getting started with configuring networking using the GNOME GUI</a><ol class="menu"><li class=" leaf"><a href="index.html#Connecting-to-a-Network-using-the-GNOME-Shell-Network-connection-icon_getting-started-with-configuring-networking-using-the-gnome-gui">8.1. Connecting to a network using the GNOME shell network connection icon</a></li><li class=" leaf"><a href="index.html#Creating_a_Network_Connection_using_control_center">8.2. Creating a network connection using control-center</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-an-ethernet-connection_configuring-and-managing-networking">9. Configuring an Ethernet connection</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring_a_static_ethernet_connection_with_nmcli">9.1. Configuring a static Ethernet connection with nmcli</a></li><li class=" leaf"><a href="index.html#configuring_a_static_ethernet_connection_using_the_nmcli_interactive_editor">9.2. Configuring a static Ethernet connection using the nmcli interactive editor</a></li><li class=" leaf"><a href="index.html#configuring_a_dynamic_ethernet_connection_with_emphasis_role_strong_nmcli_emphasis">9.3. Configuring a dynamic Ethernet connection with nmcli</a></li><li class=" leaf"><a href="index.html#configuring_a_dynamic_ethernet_connection_using_the_interactive_editor">9.4. Configuring a dynamic Ethernet connection using the interactive editor</a></li><li class=" leaf"><a href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection">9.5. Configuring an Ethernet connection using control-center</a></li><li class=" leaf"><a href="index.html#configuring-a-wired-ethernet-connection-using-nm-connection-editor_configuring-an-ethernet-connection">9.6. Configuring an Ethernet connection using nm-connection-editor</a></li></ol></li><li class=" leaf"><a href="index.html#managing-wi-fi-connections_configuring-and-managing-networking">10. Managing Wi-Fi connections</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-a-wifi-using-nmcli_managing-wi-fi-connections">10.1. Configuring a Wi-Fi connection using nmcli</a></li><li class=" leaf"><a href="index.html#Configuring-a-Wi-Fi-connection-using-control_-center_managing-wi-fi-connections">10.2. Configuring a Wi-Fi connection using control-center</a></li><li class=" leaf"><a href="index.html#connecting-to-a-Wi-Fi-network-with-nmcli_managing-wi-fi-connections">10.3. Connecting to a Wi-Fi network with nmcli</a></li><li class=" leaf"><a href="index.html#proc_connecting-to-a-hidden-wi-fi-network-using-nmcli_managing-wi-fi-connections">10.4. Connecting to a hidden Wi-Fi network using nmcli</a></li><li class=" leaf"><a href="index.html#connecting_to_a_wifi_network_managing-wi-fi-connections">10.5. Connecting to a Wi-Fi network using the GNOME GUI</a></li><li class=" leaf"><a href="index.html#configuring-802-1x-security-for-wi-fi-with-nmcli_managing-wi-fi-connections">10.6. Configuring 802.1X security for Wi-Fi with nmcli</a></li></ol></li><li class=" leaf"><a href="index.html#setting-a-default-gateway-in-an-existing-connection-profile_configuring-and-managing-networking">11. Setting a default gateway in an existing connection profile</a><ol class="menu"><li class=" leaf"><a href="index.html#setting-the-default-gateway-on-an-existing-connection-using-nmcli_setting-a-default-gateway-in-an-existing-connection-profile">11.1. Setting the default gateway on an existing connection using nmcli</a></li><li class=" leaf"><a href="index.html#setting-the-default-gateway-on-an-existing-connection-using-the-nmcli-interactive-mode_setting-a-default-gateway-in-an-existing-connection-profile">11.2. Setting the default gateway on an existing connection using the nmcli interactive mode</a></li><li class=" leaf"><a href="index.html#setting-the-default-gateway-on-an-existing-connection-using-nm-connection-editor_setting-a-default-gateway-in-an-existing-connection-profile">11.3. Setting the default gateway on an existing connection using nm-connection-editor</a></li><li class=" leaf"><a href="index.html#setting-the-default-gateway-on-an-existing-connection-using-control-center_setting-a-default-gateway-in-an-existing-connection-profile">11.4. Setting the default gateway on an existing connection using control-center</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-a-static-route_configuring-and-managing-networking">12. Configuring a static route</a><ol class="menu"><li class=" leaf"><a href="index.html#how-to-use-the-nmcli-command-to-configure-a-static-route_configuring-a-static-route">12.1. How to use the nmcli command to configure a static route</a></li><li class=" leaf"><a href="index.html#configuring-a-static-route-using-a-nmcli-command_configuring-a-static-route">12.2. Configuring a static route using a nmcli command</a></li><li class=" leaf"><a href="index.html#configuring-a-static-route-using-control-center_configuring-a-static-route">12.3. Configuring a static route using control-center</a></li><li class=" leaf"><a href="index.html#configuring-a-static-route-using-nm-connection-editor_configuring-a-static-route">12.4. Configuring a static route using nm-connection-editor</a></li><li class=" leaf"><a href="index.html#configuring-a-static-route-using-the-nmcli-interactive-mode_configuring-a-static-route">12.5. Configuring a static route using the nmcli interactive mode</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-policy-based-routing-to-define-alternative-routes_configuring-and-managing-networking">13. Configuring policy-based routing to define alternative routes</a><ol class="menu"><li class=" leaf"><a href="index.html#routing-traffic-from-a-specific-subnet-to-a-different-default-gateway_configuring-policy-based-routing-to-define-alternative-routes">13.1. Routing traffic from a specific subnet to a different default gateway</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-vlan-tagging_configuring-and-managing-networking">14. Configuring VLAN tagging</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-vlan-tagging-using-nm-connection-editor_configuring-vlan-tagging">14.1. Configuring VLAN tagging using nm-connection-editor</a></li><li class=" leaf"><a href="index.html#configuring-vlan-tagging-using-nmcli-commands_configuring-vlan-tagging">14.2. Configuring VLAN tagging using nmcli commands</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-a-network-bridge_configuring-and-managing-networking">15. Configuring a network bridge</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-a-network-bridge-using-nmcli-commands_configuring-a-network-bridge">15.1. Configuring a network bridge using nmcli commands</a></li><li class=" leaf"><a href="index.html#configuring-a-network-bridge-using-nm-connection-editor_configuring-a-network-bridge">15.2. Configuring a network bridge using nm-connection-editor</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-network-teaming_configuring-and-managing-networking">16. Configuring network teaming</a><ol class="menu"><li class=" leaf"><a href="index.html#understanding-network-teaming_configuring-network-teaming">16.1. Understanding network teaming</a></li><li class=" leaf"><a href="index.html#understanding-the-default-behavior-of-master-and-slave-interfaces_configuring-network-teaming">16.2. Understanding the default behavior of master and slave interfaces</a></li><li class=" leaf"><a href="index.html#comparison-of-network-teaming-and-bonding-features_configuring-network-teaming">16.3. Comparison of network teaming and bonding features</a></li><li class=" leaf"><a href="index.html#understanding-the-teamd-service-runners-and-link-watchers_configuring-network-teaming">16.4. Understanding the teamd service, runners, and link-watchers</a></li><li class=" leaf"><a href="index.html#installing-the-teamd-service_configuring-network-teaming">16.5. Installing the teamd service</a></li><li class=" leaf"><a href="index.html#configuring-a-network-team-using-nmcli-commands_configuring-network-teaming">16.6. Configuring a network team using nmcli commands</a></li><li class=" leaf"><a href="index.html#configuring-a-network-team-using-nm-connection-editor_configuring-network-teaming">16.7. Configuring a network team using nm-connection-editor</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-network-bonding_configuring-and-managing-networking">17. Configuring network bonding</a><ol class="menu"><li class=" leaf"><a href="index.html#understanding-network-bonding_configuring-network-bonding">17.1. Understanding network bonding</a></li><li class=" leaf"><a href="index.html#understanding-the-default-behavior-of-master-and-slave-interfaces_configuring-network-bonding">17.2. Understanding the default behavior of master and slave interfaces</a></li><li class=" leaf"><a href="index.html#comparison-of-network-teaming-and-bonding-features_configuring-network-bonding">17.3. Comparison of network teaming and bonding features</a></li><li class=" leaf"><a href="index.html#upstream-switch-configuration-depending-on-the-bonding-modes_configuring-network-bonding">17.4. Upstream Switch Configuration Depending on the Bonding Modes</a></li><li class=" leaf"><a href="index.html#configuring-a-network-bond-using-nmcli-commands_configuring-network-bonding">17.5. Configuring a network bond using nmcli commands</a></li><li class=" leaf"><a href="index.html#configuring-a-network-bond-using-nm-connection-editor_configuring-network-bonding">17.6. Configuring a network bond using nm-connection-editor</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-a-vpn-connection_configuring-and-managing-networking">18. Configuring a VPN connection</a><ol class="menu"><li class=" leaf"><a href="index.html#Configuring-a-VPN-connection-with-control-center_configuring-a-vpn-connection">18.1. Configuring a VPN connection with control-center</a></li><li class=" leaf"><a href="index.html#configuring-a-vpn-connection-using-nm-connection-editor_configuring-a-vpn-connection">18.2. Configuring a VPN connection using nm-connection-editor</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-the-order-of-dns-servers_configuring-and-managing-networking">19. Configuring the order of DNS servers</a><ol class="menu"><li class=" leaf"><a href="index.html#how-networkmanager-orders-dns-servers-in-etc-resolv-conf_configuring-the-order-of-dns-servers">19.1. How NetworkManager orders DNS servers in /etc/resolv.conf</a></li><li class=" leaf"><a href="index.html#setting-a-networkmanager-wide-default-dns-server-priority-value_configuring-the-order-of-dns-servers">19.2. Setting a NetworkManager-wide default DNS server priority value</a></li><li class=" leaf"><a href="index.html#setting-the-dns-priority-of-a-networkmanager-connection_configuring-the-order-of-dns-servers">19.3. Setting the DNS priority of a NetworkManager connection</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-ip-networking-with-ifcfg-files_configuring-and-managing-networking">20. Configuring ip networking with ifcfg files</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-an-interface-with-static-network-settings-using-ifcfg-files_configuring-ip-networking-with-ifcfg-files">20.1. Configuring an interface with static network settings using ifcfg files</a></li><li class=" leaf"><a href="index.html#configuring-an-interface-with-dynamic-network-settings-using-ifcfg-files_configuring-ip-networking-with-ifcfg-files">20.2. Configuring an interface with dynamic network settings using ifcfg files</a></li><li class=" leaf"><a href="index.html#managing-system-wide-and-private-connection-profiles-with-ifcfg-files_configuring-ip-networking-with-ifcfg-files">20.3. Managing system-wide and private connection profiles with ifcfg files</a></li></ol></li><li class=" leaf"><a href="index.html#disabling-ipv6-on-a-system-that-uses-networkmanager_configuring-and-managing-networking">21. Disabling IPv6 on a system that uses NetworkManager</a><ol class="menu"><li class=" leaf"><a href="index.html#disabling-ipv6-on-a-connection-using-nmcli_disabling-ipv6-on-a-system-that-uses-networkmanager">21.1. Disabling IPv6 on a connection using nmcli</a></li></ol></li><li class=" leaf"><a href="index.html#manually-configuring-the-etc-resolv-conf-file_configuring-and-managing-networking">22. Manually configuring the /etc/resolv.conf file</a><ol class="menu"><li class=" leaf"><a href="index.html#disabling-dns-processing-in-the-networkmanager-configuration_manually-configuring-the-etc-resolv-conf-file">22.1. Disabling DNS processing in the NetworkManager configuration</a></li><li class=" leaf"><a href="index.html#replacing-etc-resolv-conf-with-a-symbolic-link-to-manually-configure-dns-settings_manually-configuring-the-etc-resolv-conf-file">22.2. Replacing /etc/resolv.conf with a symbolic link to manually configure DNS settings</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-802-3-link-settings_configuring-and-managing-networking">23. Configuring 802.3 link settings</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-802-3-link-settings-with-nmcli-tool_configuring-802-3-link-settings">23.1. Configuring 802.3 link settings with nmcli tool</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-network-connection-settings-using-macsec_configuring-and-managing-networking">24. Configuring MACsec</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction-to-macsec_configuring-network-connection-settings-using-macsec">24.1. Introduction to MACsec</a></li><li class=" leaf"><a href="index.html#using-macsec-with-nmcli-tool_configuring-network-connection-settings-using-macsec">24.2. Using MACsec with nmcli tool</a></li><li class=" leaf"><a href="index.html#using-macsec-with-wpa_supplicant_configuring-network-connection-settings-using-macsec">24.3. Using MACsec with wpa_supplicant</a></li><li class=" leaf"><a href="index.html#related-information-configuring-network-connection-settings-using-macsec">24.4. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#using-different-dns-servers-for-different-domains_configuring-and-managing-networking">25. Using different DNS servers for different domains</a><ol class="menu"><li class=" leaf"><a href="index.html#sending-dns-requests-for-a-specific-domain-to-a-selected-dns-servers_using-different-dns-servers-for-different-domains">25.1. Sending DNS requests for a specific domain to a selected DNS server</a></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks_configuring-and-managing-networking">26. Getting started with Remote Direct Memory Access and Remote Memory Access networks</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-the-core-rdma-subsystem_getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks">26.1. Configuring the core RDMA subsystem</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-the-rdma-service_configuring-the-core-rdma-subsystem">26.1.1. Configuring the rdma service</a></li><li class=" leaf"><a href="index.html#increasing-the-amount-of-memory-that-users-are-allowed-to-pin-in-the-system_configuring-the-core-rdma-subsystem">26.1.2. Increasing the amount of memory that users are allowed to pin in the system</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-an-infiniband-subnet-manager_getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks">26.2. Configuring an InfiniBand subnet manager</a><ol class="menu"><li class=" leaf"><a href="index.html#installing-the-opensm-subnet-manager_configuring-an-infiniband-subnet-manager">26.2.1. Installing the OpenSM subnet manager</a></li><li class=" leaf"><a href="index.html#configuring-opensm-using-the-simple-method_configuring-an-infiniband-subnet-manager">26.2.2. Configuring OpenSM using the simple method</a></li><li class=" leaf"><a href="index.html#configuring-opensm-by-editing-the-opensm-conf-file_configuring-an-infiniband-subnet-manager">26.2.3. Configuring OpenSM by editing the opensm.conf file</a></li><li class=" leaf"><a href="index.html#configuring-multiple-opensm-instances_configuring-an-infiniband-subnet-manager">26.2.4. Configuring multiple OpenSM instances</a></li><li class=" leaf"><a href="index.html#creating-a-partition-configuration_configuring-an-infiniband-subnet-manager">26.2.5. Creating a partition configuration</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-ipvlan_configuring-and-managing-networking">27. Getting started with IPVLAN</a><ol class="menu"><li class=" leaf"><a href="index.html#ipvlan-overview_getting-started-with-ipvlan">27.1. IPVLAN overview</a></li><li class=" leaf"><a href="index.html#ipvlan-modes_getting-started-with-ipvlan">27.2. IPVLAN modes</a></li><li class=" leaf"><a href="index.html#overview-of-macvlan_getting-started-with-ipvlan">27.3. Overview of MACVLAN</a></li><li class=" leaf"><a href="index.html#ipvlan-and-macvlan_getting-started-with-ipvlan">27.4. Comparison of IPVLAN and MACVLAN</a></li><li class=" leaf"><a href="index.html#configuring-ipvlan-network_getting-started-with-ipvlan">27.5. Configuring IPVLAN network</a><ol class="menu"><li class=" leaf"><a href="index.html#creating-and-configuring-the-ipvlan-device-using-iproute2_configuring-ipvlan-network">27.5.1. Creating and configuring the IPVLAN device using iproute2</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#configuring-virtual-routing-and-forwarding-vrf_configuring-and-managing-networking">28. Configuring virtual routing and forwarding (VRF)</a><ol class="menu"><li class=" leaf"><a href="index.html#temporarily-reusing-the-same-ip-address-on-different-interfaces_configuring-virtual-routing-and-forwarding-vrf">28.1. Temporarily reusing the same IP address on different interfaces</a></li><li class=" leaf"><a href="index.html#related_information_2">28.2. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#setting-your-routing-protocols_configuring-and-managing-networking">29. Setting the routing protocols for your system</a><ol class="menu"><li class=" leaf"><a href="index.html#intro-to-frr_setting-your-routing-protocols">29.1. Introduction to FRRouting</a></li><li class=" leaf"><a href="index.html#setting-up-frrouting_setting-your-routing-protocols">29.2. Setting up FRRouting</a></li><li class=" leaf"><a href="index.html#changing-frrs-configuration_setting-your-routing-protocols">29.3. Modifying the configuration of FRR</a></li><li class=" leaf"><a href="index.html#modifying-a-configuration-of-a-particular-daemon_setting-your-routing-protocols">29.4. Modifying a configuration of a particular daemon</a></li></ol></li><li class=" leaf"><a href="index.html#providing-dhcp-services_configuring-and-managing-networking">30. Providing DHCP services</a><ol class="menu"><li class=" leaf"><a href="index.html#the-differences-when-using-dhcpd-for-dhcpv4-and-dhcpv6_providing-dhcp-services">30.1. The differences when using dhcpd for DHCPv4 and DHCPv6</a></li><li class=" leaf"><a href="index.html#the-lease-database-of-the-dhcpd-service_providing-dhcp-services">30.2. The lease database of the dhcpd service</a></li><li class=" leaf"><a href="index.html#dynamic-ip-address-assignment-in-ipv6-networks_providing-dhcp-services">30.3. Dynamic IP address assignment in IPv6 networks</a><ol class="menu"><li class=" leaf"><a href="index.html#comparison-of-dhcpv6-to-radvd_dynamic-ip-address-assignment-in-ipv6-networks">30.3.1. Comparison of DHCPv6 to radvd</a></li><li class=" leaf"><a href="index.html#configuring-the-radvd-service-for-ipv6-routers_dynamic-ip-address-assignment-in-ipv6-networks">30.3.2. Configuring the radvd service for IPv6 routers</a></li></ol></li><li class=" leaf"><a href="index.html#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services">30.4. Setting network interfaces for the DHCP servers</a></li><li class=" leaf"><a href="index.html#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services">30.5. Setting up the DHCP service for subnets directly connected to the DHCP server</a></li><li class=" leaf"><a href="index.html#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services">30.6. Setting up the DHCP service for subnets that are not directly connected to the DHCP server</a></li><li class=" leaf"><a href="index.html#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services">30.7. Assigning a static address to a host using DHCP</a></li><li class=" leaf"><a href="index.html#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services">30.8. Using a group declaration to apply parameters to multiple hosts, subnets, and shared networks at the same time</a></li><li class=" leaf"><a href="index.html#restoring-a-corrupt-lease-database_providing-dhcp-services">30.9. Restoring a corrupt lease database</a></li><li class=" leaf"><a href="index.html#setting-up-a-dhcp-relay-agent_providing-dhcp-services">30.10. Setting up a DHCP relay agent</a></li></ol></li><li class=" leaf"><a href="index.html#using-and-configuring-firewalls_configuring-and-managing-networking">31. Using and configuring firewalls</a><ol class="menu"><li class=" leaf"><a href="index.html#getting-started-with-firewalld_using-and-configuring-firewalls">31.1. Getting started with firewalld</a><ol class="menu"><li class=" leaf"><a href="index.html#firewalld_getting-started-with-firewalld">31.1.1. firewalld</a></li><li class=" leaf"><a href="index.html#firewalld-zones_getting-started-with-firewalld">31.1.2. Zones</a></li><li class=" leaf"><a href="index.html#predefined-services_getting-started-with-firewalld">31.1.3. Predefined services</a></li></ol></li><li class=" leaf"><a href="index.html#installing-the-firewall-config-gui-configuration-tool_using-and-configuring-firewalls">31.2. Installing the firewall-config GUI configuration tool</a></li><li class=" leaf"><a href="index.html#viewing-the-current-status-and-settings-of-firewalld_using-and-configuring-firewalls">31.3. Viewing the current status and settings of firewalld</a><ol class="menu"><li class=" leaf"><a href="index.html#viewing-the-current-status-of-firewalld_viewing-the-current-status-and-settings-of-firewalld">31.3.1. Viewing the current status of firewalld</a></li><li class=" leaf"><a href="index.html#viewing-current-firewalld-settings_viewing-the-current-status-and-settings-of-firewalld">31.3.2. Viewing current firewalld settings</a></li></ol></li><li class=" leaf"><a href="index.html#starting-firewalld_using-and-configuring-firewalls">31.4. Starting firewalld</a></li><li class=" leaf"><a href="index.html#stopping-firewalld_using-and-configuring-firewalls">31.5. Stopping firewalld</a></li><li class=" leaf"><a href="index.html#runtime-and-permanent-settings_using-and-configuring-firewalls">31.6. Runtime and permanent settings</a></li><li class=" leaf"><a href="index.html#verifying-the-permanent-firewalld-configuration_using-and-configuring-firewalls">31.7. Verifying the permanent firewalld configuration</a></li><li class=" leaf"><a href="index.html#controlling-network-traffic-using-firewalld_using-and-configuring-firewalls">31.8. Controlling network traffic using firewalld</a><ol class="menu"><li class=" leaf"><a href="index.html#disabling-all-traffic-in-case-of-emergency-using-cli_controlling-network-traffic-using-firewalld">31.8.1. Disabling all traffic in case of emergency using CLI</a></li><li class=" leaf"><a href="index.html#controlling-traffic-with-predefined-services-using-cli_controlling-network-traffic-using-firewalld">31.8.2. Controlling traffic with predefined services using CLI</a></li><li class=" leaf"><a href="index.html#controlling-traffic-with-predefined-services-using-gui_controlling-network-traffic-using-firewalld">31.8.3. Controlling traffic with predefined services using GUI</a></li><li class=" leaf"><a href="index.html#adding-new-services_controlling-network-traffic-using-firewalld">31.8.4. Adding new services</a></li><li class=" leaf"><a href="index.html#controlling-ports-using-cli_controlling-network-traffic-using-firewalld">31.8.5. Controlling ports using CLI</a></li><li class=" leaf"><a href="index.html#sec-Opening_Ports_using_GUI_controlling-network-traffic-using-firewalld">31.8.6. Opening ports using GUI</a></li><li class=" leaf"><a href="index.html#sec-Controlling_Traffic_with_Protocols_using_GUI_controlling-network-traffic-using-firewalld">31.8.7. Controlling traffic with protocols using GUI</a></li><li class=" leaf"><a href="index.html#sec-Opening_Source_Ports_using_GUI_controlling-network-traffic-using-firewalld">31.8.8. Opening source ports using GUI</a></li></ol></li><li class=" leaf"><a href="index.html#working-with-firewalld-zones_using-and-configuring-firewalls">31.9. Working with firewalld zones</a><ol class="menu"><li class=" leaf"><a href="index.html#listing-zones_working-with-firewalld-zones">31.9.1. Listing zones</a></li><li class=" leaf"><a href="index.html#modifying-firewalld-settings-for-a-certain-zone_working-with-firewalld-zones">31.9.2. Modifying firewalld settings for a certain zone</a></li><li class=" leaf"><a href="index.html#changing-the-default-zone_working-with-firewalld-zones">31.9.3. Changing the default zone</a></li><li class=" leaf"><a href="index.html#assigning-a-network-interface-to-a-zone_working-with-firewalld-zones">31.9.4. Assigning a network interface to a zone</a></li><li class=" leaf"><a href="index.html#assigning-a-default-zone-to-a-network-connection_working-with-firewalld-zones">31.9.5. Assigning a default zone to a network connection</a></li><li class=" leaf"><a href="index.html#creating-a-new-zone_working-with-firewalld-zones">31.9.6. Creating a new zone</a></li><li class=" leaf"><a href="index.html#zone-configuration-files_working-with-firewalld-zones">31.9.7. Zone configuration files</a></li><li class=" leaf"><a href="index.html#using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones">31.9.8. Using zone targets to set default behavior for incoming traffic</a></li></ol></li><li class=" leaf"><a href="index.html#using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalls">31.10. Using zones to manage incoming traffic depending on a source</a><ol class="menu"><li class=" leaf"><a href="index.html#sec-Using_Zones_to_Manage_Incoming_Traffic_Depending_on_Source_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.1. Using zones to manage incoming traffic depending on a source</a></li><li class=" leaf"><a href="index.html#adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.2. Adding a source</a></li><li class=" leaf"><a href="index.html#removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.3. Removing a source</a></li><li class=" leaf"><a href="index.html#adding-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.4. Adding a source port</a></li><li class=" leaf"><a href="index.html#removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.5. Removing a source port</a></li><li class=" leaf"><a href="index.html#using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.6. Using zones and sources to allow a service for only a specific domain</a></li><li class=" leaf"><a href="index.html#configuring-traffic-accepted-by-a-zone-based-on-a-protocol_using-zones-to-manage-incoming-traffic-depending-on-a-source">31.10.7. Configuring traffic accepted by a zone based on a protocol</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-ip-address-masquerading_using-and-configuring-firewalls">31.11. Configuring IP address masquerading</a></li><li class=" leaf"><a href="index.html#port-forwarding_using-and-configuring-firewalls">31.12. Port forwarding</a><ol class="menu"><li class=" leaf"><a href="index.html#adding-a-port-to-redirect_port-forwarding">31.12.1. Adding a port to redirect</a></li><li class=" leaf"><a href="index.html#redirecting-tcp-port-80-to-port-88-on-the-same-machine_port-forwarding">31.12.2. Redirecting TCP port 80 to port 88 on the same machine</a></li><li class=" leaf"><a href="index.html#removing-a-redirected-port_port-forwarding">31.12.3. Removing a redirected port</a></li><li class=" leaf"><a href="index.html#removing-tcp-port-80-forwarded-to-port-88-on-the-same-machine_port-forwarding">31.12.4. Removing TCP port 80 forwarded to port 88 on the same machine</a></li></ol></li><li class=" leaf"><a href="index.html#managing-icmp-requests_using-and-configuring-firewalls">31.13. Managing ICMP requests</a><ol class="menu"><li class=" leaf"><a href="index.html#listing-and-blocking-icmp-requests_managing-icmp-requests">31.13.1. Listing and blocking ICMP requests</a></li><li class=" leaf"><a href="index.html#configuring-the-icmp-filter-using-gui_managing-icmp-requests">31.13.2. Configuring the ICMP filter using GUI</a></li></ol></li><li class=" leaf"><a href="index.html#setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalls">31.14. Setting and controlling IP sets using firewalld</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-ip-set-options-using-cli_setting-and-controlling-ip-sets-using-firewalld">31.14.1. Configuring IP set options using CLI</a></li></ol></li><li class=" leaf"><a href="index.html#prioritizing-rich-rules_using-and-configuring-firewalls">31.15. Prioritizing rich rules</a><ol class="menu"><li class=" leaf"><a href="index.html#how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules">31.15.1. How the priority parameter organizes rules into different chains</a></li><li class=" leaf"><a href="index.html#setting-the-priority-of-a-rich-rule_prioritizing-rich-rules">31.15.2. Setting the priority of a rich rule</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-firewall-lockdown_using-and-configuring-firewalls">31.16. Configuring firewall lockdown</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring-lockdown-with-the-command-line-client_configuring-firewall-lockdown">31.16.1. Configuring lockdown with using CLI</a></li><li class=" leaf"><a href="index.html#configuring-lockdown-whitelist-options-with-the-command-line-client_configuring-firewall-lockdown">31.16.2. Configuring lockdown whitelist options using CLI</a></li><li class=" leaf"><a href="index.html#configuring-lockdown-whitelist-options-with-configuration-files_configuring-firewall-lockdown">31.16.3. Configuring lockdown whitelist options using configuration files</a></li></ol></li><li class=" leaf"><a href="index.html#log-for-denied-packets_using-and-configuring-firewalls">31.17. Log for denied packets</a></li><li class=" leaf"><a href="index.html#related-information-using-and-configuring-firewalls">31.18. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-nftables_configuring-and-managing-networking">32. Getting started with nftables</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction-to-nftables_getting-started-with-nftables">32.1. Introduction to nftables</a></li><li class=" leaf"><a href="index.html#when-to-use-firewalld-nftables-or-iptables_getting-started-with-nftables">32.2. When to use firewalld, nftables, or iptables</a></li><li class=" leaf"><a href="index.html#converting-iptables-rules-to-nftables-rules_getting-started-with-nftables">32.3. Converting iptables rules to nftables rules</a></li><li class=" leaf"><a href="index.html#writing-and-executing-nftables-scripts_getting-started-with-nftables">32.4. Writing and executing nftables scripts</a><ol class="menu"><li class=" leaf"><a href="index.html#the-required-script-header-in-nftables-script_writing-and-executing-nftables-scripts">32.4.1. The required script header in nftables script</a></li><li class=" leaf"><a href="index.html#supported-nftables-script-formats_writing-and-executing-nftables-scripts">32.4.2. Supported nftables script formats</a></li><li class=" leaf"><a href="index.html#running-nftables-scripts_writing-and-executing-nftables-scripts">32.4.3. Running nftables scripts</a></li><li class=" leaf"><a href="index.html#using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts">32.4.4. Using comments in nftables scripts</a></li><li class=" leaf"><a href="index.html#using-variables-in-an-nftables-script_writing-and-executing-nftables-scripts">32.4.5. Using variables in an nftables script</a></li><li class=" leaf"><a href="index.html#including-files-in-an-nftables-script_writing-and-executing-nftables-scripts">32.4.6. Including files in an nftables script</a></li><li class=" leaf"><a href="index.html#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts">32.4.7. Automatically loading nftables rules when the system boots</a></li></ol></li><li class=" leaf"><a href="index.html#displaying-nftables-rule-sets_getting-started-with-nftables">32.5. Displaying nftables rule sets</a></li><li class=" leaf"><a href="index.html#creating-an-nftables-table_getting-started-with-nftables">32.6. Creating an nftables table</a></li><li class=" leaf"><a href="index.html#creating-an-nftables-chain_getting-started-with-nftables">32.7. Creating an nftables chain</a></li><li class=" leaf"><a href="index.html#adding-a-rule-to-an-nftables-chain_getting-started-with-nftables">32.8. Adding a rule to an nftables chain</a></li><li class=" leaf"><a href="index.html#inserting-a-rule-into-an-nftables-chain_getting-started-with-nftables">32.9. Inserting a rule into an nftables chain</a></li><li class=" leaf"><a href="index.html#configuring-nat-using-nftables_getting-started-with-nftables">32.10. Configuring NAT using nftables</a><ol class="menu"><li class=" leaf"><a href="index.html#the-different-nat-types-masquerading-source-nat-and-destination-nat_configuring-nat-using-nftables">32.10.1. The different NAT types: masquerading, source NAT, and destination NAT</a></li><li class=" leaf"><a href="index.html#configuring-masquerading-using-nftables_configuring-nat-using-nftables">32.10.2. Configuring masquerading using nftables</a></li><li class=" leaf"><a href="index.html#configuring-source-nat-using-nftables_configuring-nat-using-nftables">32.10.3. Configuring source NAT using nftables</a></li><li class=" leaf"><a href="index.html#configuring-destination-nat-using-nftables_configuring-nat-using-nftables">32.10.4. Configuring destination NAT using nftables</a></li></ol></li><li class=" leaf"><a href="index.html#using-sets-in-nftables-commands_getting-started-with-nftables">32.11. Using sets in nftables commands</a><ol class="menu"><li class=" leaf"><a href="index.html#using-anonymous-sets-in-nftables_using-sets-in-nftables-commands">32.11.1. Using an anonymous sets in nftables</a></li><li class=" leaf"><a href="index.html#using-named-sets-in-nftables_using-sets-in-nftables-commands">32.11.2. Using named sets in nftables</a></li><li class=" leaf"><a href="index.html#related_information_3">32.11.3. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#using-verdict-maps-in-nftables-commands_getting-started-with-nftables">32.12. Using verdict maps in nftables commands</a><ol class="menu"><li class=" leaf"><a href="index.html#using-literal-maps-in-nftables_using-verdict-maps-in-nftables-commands">32.12.1. Using literal maps in nftables</a></li><li class=" leaf"><a href="index.html#using-mutable-verdict-maps-in-nftables_using-verdict-maps-in-nftables-commands">32.12.2. Using mutable verdict maps in nftables</a></li><li class=" leaf"><a href="index.html#related_information_4">32.12.3. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#configuring-port-forwarding-using-nftables_getting-started-with-nftables">32.13. Configuring port forwarding using nftables</a><ol class="menu"><li class=" leaf"><a href="index.html#forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables">32.13.1. Forwarding incoming packets to a different local port</a></li><li class=" leaf"><a href="index.html#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables">32.13.2. Forwarding incoming packets on a specific local port to a different host</a></li></ol></li><li class=" leaf"><a href="index.html#limiting-the-number-of-connections-using-nftables_getting-started-with-nftables">32.14. Limiting the number of connections using nftables</a></li><li class=" leaf"><a href="index.html#blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_getting-started-with-nftables">32.15. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute</a></li><li class=" leaf"><a href="index.html#debugging-nftables-rules_getting-started-with-nftables">32.16. Debugging nftables rules</a><ol class="menu"><li class=" leaf"><a href="index.html#creating-a-rule-with-a-counter_debugging-nftables-rules">32.16.1. Creating a rule with a counter</a></li><li class=" leaf"><a href="index.html#adding-a-counter-to-an-existing-rule_debugging-nftables-rules">32.16.2. Adding a counter to an existing rule</a></li><li class=" leaf"><a href="index.html#monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules">32.16.3. Monitoring packets that match an existing rule</a></li></ol></li><li class=" leaf"><a href="index.html#backing-up-and-restoring-nftables-rule-sets_getting-started-with-nftables">32.17. Backing up and restoring nftables rule sets</a><ol class="menu"><li class=" leaf"><a href="index.html#backing-up-nftables-rule-sets-to-a-file_backing-up-and-restoring-nftables-rule-sets">32.17.1. Backing up nftables rule sets to a file</a></li><li class=" leaf"><a href="index.html#restoring-nftable-rule-sets-from-a-file_backing-up-and-restoring-nftables-rule-sets">32.17.2. Restoring nftables rule sets from a file</a></li></ol></li><li class=" leaf"><a href="index.html#related-information-getting-started-with-nftables">32.18. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#getting-started-with-dpdk_configuring-and-managing-networking">33. Getting started with DPDK</a><ol class="menu"><li class=" leaf"><a href="index.html#installing-the-dpdk-package_getting-started-with-dpdk">33.1. Installing the dpdk package</a></li><li class=" leaf"><a href="index.html#related_information_5">33.2. Related information</a></li></ol></li><li class=" leaf"><a href="index.html#idm139885368881040">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-training-banner"  >
  
      
  
  <div class="card card-light card-md push-bottom">
  <h2 class="card-heading card-heading-red card-heading-sm card-heading-flush">Red Hat Training</h2>
  <p>A Red Hat training course is available for <a href="https://www.redhat.com/en/services/training/courses-by-curriculum?intcmp=701f2000001D4OtAAK&amp;#Red-Hat-Enterprise-Linux" class="cta-link">RHEL 8</a></p>
</div>

  
  </div>
<div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Configuring and managing networking</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm139885368698000"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Enterprise Linux</span> <span class="productnumber">8</span></div><div><h2 class="subtitle">A guide to configuring and managing networking in Red Hat Enterprise Linux 8</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat</span> <span class="orgdiv">Customer Content Services</span></div></div><div><a href="index.html#idm139885368881040">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document describes how to manage networking on Red Hat Enterprise Linux 8. The current version of the document contains only selected preview user stories.
			</div></div></div></div><hr/></div><section class="preface" id="proc_providing-feedback-on-red-hat-documentation_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Providing feedback on Red Hat documentation</h1></div></div></div><p>
			We appreciate your input on our documentation. Please let us know how we could make it better. To do so:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					For simple comments on specific passages:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Make sure you are viewing the documentation in the <span class="emphasis"><em>Multi-page HTML</em></span> format. In addition, ensure you see the <span class="strong strong"><strong>Feedback</strong></span> button in the upper right corner of the document.
						</li><li class="listitem">
							Use your mouse cursor to highlight the part of text that you want to comment on.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Add Feedback</strong></span> pop-up that appears below the highlighted text.
						</li><li class="listitem">
							Follow the displayed instructions.
						</li></ol></div></li><li class="listitem"><p class="simpara">
					For submitting more complex feedback, create a Bugzilla ticket:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Go to the <a class="link" href="https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208">Bugzilla</a> website.
						</li><li class="listitem">
							As the Component, use <span class="strong strong"><strong>Documentation</strong></span>.
						</li><li class="listitem">
							Fill in the <span class="strong strong"><strong>Description</strong></span> field with your suggestion for improvement. Include a link to the relevant part(s) of documentation.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Submit Bug</strong></span>.
						</li></ol></div></li></ul></div></section><section class="chapter" id="Overview-of-Networking-topics_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Overview of networking topics</h1></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				The following sections mention some commands to be performed. The commands that need to be entered by the <code class="literal">root</code> user have <code class="literal">~]#</code> in the prompt, while the commands that can be performed by a regular user, have <code class="literal">~]$</code> in their prompt.
			</p></div></div><section class="section" id="IP_versus_non_IP_networks_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.1. IP versus non-IP networks</h2></div></div></div><p>
				A network is a system of interconnected devices that can communicate sharing information and resources, such as files, printers, applications, and Internet connection. Each of these devices has a unique Internet Protocol (IP) address to send and receive messages between two or more devices using a set of rules called protocol.
			</p><h4 id="bh-Categories_of_Network_Communication">Categories of network communication</h4><div class="variablelist"><dl class="variablelist"><dt><span class="term">IP networks</span></dt><dd>
							Networks that communicate through IP addresses. An IP network is implemented in the Internet and most internal networks. Ethernet, cable modems, DSL modems, dial-up modems, wireless networks, and VPN connections are typical examples.
						</dd><dt><span class="term">non-IP networks</span></dt><dd>
							Networks that are used to communicate through a lower layer rather than the transport layer. Note that these networks are rarely used. InfiniBand is a non-IP network.
						</dd></dl></div></section><section class="section" id="Static-vesrus-dynamic-IP-addressing_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.2. Static versus dynamic IP addressing</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Static IP addressing</span></dt><dd><p class="simpara">
							When a device is assigned a static IP address, the address does not change over time unless changed manually. Use static <code class="literal">IP</code> addressing if you want:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									To ensure network address consistency for servers such as <code class="literal">DNS</code>, and authentication servers.
								</li><li class="listitem"><p class="simpara">
									To use out-of-band management devices that work independently of other network infrastructure.
								</p><p class="simpara">
									All the configuration tools listed in <a class="xref" href="index.html#Selecting-Network-Configuration-methods_overview-of-Network-configuration-methods" title="5.1. Selecting network configuration methods">Section 5.1, “Selecting network configuration methods”</a> allow assigning static <code class="literal">IP</code> addresses manually.
								</p></li></ul></div></dd><dt><span class="term">Dynamic IP addressing</span></dt><dd><p class="simpara">
							When a device is assigned a dynamic IP address, the address changes over time. For this reason, it is recommended for devices that connect to the network occasionally because IP address might be changed after rebooting the machine.
						</p><p class="simpara">
							Dynamic IP addresses are more flexible, easier to set up and administer. The <span class="strong strong"><strong>Dynamic Host Control Protocol</strong></span> (<span class="strong strong"><strong>DHCP</strong></span>) is a traditional method of dynamically assigning network configurations to hosts.
						</p></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There is no strict rule defining when to use static or dynamic IP address. It depends on user’s needs, preferences and the network environment.
				</p></div></div></section><section class="section" id="Configuring-the-DHCP-Client-Behavior_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.3. Configuring the DHCP client behavior</h2></div></div></div><p>
				A Dynamic Host Configuration Protocol (DHCP) client requests the dynamic IP address and corresponding configuration information from a DHCP server each time a client connects to the network.
			</p><h4 id="Requesting_an_IP_Address">Configuring the DHCP timeout</h4><p>
				When a <code class="literal">DHCP</code> connection is started, a dhcp client requests an IP address from a <code class="literal">DHCP</code> server. The time that a dhcp client waits for this request to be completed is 45 seconds by default. This procedure describes how you can configure the <code class="literal">ipv4.dhcp-timeout</code> property using the <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> tool or the <code class="literal">IPV4_DHCP_TIMEOUT</code> option in the <code class="literal">/etc/sysconfig/network-scripts/ifcfg-<span class="emphasis"><em>ifname</em></span></code> file. For example, using <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span>:
			</p><pre class="literallayout">~]# <code class="literal command">nmcli connection modify <span class="emphasis"><em>enp1s0</em></span> ipv4.dhcp-timeout 10</code></pre><p>
				If an address cannot be obtained during this interval, the IPv4 configuration fails. The whole connection may fail, too, and this depends on the <code class="literal">ipv4.may-fail</code> property:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						If <code class="literal">ipv4.may-fail</code> is set to <span class="strong strong"><strong>yes</strong></span> (default), the state of the connection depends on IPv6 configuration:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								If the IPv6 configuration is enabled and successful, the connection is activated, but the IPv4 configuration can never be retried again.
							</li><li class="listitem">
								If the IPv6 configuration is disabled or does not get configured, the connection fails.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						If <code class="literal">ipv4.may-fail</code> is set to <span class="strong strong"><strong>no</strong></span> the connection is deactivated. In this case:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								If the <code class="literal">autoconnect</code> property of the connection is enabled, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> retries to activate the connection as many times as set in the <code class="literal">autoconnect-retries</code> property. The default is 4.
							</li><li class="listitem"><p class="simpara">
								If the connection still cannot acquire the dhcp address, auto-activation fails.
							</p><p class="simpara">
								Note that after 5 minutes, the auto-connection process starts again and the dhcp client retries to acquire an address from the dhcp server.
							</p></li></ol></div></li></ul></div><h4 id="Requesting_a_Lease_Renewal">Lease renewal and expiration</h4><p>
				After a DHCP lease is acquired successfully, <span class="strong strong"><strong>NetworkManager</strong></span> configures the interface with parameters received from the DHCP server for the given time, and tries to renew the lease periodically. When the lease expires and cannot be renewed, <span class="strong strong"><strong>NetworkManager</strong></span> continues trying to contact the server up to 8 minutes. If the other IP configuration, either IPv4 or IPv6 is successful, DHCP requests continue as long as the connection is active.
			</p><section class="section" id="Making_DHCPv4_persistent"><div class="titlepage"><div><div><h3 class="title">1.3.1. Making DHCPv4 persistent</h3></div></div></div><p>
					To make DHCPv4 persistent both at startup and during the lease renewal processes, set the <code class="literal">ipv4.dhcp-timeout</code> property either to the maximum for a 32-bit integer (MAXINT32), which is <code class="literal">2147483647</code>, or to the <code class="literal">infinity</code> value:
				</p><pre class="literallayout">~]$ <code class="literal command">nmcli connection modify <span class="emphasis"><em>enp1s0</em></span> ipv4.dhcp-timeout infinity</code></pre><p>
					As a result, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> never stops trying to get or renew a lease from a DHCP server until it is successful.
				</p><p>
					To ensure a DHCP persistent behavior only during the lease renewal process, you can manually add a static IP to the <code class="literal">IPADDR</code> property in the <code class="literal">/etc/sysconfig/network-scripts/ifcfg-<span class="emphasis"><em>device_name</em></span></code> configuration file or by using <span class="strong strong"><strong>nmcli</strong></span>:
				</p><pre class="literallayout">~]$ <code class="literal command">nmcli connection modify <span class="emphasis"><em>enp1s0</em></span> ipv4.address <span class="emphasis"><em>192.168.122.88/24</em></span></code></pre><p>
					When an IP address lease expires, the static IP preserves the IP state as configured or partially configured - you can have an IP address, but you are not connected to the Internet.
				</p></section></section><section class="section" id="Setting_the_Wireless_Regulatory_Domain_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.4. Setting the wireless regulatory domain</h2></div></div></div><p>
				In Red Hat Enterprise Linux, the <span class="strong strong"><strong><span class="package package">crda</span></strong></span> package contains the Central Regulatory Domain Agent that provides the kernel with the wireless regulatory rules for a given jurisdiction. It is used by certain <span class="strong strong"><strong><span class="package package">udev</span></strong></span> scripts and should not be run manually unless debugging <span class="strong strong"><strong><span class="package package">udev</span></strong></span> scripts. The kernel runs <span class="strong strong"><strong><span class="package package">crda</span></strong></span> by sending a <span class="strong strong"><strong><span class="package package">udev</span></strong></span> event upon a new regulatory domain change. Regulatory domain changes are triggered by the Linux wireless subsystem (IEEE-802.11). This subsystem uses the <code class="literal">regulatory.bin</code> file to keep its regulatory database information.
			</p><p>
				The <code class="literal command">setregdomain</code> utility sets the regulatory domain for your system. <code class="literal command">Setregdomain</code> takes no arguments and is usually called through system script such as <span class="strong strong"><strong><span class="package package">udev</span></strong></span> rather than manually by the administrator. If a country code look-up fails, the system administrator can define the <code class="literal option">COUNTRY</code> environment variable in the <code class="literal">/etc/sysconfig/regdomain</code> file.
			</p><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					See the following man pages for more information about the regulatory domain:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">setregdomain(1)</code> man page — Sets regulatory domain based on country code.
					</li><li class="listitem">
						<code class="literal">crda(8)</code> man page — Sends to the kernel a wireless regulatory domain for a given ISO or IEC 3166 alpha2.
					</li><li class="listitem">
						<code class="literal">regulatory.bin(5)</code> man page — Shows the Linux wireless regulatory database.
					</li><li class="listitem">
						<code class="literal">iw(8)</code> man page — Shows or manipulates wireless devices and their configuration.
					</li></ul></div></section><section class="section" id="Using_Network_Kernel_Tunables_with_sysctl_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.5. Using network kernel tunables with sysctl</h2></div></div></div><p>
				Using certain kernel tunables through the <code class="literal">sysctl</code> utility, you can adjust network configuration on a running system and directly affect the networking performance.
			</p><p>
				To change network settings, use the <code class="literal command">sysctl</code> commands. For permanent changes that persist across system restarts, add lines to the <code class="literal">/etc/sysctl.conf</code> file.
			</p><p>
				To display a list of all available <code class="literal">sysctl</code> parameters, enter as <code class="literal">root</code>:
			</p><pre class="literallayout">~]# <code class="literal command">sysctl -a</code></pre></section><section class="section" id="Managing_Data_Using_the_ncat_Utility_Overview-of-Networking-topics"><div class="titlepage"><div><div><h2 class="title">1.6. Managing data using the ncat utility</h2></div></div></div><p>
				The <span class="strong strong"><strong><span class="application application">ncat</span></strong></span> networking utility replaces <span class="strong strong"><strong><span class="application application">netcat</span></strong></span> in Red Hat Enterprise Linux 7. <span class="strong strong"><strong><span class="application application">ncat</span></strong></span> is a reliable back-end tool that provides network connectivity to other applications and users. It reads and writes data across the network from the command line, and uses Transmission Control Protocol (TCP), User Datagram Protocol (UDP), Stream Control Transmission Protocol (SCTP) or Unix sockets for communication. <span class="strong strong"><strong><span class="application application">ncat</span></strong></span> can deal with both <code class="literal">IPv4</code> and <code class="literal">IPv6</code>, open connections, send packets, perform port scanning, and supports higher-level features such as <code class="literal">SSL</code>, and connection broker.
			</p><p>
				The <code class="literal command">nc</code> command can also be entered as <code class="literal command">ncat</code>, using the identical options. For more information about the <span class="strong strong"><strong><span class="application application">ncat</span></strong></span> options, see <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/migration_planning_guide/sect-red_hat_enterprise_linux-migration_planning_guide-networking#sect-Red_Hat_Enterprise_Linux-Migration_Planning_Guide-Networking-New_network_configuration_utility_ncat">the New networking utility (ncat) section in the Migration Planning Guide </a></span></em></span> and the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>ncat</strong></span>(1)</span></em></span> man page.
			</p><h6 id="bh-Installing_ncat">Installing ncat</h6><p>
				To install the <span class="strong strong"><strong><span class="application application">ncat</span></strong></span> package, enter as <code class="literal">root</code>:
			</p><pre class="literallayout">~]# yum install nmap-ncat</pre><h6 id="bh-Brief_Selection_of_ncat_Use_Cases">Brief selection of ncat use cases</h6><div class="example" id="ex-Example_Enabling_Communication_between_a_Client_and_a_Server"><p class="title"><strong>Example 1.1. Enabling communication between a client and a server</strong></p><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set a client machine to listen for connections on TCP port <span class="emphasis"><em>8080</em></span>:
						</p><pre class="literallayout">~]$ <code class="literal command">ncat -l <span class="emphasis"><em>8080</em></span></code></pre></li><li class="listitem"><p class="simpara">
							On a server machine, specify the IP address of the client and use the same port number:
						</p><pre class="literallayout">~]$ <code class="literal command">ncat <span class="emphasis"><em>10.0.11.60</em></span> <span class="emphasis"><em>8080</em></span></code></pre><p class="simpara">
							You can send messages on either side of the connection and they appear on both local and remote machines.
						</p></li><li class="listitem">
							Press <code class="literal">Ctrl+D</code> to close the TCP connection.
						</li></ol></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To check a UDP port, use the same <code class="literal command">nc</code> commands with the <code class="literal">–u</code> option. For example:
				</p><pre class="literallayout">~]$ <code class="literal command">ncat -u -l <span class="emphasis"><em>8080</em></span></code></pre></div></div><div class="example" id="ex-Example_Sending_Files"><p class="title"><strong>Example 1.2. Sending files</strong></p><div class="example-contents"><p>
					Instead of printing information on the screen, as mentioned in the previous example, you can send all information to a file. For example, to send a file over TCP port <span class="emphasis"><em>8080</em></span> from a client to a server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On a client machine, to listen a specific port transferring a file to the server machine:
						</p><pre class="literallayout">~]$  <code class="literal command">ncat -l <span class="emphasis"><em>8080</em></span> &gt; outputfile</code></pre></li><li class="listitem"><p class="simpara">
							On a server machine, specify the IP address of the client, the port and the file which is to be transferred:
						</p><pre class="literallayout">~]$  <code class="literal command">ncat -l <span class="emphasis"><em>10.0.11.60</em></span> <span class="emphasis"><em>8080</em></span> &lt; inputfile</code></pre></li></ol></div><p>
					After the file is transferred, the connection closes automatically.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can transfer a file in the other direction as well:
				</p><pre class="literallayout">~]$  <code class="literal command">ncat -l <span class="emphasis"><em>8080</em></span> &lt; inputfile</code></pre><pre class="literallayout">~]$  <code class="literal command">ncat -l <span class="emphasis"><em>10.0.11.60</em></span> <span class="emphasis"><em>8080</em></span> &gt; outputfile</code></pre></div></div><div class="example" id="ex-Example_Creating_an_HTTP_proxy_server"><p class="title"><strong>Example 1.3. Creating an HTTP proxy server</strong></p><div class="example-contents"><p>
					To create an HTTP proxy server on localhost port <span class="emphasis"><em>8080</em></span>:
				</p><pre class="literallayout">~]$  <code class="literal command">ncat -l --proxy-type http localhost <span class="emphasis"><em>8080</em></span></code></pre></div></div><div class="example" id="ex-Example_Port_Scanning"><p class="title"><strong>Example 1.4. Port scanning</strong></p><div class="example-contents"><p>
					To view which ports are open, use the <code class="literal">–z</code> option and specify a range of ports to scan:
				</p><pre class="literallayout">~]$  <code class="literal command">ncat -z <span class="emphasis"><em>10.0.11.60</em></span> <span class="emphasis"><em>80-90</em></span></code>
    Connection to 192.168.0.1 80 port [tcp/http] succeeded!</pre></div></div><div class="example" id="ex-Example_Setting_up_Secure_Client-Server_Communication_Using_SSL"><p class="title"><strong>Example 1.5. Setting up secure client-server communication using SSL</strong></p><div class="example-contents"><p>
					Set up <code class="literal">SSL</code> on a server:
				</p><pre class="literallayout">~]$ <code class="literal command">ncat -e /bin/bash -k -l <span class="emphasis"><em>8080</em></span> --ssl</code></pre><p>
					On a client machine:
				</p><pre class="literallayout">~]$ <code class="literal command">ncat --ssl <span class="emphasis"><em>10.0.11.60</em></span> <span class="emphasis"><em>8080</em></span></code></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To ensure true confidentiality of the <code class="literal">SSL</code> connection, the server requires the <code class="literal">--ssl-cert</code> and <code class="literal">--ssl-key</code> options, and the client requires the <code class="literal">--ssl-verify</code> and <code class="literal">--ssl-trustfile</code> options.
				</p></div></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					For more examples, see the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>ncat</strong></span>(1)</span></em></span> man page.
				</p></div></section></section><section class="chapter" id="consistent-network-interface-device-naming_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Consistent network interface device naming</h1></div></div></div><p>
			Red Hat Enterprise Linux 8 provides methods for consistent and predictable device naming for network interfaces. These features help locating and differentiating network interfaces.
		</p><p>
			The kernel assigns names to network interfaces by concatenating a fixed prefix and a number that increases as the kernel initialize the network devices. For instance, <code class="literal systemitem">eth0</code> would represent the first device being probed on start-up. However, these names do not necessarily correspond to labels on the chassis. Modern server platforms with multiple network adapters can encounter non-deterministic and counter-intuitive naming of these interfaces. This affects both network adapters embedded on the system board and add-in adapters.
		</p><p>
			In Red Hat Enterprise Linux 8, the <code class="literal systemitem">udev</code> device manager supports a number of different naming schemes. By default, <code class="literal systemitem">udev</code> assigns fixed names based on firmware, topology, and location information. This has the following advantages:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Device names are fully predictable.
				</li><li class="listitem">
					Device names stay fixed even if you add or remove hardware, because no re-enumeration takes places.
				</li><li class="listitem">
					Defective hardware can be seamlessly replaced.
				</li></ul></div><section class="section" id="network-interface-device-naming-hierarchy_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.1. Network interface device naming hierarchy</h2></div></div></div><p>
				If consistent device naming is enabled, which is the default in Red Hat Enterprise Linux 8, the <code class="literal systemitem">udev</code> device manager generates device names based on the following schemes:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 11%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col><col style="width: 22%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885376538160" scope="col">Scheme</th><th align="left" valign="top" id="idm139885376537184" scope="col">Description</th><th align="left" valign="top" id="idm139885376536096" scope="col">Example</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885376538160"> <p>
								1
							</p>
							 </td><td align="left" valign="top" headers="idm139885376537184"> <p>
								Device names incorporate firmware or BIOS-provided index numbers for onboard devices. If this information is not available or applicable, <code class="literal systemitem">udev</code> uses scheme 2.
							</p>
							 </td><td align="left" valign="top" headers="idm139885376536096"> <p>
								<code class="literal systemitem">eno1</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885376538160"> <p>
								2
							</p>
							 </td><td align="left" valign="top" headers="idm139885376537184"> <p>
								Device names incorporate firmware or BIOS-provided PCI Express (PCIe) hot plug slot index numbers. If this information is not available or applicable, <code class="literal systemitem">udev</code> uses scheme 3.
							</p>
							 </td><td align="left" valign="top" headers="idm139885376536096"> <p>
								<code class="literal systemitem">ens1</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885376538160"> <p>
								3
							</p>
							 </td><td align="left" valign="top" headers="idm139885376537184"> <p>
								Device names incorporate the physical location of the connector of the hardware. If this information is not available or applicable, <code class="literal systemitem">udev</code> uses scheme 5.
							</p>
							 </td><td align="left" valign="top" headers="idm139885376536096"> <p>
								<code class="literal systemitem">enp2s0</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885376538160"> <p>
								4
							</p>
							 </td><td align="left" valign="top" headers="idm139885376537184"> <p>
								Device names incorporate the MAC address. Red Hat Enterprise Linux does not use this scheme by default, but administrators can optionally use it.
							</p>
							 </td><td align="left" valign="top" headers="idm139885376536096"> <p>
								<code class="literal systemitem">enx525400d5e0fb</code>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885376538160"> <p>
								5
							</p>
							 </td><td align="left" valign="top" headers="idm139885376537184"> <p>
								The traditional unpredictable kernel naming scheme. If <code class="literal systemitem">udev</code> cannot apply any of the other schemes, the device manager uses this scheme.
							</p>
							 </td><td align="left" valign="top" headers="idm139885376536096"> <p>
								<code class="literal systemitem">eth0</code>
							</p>
							 </td></tr></tbody></table></div><p>
				By default, Red Hat Enterprise Linux selects the device name based on the <code class="literal parameter">NamePolicy</code> setting in the <code class="literal filename">/usr/lib/systemd/network/99-default.link</code> file. The order of the values in <code class="literal parameter">NamePolicy</code> is important. Red Hat Enterprise Linux uses the first device name that is both specified in the file and that <code class="literal systemitem">udev</code> generated.
			</p><p>
				If you manually configured <code class="literal systemitem">udev</code> rules to change the name of kernel devices, those rules take precedence.
			</p></section><section class="section" id="how-the-network-device-naming-works_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.2. How the network device renaming works</h2></div></div></div><p>
				By default, consistent device naming is enabled in Red Hat Enterprise Linux 8. The <code class="literal systemitem">udev</code> device manager processes different rules to rename the devices. The following list describes the order in which <code class="literal systemitem">udev</code> processes these rules and what actions these rules are responsible for:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						The <code class="literal filename">/usr/lib/udev/rules.d/60-net.rules</code> file defines that the <code class="literal command">/lib/udev/rename_device</code> helper utility searches for the <code class="literal parameter">HWADDR</code> parameter in <code class="literal filename">/etc/sysconfig/network-scripts/ifcfg-*</code> files. If the value set in the variable matches the MAC address of an interface, the helper utility renames the interface to the name set in the <code class="literal parameter">DEVICE</code> parameter of the file.
					</li><li class="listitem">
						The <code class="literal filename">/usr/lib/udev/rules.d/71-biosdevname.rules</code> file defines that the <code class="literal command">biosdevname</code> utility renames the interface according to its naming policy, provided that it was not renamed in the previous step.
					</li><li class="listitem">
						The <code class="literal filename">/usr/lib/udev/rules.d/75-net-description.rules</code> file defines that <code class="literal systemitem">udev</code> examines the network interface device and sets the properties in <code class="literal systemitem">udev</code>-internal variables, that will be processed in the next step. Note that some of these properties might be undefined.
					</li><li class="listitem"><p class="simpara">
						The <code class="literal filename">/usr/lib/udev/rules.d/80-net-setup-link.rules</code> file calls the <code class="literal systemitem">net_setup_link</code> <code class="literal systemitem">udev</code> built-in which then applies the policy. The following is the default policy that is stored in the <code class="literal filename">/usr/lib/systemd/network/99-default.link</code> file:
					</p><pre class="literallayout">[Link]
NamePolicy=kernel database onboard slot path
MACAddressPolicy=persistent</pre><p class="simpara">
						With this policy, if the kernel uses a persistent name, <code class="literal systemitem">udev</code> does not rename the interface. If the kernel does not use a persistent name, <code class="literal systemitem">udev</code> renames the interface to the name provided by the hardware database of <code class="literal systemitem">udev</code>. If this database is not available, Red Hat Enterprise Linux falls back to the mechanisms described above.
					</p><p class="simpara">
						Alternatively, set the <code class="literal parameter">NamePolicy</code> parameter in this file to <code class="literal command">mac</code> for media access control (MAC) address-based interface names.
					</p></li><li class="listitem"><p class="simpara">
						The <code class="literal filename">/usr/lib/udev/rules.d/80-net-setup-link.rules</code> file defines that <code class="literal systemitem">udev</code> renames the interface based on the <code class="literal systemitem">udev</code>-internal parameters in the following order:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								<code class="literal parameter">ID_NET_NAME_ONBOARD</code>
							</li><li class="listitem">
								<code class="literal parameter">ID_NET_NAME_SLOT</code>
							</li><li class="listitem">
								<code class="literal parameter">ID_NET_NAME_PATH</code>
							</li></ol></div><p class="simpara">
						If one parameter is not set, <code class="literal systemitem">udev</code> uses the next one. If none of the parameters are set, the interface is not renamed.
					</p></li></ol></div><p>
				Steps 3 and 4 implement the naming schemes 1 to 4 described in <a class="xref" href="index.html#network-interface-device-naming-hierarchy_consistent-network-interface-device-naming" title="2.1. Network interface device naming hierarchy">Section 2.1, “Network interface device naming hierarchy”</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For details about setting custom prefixes for consistent naming, see <a class="xref" href="index.html#using-prefixdevname" title="2.7. Using prefixdevname for naming of Ethernet network interfaces">Section 2.7, “Using prefixdevname for naming of Ethernet network interfaces”</a>.
					</li><li class="listitem">
						For details about the <code class="literal parameter">NamePolicy</code> parameter, see the <code class="literal">systemd.link(5)</code> man page.
					</li></ul></div></section><section class="section" id="predictable-network-interface-device-names-on-the-x86_64-platform-explained_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.3. Predictable network interface device names on the x86_64 platform explained</h2></div></div></div><p>
				When the consistent network device name feature is enabled, the <code class="literal systemitem">udev</code> device manager creates the names of devices based on different criteria. This section describes the naming scheme when Red Hat Enterprise Linux 8 is installed on a x86_64 platform.
			</p><p>
				The interface name starts with a two-character prefix based on the type of interface:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal systemitem">en</code> for Ethernet
					</li><li class="listitem">
						<code class="literal systemitem">wl</code> for wireless LAN (WLAN)
					</li><li class="listitem">
						<code class="literal systemitem">ww</code> for wireless wide area network (WWAN)
					</li></ul></div><p>
				Additionally, one of the following is appended to one of the above-mentioned prefix based on the schema the <code class="literal systemitem">udev</code> device manager applies:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal systemitem">o<span class="emphasis"><em>&lt;on-board_index_number&gt;</em></span></code>
					</li><li class="listitem"><p class="simpara">
						<code class="literal systemitem">s<span class="emphasis"><em>&lt;hot_plug_slot_index_number&gt;</em></span>[f<span class="emphasis"><em>&lt;function&gt;</em></span>][d<span class="emphasis"><em>&lt;device_id&gt;</em></span>]</code>
					</p><p class="simpara">
						Note that all multi-function PCI devices have the <code class="literal command">[f<span class="emphasis"><em>&lt;function&gt;</em></span>]</code> number in the device name, including the function <code class="literal command">0</code> device.
					</p></li><li class="listitem">
						<code class="literal systemitem">x<span class="emphasis"><em>&lt;MAC_address&gt;</em></span></code>
					</li><li class="listitem"><p class="simpara">
						<code class="literal systemitem">[P<span class="emphasis"><em>&lt;domain_number&gt;</em></span>]p<span class="emphasis"><em>&lt;bus&gt;</em></span>s<span class="emphasis"><em>&lt;slot&gt;</em></span>[f<span class="emphasis"><em>&lt;function&gt;</em></span>][d<span class="emphasis"><em>&lt;device_id&gt;</em></span>]</code>
					</p><p class="simpara">
						The <code class="literal systemitem">[P<span class="emphasis"><em>&lt;domain_number&gt;</em></span>]</code> part defines the PCI geographical location. This part is only set if the domain number is not <code class="literal command">0</code>.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal systemitem">[P<span class="emphasis"><em>&lt;domain_number&gt;</em></span>]p<span class="emphasis"><em>&lt;bus&gt;</em></span>s<span class="emphasis"><em>&lt;slot&gt;</em></span>[f<span class="emphasis"><em>&lt;function&gt;</em></span>][u<span class="emphasis"><em>&lt;usb_port&gt;</em></span>][…​][c<span class="emphasis"><em>&lt;config&gt;</em></span>][i<span class="emphasis"><em>&lt;interface&gt;</em></span>]</code>
					</p><p class="simpara">
						For USB devices, the full chain of port numbers of hubs is composed. If the name is longer than the maximum (15 characters), the name is not exported. If there are multiple USB devices in the chain, <code class="literal systemitem">udev</code> suppresses the default values for USB configuration descriptors (<code class="literal command">c1</code>) and USB interface descriptors (<code class="literal command">i0</code>).
					</p></li></ul></div></section><section class="section" id="predictable-network-interface-device-names-on-the-system-z-platform-explained_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.4. Predictable network interface device names on the System z platform explained</h2></div></div></div><p>
				When the consistent network device name feature is enabled, the <code class="literal systemitem">udev</code> device manager on the System z platform creates the names of devices based on the bus ID. The bus ID identifies a device in the s390 channel subsystem.
			</p><p>
				For a channel command word (CCW) device, the bus ID is the device number with a leading <code class="literal command">0.n</code> prefix where <code class="literal command">n</code> is the subchannel set ID.
			</p><p>
				Ethernet interfaces are named, for example, <code class="literal systemitem">enccw0.0.1234</code>. Serial Line Internet Protocol (SLIP) channel-to-channel (CTC) network devices are named, for example, <code class="literal systemitem">slccw0.0.1234</code>.
			</p><p>
				Use the <code class="literal command">znetconf -c</code> or the <code class="literal command">lscss -a</code> commands to display available network devices and their bus IDs.
			</p></section><section class="section" id="disabling-consistent-interface-device-naming-during-the-installation_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.5. Disabling consistent interface device naming during the installation</h2></div></div></div><p>
				This section describes how to disable consistent interface device naming during the installation.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Red Hat recommends not to disable consistent device naming. Disabling consistent device naming can cause different kind of problems. For example, if you add another network interface card to the system, the assignment of the kernel device names, such as <code class="literal systemitem">eth0</code>, is no longer fixed. Consequently, after a reboot, the Kernel can name the device differently.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Boot the Red Hat Enterprise Linux 8 installation media.
					</li><li class="listitem">
						In the boot manager, select <code class="literal command">Install Red Hat Enterprise Linux 8</code>, and press the <span class="guibutton">Tab</span> key to edit the entry.
					</li><li class="listitem"><p class="simpara">
						Append the <code class="literal command">net.ifnames=0</code> parameter to the kernel command line:
					</p><pre class="literallayout">vmlinuz... <span class="strong strong"><strong>net.ifnames=0</strong></span></pre></li><li class="listitem">
						Press <span class="guibutton">Enter</span> to start the installation.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/2435891">Is it safe to set net.ifnames=0 in RHEL 7 and RHEL 8?</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/solutions/4067471">How to perform an in-place upgrade to RHEL 8 when using kernel NIC names on RHEL 7</a>
					</li></ul></div></section><section class="section" id="disabling-consistent-interface-device-naming-on-an-installed-system_consistent-network-interface-device-naming"><div class="titlepage"><div><div><h2 class="title">2.6. Disabling consistent interface device naming on an installed System</h2></div></div></div><p>
				This section describes how to disable consistent interface device naming on a system that is already installed.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Red Hat recommends not to disable consistent device naming. Disabling consistent device naming can cause different kind of problems. For example, if you add another network interface card to the system, the assignment of the kernel device names, such as <code class="literal systemitem">eth0</code>, is no longer fixed. Consequently, after a reboot, the Kernel can name the device differently.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The system uses consistent interface device naming, which is the default.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/default/grub</code> file and append the <code class="literal command">net.ifnames=0</code> parameter to the <code class="literal parameter">GRUB_CMDLINE_LINUX</code> variable:
					</p><pre class="literallayout">GRUB_CMDLINE_LINUX="... *net.ifnames=0</pre></li><li class="listitem"><p class="simpara">
						Rebuild the <code class="literal filename">grub.cfg</code> file:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								On a system with UEFI boot mode:
							</p><pre class="literallayout"># grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg</pre></li><li class="listitem"><p class="simpara">
								On a system with legacy boot mode:
							</p><pre class="literallayout"># grub2-mkconfig -o /boot/grub2/grub.cfg</pre></li></ul></div></li><li class="listitem">
						If you use interface names in configuration files or scripts, you must manually update them.
					</li><li class="listitem"><p class="simpara">
						Reboot the host:
					</p><pre class="literallayout"># reboot</pre></li></ol></div></section><section class="section" id="using-prefixdevname"><div class="titlepage"><div><div><h2 class="title">2.7. Using prefixdevname for naming of Ethernet network interfaces</h2></div></div></div><p>
				This documentation describes how to set the prefixes for consistent naming ot Ethernet network interfaces in case that you do not want to use the default naming scheme of such interfaces.
			</p><p>
				However, Red Hat recommends to use the default naming scheme, which is the same as in Red Hat Enterprise Linux 7.
			</p><p>
				For more details about this scheme, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html-single/networking_guide/#ch-Consistent_Network_Device_Naming">Consistent Network Device Naming</a>.
			</p><section class="section" id="prefixdevname-intro_using-prefixdevname"><div class="titlepage"><div><div><h3 class="title">2.7.1. Introduction to prefixdevname</h3></div></div></div><p>
					The <code class="literal">prefixdevname</code> tool is a udev helper utility that enables you to define your own prefix used for naming of the Ethernet network interfaces.
				</p></section><section class="section" id="installing-using-prefixdevname_using-prefixdevname"><div class="titlepage"><div><div><h3 class="title">2.7.2. Setting prefixdevname</h3></div></div></div><p>
					The setting of the prefix with <code class="literal">prefixdevname</code> is done during system installation.
				</p><p>
					To set and activate the required prefix for your Ethernet network interfaces, use the following procedure.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Add the following string on the kernel command line:
						</p><pre class="literallayout">net.ifnames.prefix=&lt;required prefix&gt;</pre></li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Red Hat does not support the use of <code class="literal">prefixdevname</code> on already deployed systems.
					</p></div></div><p>
					After the prefix was once set, and the operating system was rebooted, the prefix is effective every time when a new network interface appears. The new device is assigned a name in the form of <code class="literal">&lt;PREFIX&gt;&lt;INDEX&gt;</code>. For example, if your selected prefix is <code class="literal">net</code>, and the interfaces with <code class="literal">net0</code> and <code class="literal">net1</code> prefixes already exist on the system, the new interface is named <code class="literal">net2</code>. The <code class="literal">prefixdevname</code> utility then generates the new <code class="literal">.link</code> file in the <code class="literal filename">/etc/systemd/network</code> directory that applies the name to the interface with the MAC address that just appeared. The configuration is persistent across reboots.
				</p></section><section class="section" id="prefixdevname-limitations_using-prefixdevname"><div class="titlepage"><div><div><h3 class="title">2.7.3. Limitations of prefixdevname</h3></div></div></div><p>
					There are certain limitations for prefixes of Ethernet network interfaces.
				</p><p>
					The prefix that you choose must meet the following requirements:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Be ASCII string
						</li><li class="listitem">
							Be alphanumeric string
						</li><li class="listitem">
							Be shorter than 16 characters
						</li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						The prefix cannot conflict with any other well-known prefix used for network interface naming on Linux. Specifically, you cannot use these prefixes: <code class="literal">eth</code>, <code class="literal">eno</code>, <code class="literal">ens</code>, <code class="literal">em</code>.
					</p></div></div></section></section><section class="section" id="related_information"><div class="titlepage"><div><div><h2 class="title">2.8. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <code class="literal">udev(7)</code> man page for details about the <code class="literal systemitem">udev</code> device manager.
					</li></ul></div></section></section><section class="chapter" id="Netconsole_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Netconsole</h1></div></div></div><p>
			The netconsole kernel module enables logging of kernel messages over the network to another computer. It allows kernel debugging when disk logging fails or when using the serial console is not possible.
		</p><section class="section" id="configuring_netconsole_Netconsole"><div class="titlepage"><div><div><h2 class="title">3.1. Configuring netconsole</h2></div></div></div><p>
				This procedure describes how you can configure netconsole in Red Hat Enterprise Linux (RHEL) 8.
			</p><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					The <code class="literal">netconsole-service</code> package is installed.
				</p></div><pre class="literallayout"> ~]# yum install <code class="literal">netconsole-service</code></pre><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set the <code class="literal">SYSLOGADDR</code> to the IP address of the <code class="literal">syslogd</code> server in the <code class="literal">/etc/sysconfig/netconsole</code> file to match the IP address of the <code class="literal">syslogd</code> server. For example:
					</p><pre class="literallayout">SYSLOGADDR=192.168.0.1</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal">netconsole.service</code>.
					</p><pre class="literallayout"> ~]# systemctl restart netconsole.service</pre></li><li class="listitem"><p class="simpara">
						Enable <code class="literal">netconsole.service</code> to run after rebooting the system.
					</p><pre class="literallayout"> ~]# systemctl enable netconsole.service</pre></li><li class="listitem"><p class="simpara">
						View the <code class="literal">netconsole</code> messages from the client in the <code class="literal">/var/log/messages</code> file (default) or in the file specified in <code class="literal">rsyslog.conf</code>.
					</p><pre class="literallayout"> ~]# cat /var/log/messages</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					<a class="link" href="++https://access.redhat.com/solutions/3936741">How to configure netconsole under Red Hat Enterprise Linux 8 ?</a>
				</p></div></section></section><section class="chapter" id="getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Getting started with managing networking with NetworkManager</h1></div></div></div><section class="section" id="Overview_of_NetworkManager_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.1. Overview of NetworkManager</h2></div></div></div><p>
				Red Hat Enterprise Linux 8 uses the default networking service, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>, which is a dynamic network control and configuration daemon to keep network devices and connections up and active when they are available. The traditional <code class="literal">ifcfg</code> type configuration files are still supported.
			</p><p>
				Each network device corresponds to a <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> device. The configuration of a network device is completely stored in a single <span class="strong strong"><strong>NetworkManager</strong></span> connection. You can perform a network configuration applying a <span class="strong strong"><strong>NetworkManager</strong></span> connection to a <span class="strong strong"><strong>NetworkManager</strong></span> device.
			</p><section class="section" id="Benefits_of_Using_NetworkManager_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h3 class="title">4.1.1. Benefits of using NetworkManager</h3></div></div></div><p>
					The main benefits of using NetworkManager are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Offering an API through D-Bus which allows to query and control network configuration and state. In this way, networking can be checked and configured by multiple applications ensuring a synced and up-to-date networking status. For example, the RHEL web console, which monitors and configures servers through a web browser, uses the <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> D-BUS interface to configure networking, as well as the <span class="strong strong"><strong>Gnome GUI</strong></span>, the <span class="strong strong"><strong>nmcli</strong></span> and the <span class="strong strong"><strong>nm-connection-editor</strong></span> tools. Each change made in one of these tools is detected by all the others.
						</li><li class="listitem">
							Making Network management easier: <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> ensures that network connectivity works. When it detects that there is no network configuration in a system but there are network devices, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> creates temporary connections to provide connectivity.
						</li><li class="listitem">
							Providing easy setup of connection to the user: <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> offers management through different tools — <span class="strong strong"><strong><span class="application application">GUI, nmtui, nmcli</span></strong></span>.
						</li><li class="listitem">
							Supporting configuration flexibility. For example, configuring a WiFi interface, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> scans and shows the available wifi networks. You can select an interface, and <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> displays the required credentials providing automatic connection after the reboot process. <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> can configure network aliases, IP addresses, static routes, DNS information, and VPN connections, as well as many connection-specific parameters. You can modify the configuration options to reflect your needs.
						</li><li class="listitem">
							Maintaining the state of devices after the reboot process and taking over interfaces which are set into managed mode during restart.
						</li><li class="listitem">
							Handling devices which are not explicitly set unmanaged but controlled manually by the user or another network service.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager" title="4.5. NetworkManager tools">Section 4.5, “NetworkManager tools”</a>
						</li><li class="listitem">
							For more information on installing and using the RHEL 8 web console, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel-8_web_console/">Managing systems using the RHEL 8 web console</a>.
						</li></ul></div></section></section><section class="section" id="Installing-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.2. Installing NetworkManager</h2></div></div></div><p>
				<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> is installed by default on Red Hat Enterprise Linux 8 . If it is not, enter as <code class="literal">root</code>:
			</p><pre class="literallayout">~]# yum install NetworkManager</pre><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#Overview_of_NetworkManager_getting-started-with-networking-devices-with-NetworkManager" title="4.1. Overview of NetworkManager">Section 4.1, “Overview of NetworkManager”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Benefits_of_Using_NetworkManager_getting-started-with-networking-devices-with-NetworkManager" title="4.1.1. Benefits of using NetworkManager">Section 4.1.1, “Benefits of using NetworkManager”</a>
					</li></ul></div></section><section class="section" id="Checking-the-Status-of-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.3. Checking the status of NetworkManager</h2></div></div></div><p>
				To check whether <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> is running:
			</p><pre class="literallayout">~]$ systemctl status NetworkManager
NetworkManager.service - Network Manager
   Loaded: loaded (/lib/systemd/system/NetworkManager.service; enabled)
   Active: active (running) since Fri, 08 Mar 2013 12:50:04 +0100; 3 days ago</pre><p>
				Note that the <code class="literal command">systemctl status</code> command displays <code class="literal">Active: inactive (dead)</code> when <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> is not running.
			</p></section><section class="section" id="Starting-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.4. Starting NetworkManager</h2></div></div></div><p>
				To start <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>:
			</p><pre class="literallayout">~]# systemctl start NetworkManager</pre><p>
				To enable <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> automatically at boot time:
			</p><pre class="literallayout">~]# systemctl enable NetworkManager</pre></section><section class="section" id="NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.5. NetworkManager tools</h2></div></div></div><div class="table" id="tb-A_Summary_of_NetworkManager_Tools_and_Applications"><p class="title"><strong>Table 4.1. A summary of NetworkManager tools and applications</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885372802976" scope="col">Application or Tool</th><th align="left" valign="top" id="idm139885372801888" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885372802976"> <p>
								<span class="strong strong"><strong><span class="application application">nmcli</span></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885372801888"> <p>
								A command-line tool which enables users and scripts to interact with <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>. Note that <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> can be used on systems without a GUI such as servers to control all aspects of <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>. It provides a deeper functionality as GUI tools.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885372802976"> <p>
								<span class="strong strong"><strong><span class="application application">nmtui</span></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885372801888"> <p>
								A simple curses-based text user interface (TUI) for <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885372802976"> <p>
								<span class="strong strong"><strong><span class="application application">nm-connection-editor</span></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885372801888"> <p>
								A graphical user interface tool for certain tasks not yet handled by the <span class="strong strong"><strong><span class="application application">control-center</span></strong></span> utility such as configuring bonds and teaming connections. You can add, remove, and modify network connections stored by <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>. To start it, enter <span class="strong strong"><strong><span class="application application">nm-connection-editor</span></strong></span> in a terminal.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885372802976"> <p>
								<span class="strong strong"><strong><span class="application application">control-center</span></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885372801888"> <p>
								A graphical user interface tool provided by the GNOME Shell, available for desktop users. It incorporates a Network settings tool. To start it, press the <span class="keycap"><strong>Super</strong></span> key to enter the Activities Overview, type <span class="strong strong"><strong><span class="application application">Network</span></strong></span> and then press <span class="keycap"><strong>Enter</strong></span>. The Network settings tool appears.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885372802976"> <p>
								<span class="strong strong"><strong><span class="application application">network connection icon</span></strong></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885372801888"> <p>
								A graphical user interface tool provided by the GNOME Shell representing network connection states as reported by <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>. The icon has multiple states that serve as visual indicators for the type of connection you are currently using.
							</p>
							 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#Configuring-IP-Networking-with-nmtui_configuring-and-managing-networking" title="Chapter 6. Configuring IP networking with nmtui">Chapter 6, <em>Configuring IP networking with nmtui</em></a>
					</li><li class="listitem">
						<a class="xref" href="index.html#getting-started-with-nmcli_configuring-and-managing-networking" title="Chapter 7. Getting started with nmcli">Chapter 7, <em>Getting started with nmcli</em></a>
					</li><li class="listitem">
						<a class="xref" href="index.html#getting-started-with-configuring-networking-using-the-gnome-gui_configuring-and-managing-networking" title="Chapter 8. Getting started with configuring networking using the GNOME GUI">Chapter 8, <em>Getting started with configuring networking using the GNOME GUI</em></a>
					</li></ul></div></section><section class="section" id="Running-Dispatcher-Scripts_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.6. Running dispatcher scripts</h2></div></div></div><p>
				<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> provides a way to run additional custom scripts to start or stop services based on the connection status. By default, the <code class="literal">/etc/NetworkManager/dispatcher.d/</code> directory exists and <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> runs scripts there, in alphabetical order. Each script must be an executable file <span class="strong strong"><strong>owned by</strong></span> <code class="literal">root</code> and must have <code class="literal">write permission</code> only for the file owner.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about running NetworkManager dispatcher scripts, see the Red Hat Knowledgebase solution <a class="link" href="https://access.redhat.com/solutions/2841131">How to write a NetworkManager dispatcher script to apply ethtool commands</a>.
					</li></ul></div></section><section class="section" id="Using-NetworkManager-with-sysconfig-files_getting-started-with-networking-devices-with-NetworkManager"><div class="titlepage"><div><div><h2 class="title">4.7. Using NetworkManager with sysconfig files</h2></div></div></div><p>
				The <code class="literal">/etc/sysconfig/</code> directory is a location for configuration files and scripts. Most network configuration information is stored there, with the exception of VPN, mobile broadband and PPPoE configuration, which are stored in the <code class="literal">/etc/NetworkManager/</code> subdirectories. For example, interface-specific information is stored in the <code class="literal">ifcfg</code> files in the <code class="literal">/etc/sysconfig/network-scripts/</code> directory.
			</p><p>
				Information for VPNs, mobile broadband and PPPoE connections is stored in <code class="literal">/etc/NetworkManager/system-connections/</code>.
			</p><p>
				In Red Hat Enterprise Linux 8, if you edit an <code class="literal">ifcfg</code> file, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> is not automatically aware of the change and has to be prompted to notice the change. If you use one of the tools to update <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> profile settings, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> does not implement those changes until you reconnect using that profile. For example, if configuration files have been changed using an editor, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> must read the configuration files again.
			</p><p>
				To ensure this, enter as <code class="literal">root</code> to reload all connection profiles:
			</p><pre class="literallayout">~]# nmcli connection reload</pre><p>
				Alternatively, to reload <span class="strong strong"><strong>only one</strong></span> changed file, <code class="literal">ifcfg-<span class="emphasis"><em>ifname</em></span></code>:
			</p><pre class="literallayout">~]# nmcli con load /etc/sysconfig/network-scripts/ifcfg-ifname</pre><p>
				Note that you can specify multiple file names using the above command.
			</p><p>
				To restart the connection after changes are made, use:
			</p><pre class="literallayout">~]# nmcli con up <span class="emphasis"><em>connection-name</em></span></pre><section class="section" id="legacy_network_scripts_support"><div class="titlepage"><div><div><h3 class="title">4.7.1. Legacy network scripts support</h3></div></div></div><p>
					Network scripts are deprecated in Red Hat Enterprise Linux 8 and are no longer provided by default. The basic installation provides a new version of the <code class="literal">ifup</code> and <code class="literal">ifdown</code> scripts which call <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> through the <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> tool. In Red Hat Enterprise Linux 8, to run the <code class="literal">ifup</code> and the <code class="literal">ifdown</code> scripts, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> must be running.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Custom commands in <code class="literal">/sbin/ifup-local</code>, <code class="literal">ifdown-pre-local</code> and <code class="literal">ifdown-local</code> scripts are not executed.
					</p><p>
						If any of these scripts are required, the installation of the deprecated network scripts in the system is still possible with the following command:
					</p><pre class="literallayout">~]# yum install network-scripts</pre><p>
						The <code class="literal">ifup</code> and the <code class="literal">ifdown</code> scripts link to the installed legacy network scripts.
					</p><p>
						Calling the legacy network scripts shows a warning about their deprecation.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">NetworkManager(8)</code> man page — Describes the network management daemon.
						</li><li class="listitem">
							<code class="literal">NetworkManager.conf(5)</code> man page — Describes the <code class="literal">NetworkManager</code> configuration file.
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/initscripts/sysconfig.txt</code> — Describes <code class="literal">ifcfg</code> configuration files and their directives as understood by the legacy network service.
						</li><li class="listitem">
							<code class="literal">ifcfg(8)</code> man page — Describes briefly the <code class="literal command">ifcfg</code> command.
						</li></ul></div></section></section></section><section class="chapter" id="overview-of-Network-configuration-methods_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Overview of network configuration methods</h1></div></div></div><p>
			The following section provides an overview of network configuration methods that are available in Red Hat Enterprise Linux 8.
		</p><section class="section" id="Selecting-Network-Configuration-methods_overview-of-Network-configuration-methods"><div class="titlepage"><div><div><h2 class="title">5.1. Selecting network configuration methods</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To configure a network interface using <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>, use one of the following tools:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								the text user interface tool, <span class="strong strong"><strong><span class="application application">nmtui</span></strong></span>.
							</li><li class="listitem">
								the command-line tool, <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span>.
							</li><li class="listitem">
								the graphical user interface tools, <span class="strong strong"><strong><span class="application application">GNOME GUI</span></strong></span>.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						To configure a network interface <span class="strong strong"><strong>without</strong></span> using <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								edit the <code class="literal">ifcfg</code> files manually.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						To configure the network settings when the root filesystem is <span class="strong strong"><strong>not</strong></span> local:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								use the kernel command-line.
							</li></ul></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#Configuring-IP-Networking-with-nmtui_configuring-and-managing-networking" title="Chapter 6. Configuring IP networking with nmtui">Chapter 6, <em>Configuring IP networking with nmtui</em></a>
					</li><li class="listitem">
						<a class="xref" href="index.html#getting-started-with-nmcli_configuring-and-managing-networking" title="Chapter 7. Getting started with nmcli">Chapter 7, <em>Getting started with nmcli</em></a>
					</li><li class="listitem">
						<a class="xref" href="index.html#getting-started-with-configuring-networking-using-the-gnome-gui_configuring-and-managing-networking" title="Chapter 8. Getting started with configuring networking using the GNOME GUI">Chapter 8, <em>Getting started with configuring networking using the GNOME GUI</em></a>
					</li></ul></div></section></section><section class="chapter" id="Configuring-IP-Networking-with-nmtui_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Configuring IP networking with nmtui</h1></div></div></div><p>
			The following section provides how you can configure a network interface using the <code class="literal application">NetworkManager’s</code> tool, <code class="literal application">nmtui</code>.
		</p><section class="section" id="Getting-started-with-nmtui_Configuring-IP-Networking-with-nmtui"><div class="titlepage"><div><div><h2 class="title">6.1. Getting started with nmtui</h2></div></div></div><p>
				<code class="literal application">nmtui</code> is a simple curses-based text user interface (TUI) for <code class="literal application">NetworkManager</code>.
			</p><p>
				This procedure describes how to start the text user interface tool, <code class="literal application">nmtui</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						The <span class="strong strong"><strong><span class="application application">nmtui</span></strong></span> tool is used in a terminal window. It is contained in the <span class="strong strong"><strong><span class="package package">NetworkManager-tui</span></strong></span> package, but it is not installed along with <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> by default. To install <span class="strong strong"><strong><span class="package package">NetworkManager-tui</span></strong></span>:
					</p><pre class="literallayout">~]# <code class="literal command">yum install NetworkManager-tui</code></pre></li><li class="listitem">
						To verify that <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> is running, see <a class="xref" href="index.html#Checking-the-Status-of-NetworkManager_getting-started-with-networking-devices-with-NetworkManager" title="4.3. Checking the status of NetworkManager">Section 4.3, “Checking the status of NetworkManager”</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start the <span class="strong strong"><strong><span class="application application">nmtui</span></strong></span> tool:
					</p><pre class="literallayout">~]$ <code class="literal command">nmtui</code></pre><p class="simpara">
						The text user interface appears.
					</p><div class="figure" id="figu-The-NetworkManager-Text-User-Interface-starting-menu"><p class="title"><strong>Figure 6.1. The NetworkManager text user interface starting menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="nmtui_Select_an_Option.png" alt="nmtui Select an Option"/></div></div></div></li><li class="listitem">
						To navigate, use the arrow keys or press <span class="keycap"><strong>Tab</strong></span> to step forwards and press <span class="keycap"><strong>Shift</strong></span>+<span class="keycap"><strong>Tab</strong></span> to step back through the options. Press <span class="keycap"><strong>Enter</strong></span> to select an option. The <span class="keycap"><strong>Space</strong></span> bar toggles the status of a check box.
					</li></ol></div><section class="section" id="editing_a_connection_with_nmtui"><div class="titlepage"><div><div><h3 class="title">6.1.1. Editing a connection with nmtui</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#Getting-started-with-nmtui_Configuring-IP-Networking-with-nmtui" title="6.1. Getting started with nmtui">Section 6.1, “Getting started with nmtui”</a>
						</li></ul></div><p>
					To edit a connection using <span class="strong strong"><strong><span class="application application">nmtui</span></strong></span>, select the <code class="literal">Edit a connection</code> option in the <code class="literal">NetworkManager TUI</code> menu and press <span class="keycap"><strong>Enter</strong></span>.
				</p></section><section class="section" id="applying_changes_to_a_modified_connection_with_nmtui"><div class="titlepage"><div><div><h3 class="title">6.1.2. Applying changes to a modified connection with nmtui</h3></div></div></div><p>
					To apply changes after a modified connection which is already active requires a reactivation of the connection. In this case, follow the procedure below:
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#Getting-started-with-nmtui_Configuring-IP-Networking-with-nmtui" title="6.1. Getting started with nmtui">Section 6.1, “Getting started with nmtui”</a>
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Select the <code class="literal option">Activate a connection</code> menu entry.
						</p><div class="figure" id="figu-Activating-a-Connection-with-nmtui"><p class="title"><strong>Figure 6.2. Activating a connection with nmtui</strong></p><div class="figure-contents"><div class="mediaobject"><img src="nmtui_Activate_a_Connection.png" alt="nmtui Activate a Connection"/></div></div></div></li><li class="listitem"><p class="simpara">
							Select the modified connection. On the right, click the <code class="literal option">Deactivate</code> button.
						</p><div class="figure" id="figu-Deactivating-a-Modified-Connection-with-nmtui"><p class="title"><strong>Figure 6.3. Deactivating a modified connection with nmtui</strong></p><div class="figure-contents"><div class="mediaobject"><img src="nmtui_Deactivate_a_Modified_Connection.png" alt="nmtui Deactivate a Modified Connection"/></div></div></div></li><li class="listitem"><p class="simpara">
							Choose the connection again and click the <code class="literal option">Activate</code> button.
						</p><div class="figure" id="figu-Reactivating-a-Modified-Connection-with-nmtui"><p class="title"><strong>Figure 6.4. Reactivating a modified connection with nmtui</strong></p><div class="figure-contents"><div class="mediaobject"><img src="nmtui_Activate_a_Modified_Connection.png" alt="nmtui Activate a Modified Connection"/></div></div></div></li></ol></div><p>
					The following commands are also available:
				</p><pre class="literallayout">~]$ <code class="literal command">nmtui edit</code> <span class="emphasis"><em>connection-name</em></span></pre><p>
					If no connection name is supplied, the selection menu appears. If the connection name is supplied and correctly identified, the relevant <code class="literal">Edit connection</code> screen appears.
				</p><pre class="literallayout">~]$ <code class="literal command">nmtui connect</code> <span class="emphasis"><em>connection-name</em></span></pre><p>
					If no connection name is supplied, the selection menu appears. If the connection name is supplied and correctly identified, the relevant connection is activated. Any invalid command prints a usage message.
				</p><p>
					Note that <span class="strong strong"><strong><span class="application application">nmtui</span></strong></span> does not support all types of connections. In particular, you cannot edit VPNs, wireless network connections using WPA Enterprise, or Ethernet connections using <code class="literal">802.1X</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about the <span class="strong strong"><strong><span class="application application">NetworkManager’s</span></strong></span> tools, see <a class="xref" href="index.html#NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager" title="4.5. NetworkManager tools">Section 4.5, “NetworkManager tools”</a>
						</li></ul></div></section></section></section><section class="chapter" id="getting-started-with-nmcli_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Getting started with nmcli</h1></div></div></div><p>
			This section describes general information about the <code class="literal systemitem">nmcli</code> utility.
		</p><section class="section" id="understanding-nmcli_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.1. Understanding nmcli</h2></div></div></div><p>
				<span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> (NetworkManager Command Line Interface) is the command-line utility to configure networking through <span class="strong strong"><strong>NetworkManager</strong></span>. <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> is used to create, display, edit, delete, activate, and deactivate network connections, as well as control and display network device status.
			</p><p>
				The <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> utility can be used by both users and scripts:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For servers, headless machines, and terminals, <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> can be used to control <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> directly, without GUI.
					</li><li class="listitem">
						For scripts, <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> supports options to change the output to a format better suited for script processing.
					</li></ul></div><p>
				Each network device corresponds to a <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> device. The configuration of a network device is completely stored in a single <span class="strong strong"><strong>NetworkManager</strong></span> connection. You can perform a network configuration applying a <span class="strong strong"><strong>NetworkManager</strong></span> connection to a <span class="strong strong"><strong>NetworkManager</strong></span> device.
			</p><p>
				To get started with <span class="strong strong"><strong>nmcli</strong></span> the most common <span class="strong strong"><strong>nmcli</strong></span> commands are <code class="literal command">nmcli device</code> and <code class="literal command">nmcli connection</code>:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal command">nmcli device</code> command lists the available network devices in the system.
					</li></ul></div><p>
				A device can be:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						<code class="literal">managed</code> - under the <span class="strong strong"><strong>NetworkManager</strong></span> control. A <code class="literal">managed</code> device may be <code class="literal">connected</code>, meaning that it is activated and configured, or <code class="literal">disconnected</code>, meaning that it is not configured but ready to be activated again.
					</li><li class="listitem">
						<code class="literal">unmanaged</code> - <span class="strong strong"><strong>NetworkManager</strong></span> does not control it.
					</li></ol></div><p>
				For more details on setting a <code class="literal">managed</code> or <code class="literal">unmanaged</code> device, see <a class="xref" href="index.html#Setting-a-device-managed-or-unmanaged-with-nmcli_getting-started-with-nmcli" title="7.4. Setting a device managed or unmanaged with nmcli">Section 7.4, “Setting a device managed or unmanaged with nmcli”</a>.
			</p><p>
				The <code class="literal command">nmcli device</code> command can take many arguments. Most notable are: <code class="literal">status</code>, <code class="literal">show</code>, <code class="literal">set</code>, <code class="literal">connect</code>, <code class="literal">disconnect</code>, <code class="literal">modify</code>, <code class="literal">delete</code>, <code class="literal">wifi</code>. Enter the <code class="literal command">nmcli device help</code> command to see the full list.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal command">nmcli connection</code> command lists the available connection profiles in <span class="strong strong"><strong>NetworkManager</strong></span>.
					</li></ul></div><p>
				Every connection that is active is displayed as green on top of the list. The inactive connections are displayed as white. The DEVICE field identifies the device on which the connection is applied on.
			</p><p>
				The <code class="literal command">nmcli connection</code> command can take many arguments to manage connection profiles. Most notable are: <code class="literal">show</code>, <code class="literal">up</code>, <code class="literal">down</code>, <code class="literal">add</code>, <code class="literal">modify</code>, <code class="literal">delete</code>. Enter the <code class="literal command">nmcli connection help</code> command to see the full list.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you use the <span class="strong strong"><strong>nmcli</strong></span> commands, it is recommended to type a partial <span class="strong strong"><strong>nmcli</strong></span> command, and then press the <span class="keycap"><strong>Tab</strong></span> key to auto-complete the command sequence. If multiple completions are possible, then <span class="keycap"><strong>Tab</strong></span> lists them all. This helps users to type commands faster and easier. To enable the <span class="strong strong"><strong>nmcli</strong></span> auto-complete feature be sure to install the <code class="literal">bash-completion</code> package:
				</p><pre class="literallayout">~]# yum install bash-completion</pre><p>
					After the package installation, <code class="literal">nmcli auto-complete</code> will be available next time you login into a console. To activate it also in the current console, enter:
				</p><pre class="literallayout">~]$ source /etc/profile.d/bash_completion.sh</pre></div></div><p>
				The basic format of using <span class="strong strong"><strong>nmcli</strong></span> is:
			</p><pre class="literallayout">nmcli [OPTIONS] OBJECT { COMMAND | help }</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						where [OPTIONS] can be optional options, such as:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">-t, terse</span></dt><dd><p class="simpara">
									This mode can be used for computer script processing as you can see a terse output displaying only the values.
								</p><div class="example" id="ex-Viewing_a_terse_output_for_scripts"><p class="title"><strong>Example 7.1. Viewing a terse output</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli -t device</code>
ens3:ethernet:connected:Profile 1
lo:loopback:unmanaged:</pre></div></div></dd><dt><span class="term">-f, field</span></dt><dd><p class="simpara">
									This option specifies what fields can be displayed in output. For example, NAME,UUID,TYPE,AUTOCONNECT,ACTIVE,DEVICE,STATE. You can use one or more fields. If you want to use more, do not use space after comma to separate the fields.
								</p><div class="example" id="ex-Specifying_Fields_in_the_output"><p class="title"><strong>Example 7.2. Specifying fields in the output</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli -f DEVICE,TYPE device</code>
DEVICE  TYPE
ens3    ethernet
lo      loopback</pre><p>
										or even better for scripting:
									</p><pre class="literallayout">~]$ <code class="literal command">nmcli -t -f DEVICE,TYPE device</code>
ens3:ethernet
lo:loopback</pre></div></div></dd><dt><span class="term">-p, pretty</span></dt><dd><p class="simpara">
									This option causes <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> to produce human-readable output. For example, values are aligned and headers are printed.
								</p><div class="example" id="ex-Viewing_an_output_in_pretty_Mode"><p class="title"><strong>Example 7.3. Viewing an output in pretty mode</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli -p device</code>
=====================
  Status of devices
=====================
DEVICE  TYPE      STATE      CONNECTION
--------------------------------------------------------------
ens3    ethernet  connected  Profile 1
lo      loopback  unmanaged  --</pre></div></div></dd><dt><span class="term">-h, help</span></dt><dd>
									Prints help information.
								</dd></dl></div></li><li class="listitem">
						where OBJECT can be one of the following options: <code class="literal">general</code>, <code class="literal">networking</code>, <code class="literal">radio</code>, <code class="literal">connection</code>, <code class="literal">device</code>, <code class="literal">agent</code>, and <code class="literal">monitor</code>.
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can use any prefix of the above options in your commands. For example, <code class="literal command">nmcli con help</code>, <code class="literal command">nmcli c help</code>, <code class="literal command">nmcli connection help</code> generate the same output.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						where COMMAND, the required <span class="strong strong"><strong>nmcli</strong></span> command.
					</li><li class="listitem">
						where <span class="emphasis"><em>help</em></span> is to list available actions related to a specified object:
					</li></ul></div><pre class="literallayout">~]$ <code class="literal command">nmcli <span class="emphasis"><em>OBJECT</em></span> help</code></pre><p>
				For example,
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli c help</code></pre><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager" title="4.5. NetworkManager tools">Section 4.5, “NetworkManager tools”</a>
					</li><li class="listitem">
						the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nmcli</strong></span>(1)</span></em></span> man page.
					</li><li class="listitem">
						<a class="xref" href="index.html#Brief-Selection-of-nmcli-commands_getting-started-with-nmcli" title="7.3. Brief selection of nmcli commands">Section 7.3, “Brief selection of <span class="strong strong"><strong>nmcli</strong></span> commands”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli" title="7.5. Creating a connection profile with nmcli">Section 7.5, “Creating a connection profile with nmcli”</a>
					</li></ul></div></section><section class="section" id="Overview-of-nmcli-property-names-and-aliases_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.2. Overview of nmcli property names and aliases</h2></div></div></div><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					<code class="literal literal">Property</code> names are specific names that <span class="strong strong"><strong>NetworkManager</strong></span> uses to identify a common option. Following are some of the important <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> <code class="literal">property</code> names:
				</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal option">connection.type</code></span></dt><dd>
							A type of a specific connection. Allowed values are: <span class="strong strong"><strong>adsl, bond, bond-slave, bridge, bridge-slave, bluetooth, cdma, ethernet, gsm, infiniband, olpc-mesh, team, team-slave, vlan, wifi, wimax</strong></span>. Each connection type has type-specific command options. You can see the <code class="literal">TYPE_SPECIFIC_OPTIONS</code> list in the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nmcli</strong></span>(1)</span></em></span> man page. For example, a <code class="literal">gsm</code> connection requires the access point name specified in an <code class="literal option">apn</code>. A <code class="literal">wifi</code> device requires the service set identifier specified in a <code class="literal option">ssid</code>.
						</dd><dt><span class="term"><code class="literal option">connection.interface-name</code></span></dt><dd>
							A device name relevant for the connection. For example, <span class="emphasis"><em>enp1s0</em></span>.
						</dd><dt><span class="term"><code class="literal option">connection.id</code></span></dt><dd><p class="simpara">
							A name used for the connection profile. If you do not specify a connection name, one will be generated as follows:
						</p><pre class="literallayout"><span class="emphasis"><em>connection.type -connection.interface-name</em></span></pre><p class="simpara">
							The <code class="literal option">connection.id</code> is the name of a <span class="emphasis"><em>connection profile</em></span> and should not be confused with the interface name which denotes a device (<code class="literal">wlan0</code>, <code class="literal">ens3</code>, <code class="literal">em1</code>). However, users can name the connections after interfaces, but they are not the same thing. There can be multiple connection profiles available for a device. This is particularly useful for mobile devices or when switching a network cable back and forth between different devices. Rather than edit the configuration, create different profiles and apply them to the interface as needed. The <code class="literal option">id</code> option also refers to the connection profile name.
						</p></dd></dl></div><p>
				The most important options for <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> commands such as <code class="literal">show</code>, <code class="literal">up</code>, <code class="literal">down</code> are:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal option">id</code></span></dt><dd>
							An identification string assigned by the user to a connection profile. Id can be used in <span class="strong strong"><strong>nmcli</strong></span> connection commands to identify a connection. The NAME field in the command output always denotes the connection id. It refers to the same connection profile name that the con-name does.
						</dd><dt><span class="term"><code class="literal option">uuid</code></span></dt><dd>
							A unique identification string assigned by the system to a connection profile. The <code class="literal">uuid</code> can be used in <code class="literal command">nmcli connection</code> commands to identify a connection.
						</dd></dl></div><div id="tabl-Aliases-and-property-names" class="formalpara"><p class="title"><strong>Aliases and property names</strong></p><p>
					An <code class="literal">alias</code> is an alternative name for a <code class="literal">property</code> name — aliases are translated to properties internally in <span class="strong strong"><strong>nmcli</strong></span>. <code class="literal">Aliases</code> are more readable but <code class="literal">property names</code> are preferable to use.Both can be used interchangeably.
				</p></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 20%; " class="col_3"><!--Empty--></col><col style="width: 20%; " class="col_4"><!--Empty--></col><col style="width: 20%; " class="col_5"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885377731744" scope="col">Alias</th><th align="left" valign="top" id="idm139885373648256" scope="col">Example</th><th align="left" valign="top" id="idm139885373647168" scope="col">Property</th><th align="left" valign="top" id="idm139885373646080" scope="col">Example</th><th align="left" valign="top" id="idm139885373644992" scope="col">Definition</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885377731744"> <p>
								type
							</p>
							 </td><td align="left" valign="top" headers="idm139885373648256"> <p>
								<span class="strong strong"><strong>type</strong></span> <span class="emphasis"><em>bond</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373647168"> <p>
								connection.type
							</p>
							 </td><td align="left" valign="top" headers="idm139885373646080"> <p>
								<span class="strong strong"><strong>connection.type</strong></span> <span class="emphasis"><em>bond</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373644992"> <p>
								type of a specific connection. Some of the connection types are: <span class="strong strong"><strong>bond, bridge, ethernet, wifi, infiniband, vlan</strong></span>
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885377731744"> <p>
								ifname
							</p>
							 </td><td align="left" valign="top" headers="idm139885373648256"> <p>
								<span class="strong strong"><strong>ifname</strong></span> <span class="emphasis"><em>enp1s0</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373647168"> <p>
								connection.interface-name
							</p>
							 </td><td align="left" valign="top" headers="idm139885373646080"> <p>
								<span class="strong strong"><strong>connection.interface-name</strong></span> <span class="emphasis"><em>enp1s0</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373644992"> <p>
								name of the device to which a connection belongs to
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885377731744"> <p>
								con-name
							</p>
							 </td><td align="left" valign="top" headers="idm139885373648256"> <p>
								<span class="strong strong"><strong>con-name</strong></span> <span class="emphasis"><em>"My Connection"</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373647168"> <p>
								connection.id
							</p>
							 </td><td align="left" valign="top" headers="idm139885373646080"> <p>
								<span class="strong strong"><strong>connection.id</strong></span> <span class="emphasis"><em>"My Connection"</em></span>
							</p>
							 </td><td align="left" valign="top" headers="idm139885373644992"> <p>
								name of a connection
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="Brief-Selection-of-nmcli-commands_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.3. Brief selection of <span class="strong strong"><strong>nmcli</strong></span> commands</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you use the <span class="strong strong"><strong>nmcli</strong></span> commands, it is recommended to type a partial <span class="strong strong"><strong>nmcli</strong></span> command, and then press the <span class="keycap"><strong>Tab</strong></span> key to auto-complete the command sequence. If multiple completions are possible, then <span class="keycap"><strong>Tab</strong></span> lists them all. This helps users to type commands faster and easier. To enable the <span class="strong strong"><strong>nmcli</strong></span> auto-complete feature be sure to install the <code class="literal">bash-completion</code> package:
				</p><pre class="literallayout">~]# yum install bash-completion</pre><p>
					After the package installation, <code class="literal">nmcli auto-complete</code> will be available next time you login into a console. To activate it also in the current console, enter:
				</p><pre class="literallayout">~]$ source /etc/profile.d/bash_completion.sh</pre></div></div><p>
				The following examples show how to use <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> in specific use cases:
			</p><div class="example" id="idm139885366454640"><p class="title"><strong>Example 7.4. Viewing all connections</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli connection show</code>
  NAME       UUID                                  TYPE      DEVICE
Profile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet    ens3
bond0       aaf6eb56-73e5-4746-9037-eed42caa8a65  ethernet    --</pre></div></div><div class="example" id="idm139885366451936"><p class="title"><strong>Example 7.5. Viewing only currently active connections</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli connection show --active</code>
  NAME       UUID                                  TYPE      DEVICE
Profile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet     ens3</pre></div></div><div class="example" id="idm139885370165216"><p class="title"><strong>Example 7.6. Activating a connection</strong></p><div class="example-contents"><p>
					Use the <span class="strong strong"><strong>up</strong></span> argument to activate a connection.
				</p><pre class="literallayout">~]$ <code class="literal command">nmcli connection show</code>
  NAME       UUID                                  TYPE      DEVICE
Profile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet    ens3
bond0       aaf6eb56-73e5-4746-9037-eed42caa8a65  ethernet    --</pre><pre class="literallayout">~]$ <code class="literal command">nmcli connection up id <span class="emphasis"><em>bond0</em></span></code>
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)</pre><pre class="literallayout">~]$ <code class="literal command">nmcli connection show</code>
NAME       UUID                                  TYPE      DEVICE
Profile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet    ens3
bond0       aaf6eb56-73e5-4746-9037-eed42caa8a65  ethernet   bond0</pre></div></div><div class="example" id="idm139885375180576"><p class="title"><strong>Example 7.7. Deactivating a specific active connection</strong></p><div class="example-contents"><p>
					Use the <span class="strong strong"><strong>down</strong></span> argument to deactivate a specific active connection:
				</p><pre class="literallayout">~]$ <code class="literal command">nmcli connection down id <span class="emphasis"><em>bond0</em></span></code></pre><pre class="literallayout">~]$ <code class="literal command">nmcli connection show</code>
  NAME       UUID                                  TYPE      DEVICE
Profile 1  db1060e9-c164-476f-b2b5-caec62dc1b05  ethernet    ens3
bond0      aaf6eb56-73e5-4746-9037-eed42caa8a65  ethernet    --</pre></div></div><div class="example" id="idm139885369830480"><p class="title"><strong>Example 7.8. Disconnecting a device preventing it from automatically started again</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli device disconnect id <span class="emphasis"><em>bond0</em></span></code></pre></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal command">nmcli connection down</code> command, deactivates a connection from a device without preventing the device from further auto-activation. The <code class="literal command">nmcli device disconnect</code> command, disconnects a device and prevent the device from automatically activating further connections without manual intervention. If the connection has the <code class="literal literal">connection.autoconnect</code> flag set to <code class="literal literal">yes</code>, the connection automatically starts on the disconnected device again. In this case, use the <code class="literal command">nmcli device disconnect</code> command instead of the <code class="literal command">nmcli connection down</code> command.
				</p></div></div><div class="example" id="idm139885364230048"><p class="title"><strong>Example 7.9. Viewing only devices recognized by <span class="strong strong"><span class="application application">NetworkManager</span></span> and their state</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli device status</code>
DEVICE  TYPE      STATE      CONNECTION
ens3    ethernet  connected  Profile 1
lo      loopback  unmanaged  --</pre></div></div><div class="example" id="idm139885366851584"><p class="title"><strong>Example 7.10. Viewing general information for a device</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli device show</code>
GENERAL.DEVICE:                         ens3
GENERAL.TYPE:                           ethernet
GENERAL.HWADDR:                         52:54:00:0A:2F:ED
GENERAL.MTU:                            1500
GENERAL.STATE:                          100 (connected)
GENERAL.CONNECTION:                     ens3
[...]</pre></div></div><div class="example" id="idm139885366848736"><p class="title"><strong>Example 7.11. Checking the overall status of <span class="strong strong">NetworkManager</span></strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli general status</code>
STATE      CONNECTIVITY  WIFI-HW  WIFI     WWAN-HW  WWAN
connected  full          enabled  enabled  enabled  enabled</pre><p>
					In terse mode:
				</p><pre class="literallayout">~]$ <code class="literal command">nmcli -t -f STATE general</code>
connected</pre></div></div><div class="example" id="idm139885372394720"><p class="title"><strong>Example 7.12. Viewing NetworkManager logging status</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal command">nmcli general logging</code>
  LEVEL  DOMAINS
  INFO   PLATFORM,RFKILL,ETHER,WIFI,BT,MB,DHCP4,DHCP6,PPP,WIFI_SCAN,IP4,IP6,A
UTOIP4,DNS,VPN,SHARING,SUPPLICANT,AGENTS,SETTINGS,SUSPEND,CORE,DEVICE,OLPC,
WIMAX,INFINIBAND,FIREWALL,ADSL,BOND,VLAN,BRIDGE,DBUS_PROPS,TEAM,CONCHECK,DC
B,DISPATCH</pre></div></div><p>
				You can also use the following abbreviations of the <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> commands:
			</p><div class="table" id="tabl-nmcli_examples"><p class="title"><strong>Table 7.1. Abbreviations of some nmcli commands</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885369836160" scope="col">nmcli command</th><th align="left" valign="top" id="idm139885373940240" scope="col">abbreviation</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli general status
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli g
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli general logging
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli g log
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli connection show
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli con show or nmcli c
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli connection show --active
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli con show -a or nmcli c -a
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli device status
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli dev or nmcli d
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885369836160"> <p>
								nmcli device show
							</p>
							 </td><td align="left" valign="top" headers="idm139885373940240"> <p>
								nmcli dev show or nmcli d show
							</p>
							 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information on the comprehensive list of <span class="strong strong"><strong>nmcli</strong></span> options, see the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nmcli</strong></span>(1)</span></em></span> man page.
					</li><li class="listitem">
						For more examples, see the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nmcli-examples</strong></span>(5)</span></em></span> man page.
					</li><li class="listitem">
						<a class="xref" href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli" title="7.5. Creating a connection profile with nmcli">Section 7.5, “Creating a connection profile with nmcli”</a>
					</li></ul></div></section><section class="section" id="Setting-a-device-managed-or-unmanaged-with-nmcli_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.4. Setting a device managed or unmanaged with nmcli</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-nmcli_getting-started-with-nmcli" title="7.1. Understanding nmcli">Section 7.1, “Understanding nmcli”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Overview-of-nmcli-property-names-and-aliases_getting-started-with-nmcli" title="7.2. Overview of nmcli property names and aliases">Section 7.2, “Overview of nmcli property names and aliases”</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To list the currently available network connections:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con show</code>
NAME              UUID                                  TYPE            DEVICE
Auto Ethernet     9b7f2511-5432-40ae-b091-af2457dfd988  802-3-ethernet  --
ens3              fb157a65-ad32-47ed-858c-102a48e064a2  802-3-ethernet  ens3
MyWiFi            91451385-4eb8-4080-8b82-720aab8328dd  802-11-wireless wlan0</pre><p class="simpara">
						Note that the <code class="literal">NAME</code> field in the output always denotes the <span class="strong strong"><strong>connection ID</strong></span> (name). It is not the interface name even though it might look the same. In the second connection shown above, <span class="emphasis"><em>ens3</em></span> in the <code class="literal">NAME</code> field is the <span class="strong strong"><strong>connection ID</strong></span> given by the user to the profile applied to the interface <span class="emphasis"><em>ens3</em></span>. In the last connection shown, the user has assigned the connection ID <span class="emphasis"><em>MyWiFi</em></span> to the interface <span class="emphasis"><em>wlan0</em></span>.
					</p><p class="simpara">
						Adding an Ethernet connection means creating a configuration profile which is then assigned to a device. Before creating a new profile, review the available devices as follows:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli device status</code>
DEVICE  TYPE      STATE         CONNECTION
ens3    ethernet  disconnected  --
ens9    ethernet  disconnected  --
lo      loopback  unmanaged     --</pre></li><li class="listitem"><p class="simpara">
						To set the device unmanaged by the <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli device set <span class="emphasis"><em>ifname</em></span> managed no</code></pre></li></ol></div><p>
				For example, to set <span class="emphasis"><em>enp1s0</em></span> unmanaged:
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli device status</code>
DEVICE      TYPE      STATE      CONNECTION
bond0       bond      connected  bond0
virbr0      bridge    connected  virbr0
enp7s0      ethernet  connected  bond-slave-enp7s0
enp1s0      ethernet  connected  bond-slave-enp1s0
enp8s0      ethernet  unmanaged  --</pre><pre class="literallayout">~]$ <code class="literal command">nmcli device set <span class="emphasis"><em>enp1s0</em></span> managed no</code></pre><pre class="literallayout">~]$ <code class="literal command">nmcli device status</code>
DEVICE      TYPE      STATE      CONNECTION
bond0       bond      connected  bond0
virbr0      bridge    connected  virbr0
enp7s0      ethernet  connected  bond-slave-enp7s0
enp1s0      ethernet  unmanaged  --
enp8s0      ethernet  unmanaged  --</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When you set the device unmanaged, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> does not control it. If the device you want to configure is listed as unmanaged, no <span class="strong strong"><strong>nmcli</strong></span> command has any effect on this device. However, the device is still connected.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information, see the <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nmcli</strong></span>(1)</span></em></span> man page.
					</li></ul></div></section><section class="section" id="Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.5. Creating a connection profile with nmcli</h2></div></div></div><p>
				You can create a connection profile to be associated with a device.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-nmcli_getting-started-with-nmcli" title="7.1. Understanding nmcli">Section 7.1, “Understanding nmcli”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Overview-of-nmcli-property-names-and-aliases_getting-started-with-nmcli" title="7.2. Overview of nmcli property names and aliases">Section 7.2, “Overview of nmcli property names and aliases”</a>
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you use the <span class="strong strong"><strong>nmcli</strong></span> commands, it is recommended to type a partial <span class="strong strong"><strong>nmcli</strong></span> command, and then press the <span class="keycap"><strong>Tab</strong></span> key to auto-complete the command sequence. If multiple completions are possible, then <span class="keycap"><strong>Tab</strong></span> lists them all. This helps users to type commands faster and easier. To enable the <span class="strong strong"><strong>nmcli</strong></span> auto-complete feature be sure to install the <code class="literal">bash-completion</code> package:
				</p><pre class="literallayout">~]# yum install bash-completion</pre><p>
					After the package installation, <code class="literal">nmcli auto-complete</code> will be available next time you login into a console. To activate it also in the current console, enter:
				</p><pre class="literallayout">~]$ source /etc/profile.d/bash_completion.sh</pre></div></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					The basic format to <span class="strong strong"><strong>create</strong></span> a new profile for <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> using <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span>:
				</p></div><pre class="literallayout"><code class="literal command">nmcli c add {COMMON_OPTIONS} [IP_OPTIONS]/[NETMASK] [GATEWAY]</code></pre><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
						where <code class="literal">{COMMON_OPTIONS}</code> are the aliases or property names, see <a class="link" href="index.html#tabl-Aliases-and-property-names" title="Aliases and property names">Aliases and Property names</a>.
					</li><li class="listitem"><p class="simpara">
						where <code class="literal">[IP_OPTIONS]</code> are the IP addresses:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For IPv4 addresses: <code class="literal">ip4</code>
							</li><li class="listitem">
								For IPv6 addresses: <code class="literal">ip6</code>
							</li></ul></div></li><li class="listitem">
						where <code class="literal">[NETMASK]</code> is the network mask width. For example, <code class="literal">255.255.255.0</code> is the network mask for the prefix <span class="emphasis"><em>198.51.100.0</em></span>/<code class="literal">24</code>.
					</li><li class="listitem"><p class="simpara">
						where <code class="literal">[GATEWAY]</code> is the gateway information:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For IPv4 addresses: <code class="literal">gw4</code>
							</li><li class="listitem">
								For IPv6 addresses: <code class="literal">gw6</code>
							</li></ul></div></li></ol></div><pre class="literallayout"><code class="literal">nmcli connection add</code> <span class="strong strong"><strong>type</strong></span> ethernet <span class="strong strong"><strong>con-name</strong></span> <span class="emphasis"><em>connection-name</em></span> <span class="strong strong"><strong>ifname</strong></span> <span class="emphasis"><em>interface-name</em></span> <span class="strong strong"><strong>ip4</strong></span> <span class="emphasis"><em>address</em></span>/<span class="emphasis"><em>network mask</em></span> <span class="strong strong"><strong>gw4</strong></span> <span class="emphasis"><em>address</em></span></pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To create a connection profile with an IPv4 address:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli c add type <span class="emphasis"><em>ethernet</em></span> ifname <span class="emphasis"><em>enp1s0</em></span> con-name <span class="emphasis"><em>"My Connection"</em></span> ip4 192.168.2.100/24 gw4 192.168.2.1</code>
Connection 'My Connection' (f0c23472-1aec-4e84-8f1b-be8a2ecbeade) successfully added.</pre></li><li class="listitem"><p class="simpara">
						To activate the created connection:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli c up _"My Connection"</code></pre></li><li class="listitem"><p class="simpara">
						To view the created connection:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli c show <span class="emphasis"><em>"My Connection"</em></span></code></pre></li></ol></div><p>
				Note that the <span class="strong strong"><strong>nmcli c show <span class="emphasis"><em>con-name</em></span></strong></span> command displays all the properties present in the connection, even those that are empty or have a default value. If the output is longer than a terminal page, <span class="strong strong"><strong>nmcli</strong></span> generates a pager to allow an easy navigation on the output. In the pager, use arrows to move up and down and the <span class="keycap"><strong>q</strong></span> key to quit.
			</p><p>
				For a more compact display of the connection, use the <code class="literal option">-o</code> option:
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli -o c show <span class="emphasis"><em>"My Connection"</em></span></code></pre><p>
				The <span class="strong strong"><strong>nmcli -o c show <span class="emphasis"><em>con-name</em></span></strong></span> command still displays the connection content, but omits empty properties or those that are set to a default value. This usually results in a shorter output that is more readable.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <code class="literal">nm-settings(5)</code> man page for more information on properties and their settings.
					</li></ul></div></section><section class="section" id="Using-the-nmcli-Interactive-Connection-Editor_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.6. Using the nmcli interactive connection editor</h2></div></div></div><p>
				The <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> tool has an interactive connection editor. It allows you to change connection parameters according to your needs. To use it:
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli con edit</code></pre><p>
				You should enter a valid <span class="strong strong"><strong>connection type</strong></span> from the list displayed. Then, you are able to modify its parameters.
			</p><pre class="literallayout">~]$ <code class="literal">nmcli con edit</code>
Valid connection types: generic, 802-3-ethernet (ethernet), pppoe, 802-11-wireless (wifi), wimax, gsm, cdma, infiniband, adsl, bluetooth, vpn, 802-11-olpc-mesh (olpc-mesh), vlan, bond, team, bridge, bond-slave, team-slave, bridge-slave, no-slave, tun, ip-tunnel, macsec, macvlan, vxlan, dummy
Enter connection type: <code class="literal">ethernet</code>

===| nmcli interactive connection editor |===

Adding a new '802-11-wireless' connection

Type 'help' or '?' for available commands.
Type 'describe [&lt;setting&gt;.&lt;prop&gt;]' for detailed property description.

You may edit the following settings: connection, 802-11-wireless (wifi), 802-11-wireless-security (wifi-sec), 802-1x, ipv4, ipv6, proxy
nmcli&gt;</pre><p>
				It is possible now to edit the <code class="literal">ethernet</code> connection settings. To get the list of available commands, type <code class="literal">help</code> or <code class="literal">?</code>:
			</p><pre class="literallayout">nmcli&gt; <code class="literal">?</code>
------------------------------------------------------------------------------
---[ Main menu ]---
goto     [&lt;setting&gt; | &lt;prop&gt;]        :: go to a setting or property
remove   &lt;setting&gt;[.&lt;prop&gt;] | &lt;prop&gt; :: remove setting or reset property value
set      [&lt;setting&gt;.&lt;prop&gt; &lt;value&gt;]  :: set property value
describe [&lt;setting&gt;.&lt;prop&gt;]          :: describe property
print    [all | &lt;setting&gt;[.&lt;prop&gt;]]  :: print the connection
verify   [all | fix]                 :: verify the connection
save     [persistent|temporary]      :: save the connection
activate [&lt;ifname&gt;] [/&lt;ap&gt;|&lt;nsp&gt;]    :: activate the connection
back                                 :: go one level up (back)
help/?   [&lt;command&gt;]                 :: print this help
nmcli    &lt;conf-option&gt; &lt;value&gt;       :: nmcli configuration
quit                                 :: exit nmcli
------------------------------------------------------------------------------
nmcli&gt;</pre><p>
				To exit, enter the <code class="literal">quit</code> command.
			</p><div class="example" id="idm139885369929472"><p class="title"><strong>Example 7.13. Adding a new <code class="literal">Ethernet</code> connection using the <span class="strong strong">nmcli</span> interactive connection editor</strong></p><div class="example-contents"><pre class="literallayout">~]$ <code class="literal">nmcli con edit</code>
Valid connection types: generic, 802-3-ethernet (ethernet), pppoe, 802-11-wireless (wifi), wimax, gsm, cdma, infiniband, adsl, bluetooth, vpn, 802-11-olpc-mesh (olpc-mesh), vlan, bond, team, bridge, bond-slave, team-slave, bridge-slave, no-slave, tun, ip-tunnel, macsec, macvlan, vxlan, dummy
Enter connection type: <code class="literal">ethernet</code>

===| nmcli interactive connection editor |===

Adding a new '802-3-ethernet' connection

Type 'help' or '?' for available commands.
Type 'describe [&lt;setting&gt;.&lt;prop&gt;]' for detailed property description.

You may edit the following settings: connection, 802-3-ethernet (ethernet), 802-1x, dcb, ipv4, ipv6, proxy
nmcli&gt; <code class="literal">set connection.id <span class="emphasis"><em>new_enp7s0</em></span></code>
nmcli&gt; <code class="literal">set connection.interface-name <span class="emphasis"><em>enp7s0</em></span></code>
nmcli&gt; <code class="literal">set connection.autoconnect yes</code>
nmcli&gt; <code class="literal">save</code>
Saving the connection with 'autoconnect=yes'. That might result in an immediate activation of the connection.
Do you still want to save? (yes/no) [yes] <code class="literal">yes</code>
Connection 'new_enp7s0' (34ac8f9a-e9d8-4e0b-9751-d5dc87cc0467) successfully saved.
nmcli&gt; <code class="literal">quit</code></pre></div></div><p>
				A new network interface configuration file is created in the <code class="literal filename">/etc/sysconfig/network-scripts</code> directory:
			</p><pre class="literallayout">~]# <code class="literal">ls -lrt /etc/sysconfig/network-scripts/ifcfg*</code>
-rw-r--r--. 1 root root 254 Aug 15  2017 /etc/sysconfig/network-scripts/ifcfg-lo
-rw-r--r--. 1 root root 304 Apr 26 22:14 /etc/sysconfig/network-scripts/ifcfg-ens3
-rw-r--r--. 1 root root 266 Aug  6 11:03 /etc/sysconfig/network-scripts/ifcfg-new_enp7s0</pre></section><section class="section" id="Modifying-a-connection-profile-with-nmcli_getting-started-with-nmcli"><div class="titlepage"><div><div><h2 class="title">7.7. Modifying a connection profile with nmcli</h2></div></div></div><p>
				You can modify the existing configuration of a connection profile.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-nmcli_getting-started-with-nmcli" title="7.1. Understanding nmcli">Section 7.1, “Understanding nmcli”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Overview-of-nmcli-property-names-and-aliases_getting-started-with-nmcli" title="7.2. Overview of nmcli property names and aliases">Section 7.2, “Overview of nmcli property names and aliases”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli" title="7.5. Creating a connection profile with nmcli">Section 7.5, “Creating a connection profile with nmcli”</a>
					</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you use the <span class="strong strong"><strong>nmcli</strong></span> commands, it is recommended to type a partial <span class="strong strong"><strong>nmcli</strong></span> command, and then press the <span class="keycap"><strong>Tab</strong></span> key to auto-complete the command sequence. If multiple completions are possible, then <span class="keycap"><strong>Tab</strong></span> lists them all. This helps users to type commands faster and easier. To enable the <span class="strong strong"><strong>nmcli</strong></span> auto-complete feature be sure to install the <code class="literal">bash-completion</code> package:
				</p><pre class="literallayout">~]# yum install bash-completion</pre><p>
					After the package installation, <code class="literal">nmcli auto-complete</code> will be available next time you login into a console. To activate it also in the current console, enter:
				</p><pre class="literallayout">~]$ source /etc/profile.d/bash_completion.sh</pre></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To modify one or more properties of a connection profile, use the following command:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli c modify</code></pre><p class="simpara">
						For example, to change the <span class="strong strong"><strong>connection.id</strong></span> from <span class="emphasis"><em>"My Connection"</em></span> to <span class="emphasis"><em>"My favorite connection"</em></span> and the <span class="strong strong"><strong>connection.interface-name</strong></span> to <span class="emphasis"><em>enp7s0</em></span>:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli c modify <span class="emphasis"><em>"My Connection"</em></span> connection.id <span class="emphasis"><em>"My favorite connection"</em></span> connection.interface-name <span class="emphasis"><em>enp7s0</em></span></code></pre></li><li class="listitem"><p class="simpara">
						To <span class="strong strong"><strong>apply</strong></span> changes after a modified connection using <span class="strong strong"><strong>nmcli</strong></span>, activate again the connection by entering:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli con up "My favorite connection"</code>
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/16)</pre></li><li class="listitem">
						To view the modified connection, enter the <code class="literal">nmcli con show <span class="emphasis"><em>con-name</em></span></code> command.
					</li></ol></div></section></section><section class="chapter" id="getting-started-with-configuring-networking-using-the-gnome-gui_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Getting started with configuring networking using the GNOME GUI</h1></div></div></div><p>
			You can configure a network interface using the following <span class="strong strong"><strong>Graphical User Interface</strong></span> (<span class="strong strong"><strong>GUI</strong></span>) ways:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					the GNOME Shell <span class="strong strong"><strong>network connection icon</strong></span> on the top right of the desktop
				</li><li class="listitem">
					the GNOME <span class="strong strong"><strong><span class="application application">control-center</span></strong></span> application
				</li><li class="listitem">
					the GNOME <span class="strong strong"><strong><span class="application application">nm-connection-editor</span></strong></span> application
				</li></ul></div><section class="section" id="Connecting-to-a-Network-using-the-GNOME-Shell-Network-connection-icon_getting-started-with-configuring-networking-using-the-gnome-gui"><div class="titlepage"><div><div><h2 class="title">8.1. Connecting to a network using the GNOME shell network connection icon</h2></div></div></div><p>
				To access the <code class="literal">Network</code> settings, click on the GNOME Shell <span class="strong strong"><strong>network connection icon</strong></span> in the top right-hand corner of the screen to open its menu:
			</p><div class="figure" id="figu-The-Network-Connection-Icon-Menu"><p class="title"><strong>Figure 8.1. The network connection icon menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="network-icon.png" alt="network icon"/></div></div></div><p>
				When you click on the GNOME Shell network connection icon, you can see:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A list of categorized networks you are currently connected to (such as <code class="literal">Wired</code> and <code class="literal">Wi-Fi</code>).
					</li><li class="listitem">
						A list of all <code class="literal">Available Networks</code> that <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> has detected. If you are connected to a network, this is indicated on the left of the connection name.
					</li><li class="listitem"><p class="simpara">
						Options for connecting to any configured Virtual Private Networks (VPNs)
					</p><p class="simpara">
						and
					</p></li><li class="listitem">
						An option for selecting the <code class="literal">Network Settings</code> menu entry.
					</li></ul></div></section><section class="section" id="Creating_a_Network_Connection_using_control_center"><div class="titlepage"><div><div><h2 class="title">8.2. Creating a network connection using control-center</h2></div></div></div><p>
				You can create a network connection through the GNOME <span class="strong strong"><strong>control-center</strong></span> application, which is a graphical user interface that provides a view of available network devices and their current configuration.
			</p><p>
				This procedures describes how to create a new <code class="literal">wired</code>, <code class="literal">wireless</code>, <code class="literal">vpn</code> connection using <span class="strong strong"><strong>control-center</strong></span>:
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Press the <span class="keycap"><strong>Super</strong></span> key to enter the Activities Overview, type <code class="literal">Settings</code>, and press <span class="keycap"><strong>Enter</strong></span>. Then, select the <code class="literal">Network</code> tab on the left-hand side, and the <code class="literal">Network</code> settings tool appears:
					</p><div class="figure" id="figu-Opening-the-Network-Settings-Window"><p class="title"><strong>Figure 8.2. Opening the network settings window</strong></p><div class="figure-contents"><div class="mediaobject"><img src="network_settings.png" alt="network settings"/></div></div></div></li><li class="listitem"><p class="simpara">
						Click the plus button to add a new connection:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								For <span class="strong strong"><strong>Wired</strong></span> connections, click the plus button next to <code class="literal">Wired</code> entry and configure the connection.
							</li><li class="listitem">
								For <span class="strong strong"><strong>VPN</strong></span> connections, click the plus button next to <code class="literal">VPN</code> entry. If you want to add an <code class="literal">IPsec VPN</code>, click on <code class="literal">IPsec based VPN</code> and configure the connection.
							</li><li class="listitem">
								For <span class="strong strong"><strong>Wi-Fi</strong></span> connections, click the <code class="literal">Wi-Fi</code> entry on the left-hand side in the <code class="literal">Settings</code> menu and configure the connection.
							</li></ul></div></li></ol></div></section></section><section class="chapter" id="configuring-an-ethernet-connection_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Configuring an Ethernet connection</h1></div></div></div><p>
			This section describes how to configure an Ethernet connection with static and dynamic IP addresses.
		</p><section class="section" id="configuring_a_static_ethernet_connection_with_nmcli"><div class="titlepage"><div><div><h2 class="title">9.1. Configuring a static Ethernet connection with nmcli</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-nmcli_getting-started-with-nmcli" title="7.1. Understanding nmcli">Section 7.1, “Understanding nmcli”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli" title="7.5. Creating a connection profile with nmcli">Section 7.5, “Creating a connection profile with nmcli”</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Setting two <code class="literal">IPv4</code> <code class="literal">DNS</code> server addresses:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con mod <span class="emphasis"><em>test-lab</em></span> ipv4.dns "8.8.8.8 8.8.4.4"</code></pre><p class="simpara">
						Note that this will replace any previously set <code class="literal">DNS</code> servers.
					</p><p class="simpara">
						Alternatively, to set two <code class="literal">IPv6</code> <code class="literal">DNS</code> server addresses:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con mod <span class="emphasis"><em>test-lab</em></span> ipv6.dns "2001:4860:4860::8888 2001:4860:4860::8844"</code></pre><p class="simpara">
						Note that this will replace any previously set <code class="literal">DNS</code> servers.
					</p></li><li class="listitem"><p class="simpara">
						To add additional <code class="literal">DNS</code> servers to any previously set, use the <code class="literal">+</code> prefix:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli con mod <span class="emphasis"><em>test-lab</em></span> +ipv4.dns "8.8.8.8 8.8.4.4"</code></pre><pre class="literallayout">~]$ nmcli con mod <span class="emphasis"><em>test-lab</em></span> +ipv6.dns "2001:4860:4860::8888 2001:4860:4860::8844"</pre></li><li class="listitem"><p class="simpara">
						Optionally, set a DNS search domain:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con mod <span class="emphasis"><em>test-lab</em></span> ipv4.dns-search "example.com"</code></pre></li><li class="listitem"><p class="simpara">
						To activate the new <span class="strong strong"><strong>Ethernet</strong></span> connection:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con up <span class="emphasis"><em>test-lab</em></span> <span class="strong strong"><strong>ifname</strong></span> <span class="emphasis"><em>ens9</em></span></code>
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/6)</pre></li><li class="listitem"><p class="simpara">
						To review the status of the devices and connections:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli device status</code>
DEVICE  TYPE      STATE      CONNECTION
ens3    ethernet  connected  my-office
ens9    ethernet  connected  test-lab
lo      loopback  unmanaged  --</pre></li><li class="listitem">
						To view detailed information about the newly configured connection:
					</li></ol></div><pre class="literallayout">~]$ <code class="literal command">nmcli -p con show <span class="emphasis"><em>test-lab</em></span></code>
===============================================================================
                     Connection profile details (test-lab)
===============================================================================
connection.id:                          test-lab
connection.uuid:                        05abfd5e-324e-4461-844e-8501ba704773
connection.interface-name:              ens9
connection.type:                        802-3-ethernet
connection.autoconnect:                 yes
connection.timestamp:                   1410428968
connection.read-only:                   no
connection.permissions:
connection.zone:                        --
connection.master:                      --
connection.slave-type:                  --
connection.secondaries:
connection.gateway-ping-timeout:        0
<span class="emphasis"><em>[output truncated]</em></span></pre><p>
				The use of the <code class="literal option">-p, --pretty</code> option adds a title banner and section breaks to the output.
			</p></section><section class="section" id="configuring_a_static_ethernet_connection_using_the_nmcli_interactive_editor"><div class="titlepage"><div><div><h2 class="title">9.2. Configuring a static Ethernet connection using the nmcli interactive editor</h2></div></div></div><p>
				To configure a static Ethernet connection using the <span class="strong strong"><strong>nmcli</strong></span> interactive editor:
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli con edit <span class="strong strong"><strong>type</strong></span> ethernet <span class="strong strong"><strong>con-name</strong></span> <span class="emphasis"><em>ens3</em></span></code>

===| nmcli interactive connection editor |===

Adding a new '802-3-ethernet' connection

Type 'help' or '?' for available commands.
Type 'describe [&gt;setting&lt;.&gt;prop&lt;]' for detailed property description.

You may edit the following settings: connection, 802-3-ethernet (ethernet), 802-1x, ipv4, ipv6, dcb
nmcli&gt; <code class="literal">set ipv4.addresses 192.168.122.88/24</code>
Do you also want to set 'ipv4.method' to 'manual'? [yes]: <code class="literal">yes</code>
nmcli&gt; <code class="literal">set ipv4.dns 192.168.122.1</code>
nmcli&gt; <code class="literal">set ipv4.dns-search example.com</code>
nmcli&gt; <code class="literal">save persistent</code>
Saving the connection with 'autoconnect=yes'. That might result in an immediate activation of the connection.
Do you still want to save? [yes] <code class="literal">yes</code>
Connection 'ens3' (704a5666-8cbd-4d89-b5f9-fa65a3dbc916) successfully saved.
nmcli&gt; <code class="literal">quit</code></pre><p>
				The default action is to save the connection profile as persistent. If required, the profile can be held in memory only, until the next restart, by means of the <code class="literal command">save temporary</code> command.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <code class="literal">nm-settings(5)</code> man page for more information on properties and their settings.
					</li></ul></div></section><section class="section" id="configuring_a_dynamic_ethernet_connection_with_emphasis_role_strong_nmcli_emphasis"><div class="titlepage"><div><div><h2 class="title">9.3. Configuring a dynamic Ethernet connection with <span class="strong strong"><strong>nmcli</strong></span></h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-nmcli_getting-started-with-nmcli" title="7.1. Understanding nmcli">Section 7.1, “Understanding nmcli”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#Creating-a-connection-profile-with-nmcli_getting-started-with-nmcli" title="7.5. Creating a connection profile with nmcli">Section 7.5, “Creating a connection profile with nmcli”</a>
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To change the host name sent by a host to a <code class="literal">DHCP</code> server, modify the <code class="literal option">dhcp-hostname</code> property:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con modify my-office <span class="emphasis"><em>my-office</em></span> ipv4.dhcp-hostname <span class="emphasis"><em>host-name</em></span> ipv6.dhcp-hostname <span class="emphasis"><em>host-name</em></span></code></pre></li><li class="listitem"><p class="simpara">
						To change the <code class="literal">IPv4</code> client ID sent by a host to a <code class="literal">DHCP</code> server, modify the <code class="literal option">dhcp-client-id</code> property:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con modify my-office <span class="emphasis"><em>my-office</em></span> ipv4.dhcp-client-id <span class="emphasis"><em>client-ID-string</em></span></code></pre><p class="simpara">
						There is no <code class="literal option">dhcp-client-id</code> property for <code class="literal">IPv6</code>, <span class="strong strong"><strong><span class="application application">dhclient</span></strong></span> to create an identifier for <code class="literal">IPv6</code>. See the <code class="literal">dhclient(8)</code> man page for details.
					</p></li><li class="listitem"><p class="simpara">
						To ignore the <code class="literal">DNS</code> servers sent to a host by a <code class="literal">DHCP</code> server, modify the <code class="literal option">ignore-auto-dns</code> property:
					</p><pre class="literallayout">~]$ <code class="literal command">nmcli con modify my-office <span class="emphasis"><em>my-office</em></span> ipv4.ignore-auto-dns <span class="emphasis"><em>yes</em></span> ipv6.ignore-auto-dns <span class="emphasis"><em>yes</em></span></code></pre></li></ol></div></section><section class="section" id="configuring_a_dynamic_ethernet_connection_using_the_interactive_editor"><div class="titlepage"><div><div><h2 class="title">9.4. Configuring a dynamic Ethernet connection using the interactive editor</h2></div></div></div><p>
				To configure a dynamic Ethernet connection using the interactive editor:
			</p><pre class="literallayout">~]$ <code class="literal command">nmcli con edit type ethernet con-name <span class="emphasis"><em>ens3</em></span></code>

===| nmcli interactive connection editor |===

Adding a new '802-3-ethernet' connection

Type 'help' or '?' for available commands.
Type 'describe [&lt;setting&gt;.&lt;prop&gt;]' for detailed property description.

You may edit the following settings: connection, 802-3-ethernet (ethernet), 802-1x, ipv4, ipv6, dcb
nmcli&gt; <code class="literal">describe ipv4.method</code>

=== [method] ===
[NM property description]
IPv4 configuration method.  If 'auto' is specified then the appropriate automatic method (DHCP, PPP, etc) is used for the interface and most other properties can be left unset.  If 'link-local' is specified, then a link-local address in the 169.254/16 range will be assigned to the interface.  If 'manual' is specified, static IP addressing is used and at least one IP address must be given in the 'addresses' property.  If 'shared' is specified (indicating that this connection will provide network access to other computers) then the interface is assigned an address in the 10.42.x.1/24 range and a DHCP and forwarding DNS server are started, and the interface is NAT-ed to the current default network connection.  'disabled' means IPv4 will not be used on this connection.  This property must be set.

nmcli&gt; <code class="literal">set ipv4.method auto</code>
nmcli&gt; <code class="literal">save</code>
Saving the connection with 'autoconnect=yes'. That might result in an immediate activation of the connection.
Do you still want to save? [yes] <code class="literal">yes</code>
Connection 'ens3' (090b61f7-540f-4dd6-bf1f-a905831fc287) successfully saved.
nmcli&gt; <code class="literal">quit</code></pre><p>
				The default action is to save the connection profile as persistent. If required, the profile can be held in memory only, until the next restart, by means of the <code class="literal command">save temporary</code> command.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						See the <code class="literal">nm-settings(5)</code> man page for more information on properties and their settings.
					</li></ul></div></section><section class="section" id="Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection"><div class="titlepage"><div><div><h2 class="title">9.5. Configuring an Ethernet connection using control-center</h2></div></div></div><p>
				You can configure a network connection through the GNOME <span class="strong strong"><strong>control-center</strong></span> application.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Press the <span class="keycap"><strong>Super</strong></span> key to enter the Activities Overview, type <code class="literal">Settings</code> and press <span class="keycap"><strong>Enter</strong></span>. Then, select the <code class="literal">Network</code> menu entry on the left-hand side, and the <code class="literal">Network</code> settings tool appears, see <a class="link" href="index.html#figu-Opening-the-Network-Settings-Window" title="Figure 8.2. Opening the network settings window">Opening the Network Settings Window</a>
					</li><li class="listitem"><p class="simpara">
						Select the <code class="literal">Wired</code> network interface
					</p><p class="simpara">
						The system creates and configures a single wired <span class="emphasis"><em>connection profile</em></span> called <code class="literal">Wired</code> by default. More than one profile can be created for an interface and applied as needed. The default profile cannot be deleted but its settings can be changed.
					</p></li><li class="listitem">
						Edit the default <code class="literal">Wired</code> profile by clicking the gear wheel icon to edit an existing connection or click the plus button and then set the configuration options for a new connection.
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When you add a new connection by clicking the plus button, <span class="strong strong"><strong>NetworkManager</strong></span> creates a new configuration file for that connection and then opens the same dialog that is used for editing an existing connection. The difference between these dialogs is that an existing connection profile has a <span class="strong strong"><strong>Details</strong></span> menu entry.
				</p></div></div><h4 id="bh-Basic_Configuration_Options">Basic configuration options</h4><p>
				You can see the following configuration settings in the <code class="literal">Wired</code> dialog, by selecting the <code class="literal">Identity</code> menu entry:
			</p><div class="figure" id="figu-Basic-Configuration-options-of-a-Wired-Connection"><p class="title"><strong>Figure 9.1. Basic configuration options of a wired connection</strong></p><div class="figure-contents"><div class="mediaobject"><img src="Identity-wired.png" alt="Identity wired"/></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">Name</code> — Enter a descriptive name for your network connection. This name will be used to list this connection in the menu of the <code class="literal">Network</code> window.
					</li><li class="listitem">
						<code class="literal">MAC Address</code> — Select the MAC address of the interface this profile must be applied to.
					</li><li class="listitem">
						<code class="literal">Cloned Address</code> — If required, enter a different MAC address to use.
					</li><li class="listitem">
						<code class="literal">MTU</code> — If required, enter a specific <span class="emphasis"><em>maximum transmission unit</em></span> (<span class="strong strong"><strong>MTU</strong></span>) to use. The MTU value represents the size in bytes of the largest packet that the link layer will transmit. This value defaults to <code class="literal">1500</code> and does not generally need to be specified or changed.
					</li></ul></div><h4 id="bh-Configuring-IPv4-Settings-for-Wired-with-control-center">Configuring IPv4 settings for wired with control-center</h4><p>
				You can further configure <code class="literal">IPv4</code> settings in a wired connection. In the <code class="literal">Wired</code> dialog, click the <code class="literal">IPv4</code> menu entry:
			</p><div class="figure" id="figu-Configuring-IPv4-Settings"><p class="title"><strong>Figure 9.2. Configuring IPv4 Settings</strong></p><div class="figure-contents"><div class="mediaobject"><img src="IPv4-wired.png" alt="IPv4 wired"/></div></div></div><p>
				The <code class="literal">IPv4</code> menu entry allows you to configure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						the <code class="literal">IPv4 Method</code> used to connect to a network
					</li><li class="listitem">
						<code class="literal">DNS</code> and
					</li><li class="listitem">
						<code class="literal">Routes</code>
					</li></ul></div><p>
				<span class="strong strong"><strong>IPv4 Method</strong></span>
			</p><p>
				<code class="literal">Automatic (DHCP)</code> — Choose this option if the network you are connecting to uses Router Advertisements (RA) or a <code class="literal">DHCP</code> server to assign dynamic <code class="literal">IP</code> addresses.
			</p><p>
				<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign <code class="literal">IP</code> addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc3927">RFC 3927</a></span></em></span> with prefix <code class="literal">169.254/16</code>.
			</p><p>
				<code class="literal">Manual</code> — Choose this option if you want to assign <code class="literal">IP</code> addresses manually.
			</p><p>
				<code class="literal">Disable</code> — <code class="literal">IPv4</code> is disabled for this connection.
			</p><p>
				<span class="strong strong"><strong>DNS</strong></span>
			</p><p>
				In the <code class="literal">DNS</code> section, when <code class="literal">Automatic</code> is <code class="literal">ON</code>. Switch Automatic to <code class="literal">OFF</code> to enter the IP address of a DNS server you want to use separating the IPs by comma.
			</p><p>
				<span class="strong strong"><strong>Routes</strong></span>
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In the <code class="literal">Routes</code> section, when <code class="literal">Automatic</code> is <code class="literal">ON</code>, routes from Router Advertisements (RA) or DHCP are used, but you can also add additional static routes. When <code class="literal">OFF</code>, only static routes are used.
				</p></div></div><p>
				<code class="literal">Address</code> — Enter the <code class="literal">IP</code> address of a remote network, sub-net, or host.
			</p><p>
				<code class="literal">Netmask</code> — The netmask or prefix length of the <code class="literal">IP</code> address entered above.
			</p><p>
				<code class="literal">Gateway</code> — The <code class="literal">IP</code> address of the gateway leading to the remote network, sub-net, or host entered above.
			</p><p>
				<code class="literal">Metric</code> — A network cost, a preference value to give to this route. Lower values will be preferred over higher values.
			</p><p>
				<span class="strong strong"><strong>Use this connection only for resources on its network</strong></span>
			</p><p>
				Select this check box to prevent the connection from becoming the default route. Typical examples are where a connection is a VPN tunnel or a leased line to a head office and you do not want any Internet-bound traffic to pass over the connection. Selecting this option means that only traffic specifically destined for routes learned automatically over the connection or entered here manually will be routed over the connection.
			</p><h4 id="bh-Configuring-IPv6-Settings-for-Wired-with-control-center">Configuring IPv6 settings for wired with control center</h4><p>
				Alternatively, to configure <code class="literal">IPv6</code> settings in a wired connection, click the <code class="literal">IPv6</code> menu entry:
			</p><div class="figure" id="figu-Configuring-IPv6-Settings"><p class="title"><strong>Figure 9.3. Configuring IPv6 settings</strong></p><div class="figure-contents"><div class="mediaobject"><img src="IPv6-wired.png" alt="IPv6 wired"/></div></div></div><p>
				The <code class="literal">IPv6</code> menu entry allows you to configure:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						the <code class="literal">IPv6 Method</code> used to connect to a network
					</li><li class="listitem">
						<code class="literal">DNS</code> and
					</li><li class="listitem">
						<code class="literal">Routes</code>
					</li></ul></div><p>
				<span class="strong strong"><strong>IPv6 Method</strong></span>
			</p><p>
				<code class="literal">Automatic</code> — Choose this option to use <code class="literal">IPv6</code> Stateless Address AutoConfiguration (SLAAC) to create an automatic, stateless configuration based on the hardware address and Router Advertisements (RA).
			</p><p>
				<code class="literal">Automatic, DHCP only</code> — Choose this option to not use RA, but request information from <code class="literal">DHCPv6</code> directly to create a stateful configuration.
			</p><p>
				<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign <code class="literal">IP</code> addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc4862">RFC 4862</a></span></em></span> with prefix <code class="literal">FE80::0</code>.
			</p><p>
				<code class="literal">Manual</code> — Choose this option if you want to assign <code class="literal">IP</code> addresses manually.
			</p><p>
				<code class="literal">Disabled</code> — <code class="literal">IPv6</code> is disabled for this connection.
			</p><h4 id="bh-Configuring-802.1X-Security-for-Wired-with-control-center">Configuring 802.1X security for wired with control-center</h4><p>
				802.1X security is the name of the IEEE standard for <span class="emphasis"><em>port-based Network Access Control</em></span> (<span class="strong strong"><strong>PNAC</strong></span>). It is also called <span class="emphasis"><em>WPA Enterprise</em></span>. 802.1X security is a way of controlling access to a <span class="emphasis"><em>logical network</em></span> from a physical one. All clients who want to join the logical network must authenticate with the server (a router, for example) using the correct 802.1X authentication method.
			</p><p>
				To configure <code class="literal">802.1X Security</code> settings in a wired connection, click the <code class="literal">Security</code> menu entry:
			</p><div class="figure" id="figu-Configuring-802.1X-Security-for-Wired-with-control-center"><p class="title"><strong>Figure 9.4. Configuring 802.1X security for a wired with control-center</strong></p><div class="figure-contents"><div class="mediaobject"><img src="Security-wired.png" alt="Security wired"/></div></div></div><p>
				To enable settings configuration, set the symbolic power button to <code class="literal">ON</code>, and select from one of following authentication methods:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">TLS</code> for <span class="emphasis"><em>Transport Layer Security</em></span> and proceed to <a class="link" href="index.html#bh-Configuring_TLS_Settings" title="Configuring TLS settings">Configuring TLS Settings</a>
					</li><li class="listitem">
						<code class="literal">PWD</code> for <span class="emphasis"><em>Password</em></span> and proceed to <a class="link" href="index.html#bh-Configuring_PWD_Settings" title="Configuring PWD settings">Configuring PWD Settings</a>
					</li><li class="listitem">
						<code class="literal">FAST</code> for <span class="emphasis"><em>Flexible Authentication through Secure Tunneling</em></span> and proceed to <a class="link" href="index.html#bh-Configuring_FAST_Settings" title="Configuring FAST settings">Configuring FAST Settings</a>
					</li><li class="listitem">
						Select <code class="literal">Tunneled TLS</code> for <span class="emphasis"><em>Tunneled Transport Layer Security</em></span>, otherwise known as TTLS, or EAP-TTLS and proceed to <a class="link" href="index.html#bh-Configuring_Tunneled_TLS_Settings" title="Configuring tunneled TLS settings">Configuring Tunneled TLS Settings</a>
					</li><li class="listitem">
						Select <code class="literal">Protected EAP (PEAP)</code> for <span class="emphasis"><em>Protected Extensible Authentication Protocol</em></span> and proceed to <a class="link" href="index.html#bh-Configuring_Protected_EAP_PEAP_Settings" title="Configuring protected EAP (PEAP) settings">Configuring Protected EAP PEAP Settings</a>
					</li></ul></div><h3 id="bh-Configuring_TLS_Settings">Configuring TLS settings</h3><p>
				With Transport Layer Security (TLS), the client and server mutually authenticate using the TLS protocol.
			</p><p>
				Using TLS security requires the overhead of a public key infrastructure (PKI) to manage certificates. The benefit of using TLS security is that a compromised password does not allow access to the (W)LAN: an intruder must also have access to the authenticating client’s private key.
			</p><p>
				<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> does not determine the version of TLS supported. <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> gathers the parameters entered by the user and passes them to the daemon, <span class="strong strong"><strong><span class="application application">wpa_supplicant</span></strong></span>, that handles the procedure. It in turn uses OpenSSL to establish the TLS tunnel. OpenSSL itself negotiates the SSL/TLS protocol version. It uses the highest version both ends support.
			</p><p>
				To configure TLS settings, follow the procedure described in <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>. The following configuration settings are available:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Identity</code></span></dt><dd>
							Provide the identity of this server.
						</dd><dt><span class="term"><code class="literal">User certificate</code></span></dt><dd>
							Click to browse for, and select, a personal X.509 certificate file encoded with <span class="emphasis"><em>Distinguished Encoding Rules</em></span> (<span class="strong strong"><strong>DER</strong></span>) or <span class="emphasis"><em>Privacy Enhanced Mail</em></span> (<span class="strong strong"><strong>PEM</strong></span>).
						</dd><dt><span class="term"><code class="literal">CA certificate</code></span></dt><dd>
							Click to browse for, and select, an X.509 <span class="emphasis"><em>certificate authority</em></span> certificate file encoded with <span class="emphasis"><em>Distinguished Encoding Rules</em></span> (<span class="strong strong"><strong>DER</strong></span>) or <span class="emphasis"><em>Privacy Enhanced Mail</em></span> (<span class="strong strong"><strong>PEM</strong></span>).
						</dd><dt><span class="term"><code class="literal">Private key</code></span></dt><dd>
							Click to browse for, and select, a <span class="emphasis"><em>private key</em></span> file encoded with <span class="emphasis"><em>Distinguished Encoding Rules</em></span> (<span class="strong strong"><strong>DER</strong></span>), <span class="emphasis"><em>Privacy Enhanced Mail</em></span> (<span class="strong strong"><strong>PEM</strong></span>), or the <span class="emphasis"><em>Personal Information Exchange Syntax Standard</em></span> (<span class="strong strong"><strong>PKCS #12</strong></span>).
						</dd><dt><span class="term"><code class="literal">Private key password</code></span></dt><dd>
							Enter the password for the private key in the <code class="literal">Private key</code> field. Select <code class="literal">Show password</code> to make the password visible as you type it.
						</dd></dl></div><h3 id="bh-Configuring_PWD_Settings">Configuring PWD settings</h3><p>
				With Password (PWD), you can specify the username and the password.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Username</code></span></dt><dd>
							Enter the user name to be used in the authentication process.
						</dd><dt><span class="term"><code class="literal">Password</code></span></dt><dd>
							Enter the password to be used in the authentication process.
						</dd></dl></div><h3 id="bh-Configuring_FAST_Settings">Configuring FAST settings</h3><p>
				To configure FAST settings, follow the procedure described in <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>. The following configuration settings are available:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Anonymous Identity</code></span></dt><dd>
							Provide the identity of this server.
						</dd><dt><span class="term"><code class="literal">Allow automatic PAC provisioning</code></span></dt><dd>
							Select the check box to enable and then select from Anonymous, Authenticated, and Both.
						</dd><dt><span class="term"><code class="literal">PAC file</code></span></dt><dd>
							Click to browse for, and select, a <span class="emphasis"><em>protected access credential</em></span> (<span class="strong strong"><strong>PAC</strong></span>) file.
						</dd><dt><span class="term"><code class="literal">Inner authentication</code></span></dt><dd><p class="simpara">
							<code class="literal">GTC</code> — Generic Token Card.
						</p><p class="simpara">
							<code class="literal">MSCHAPv2</code> — Microsoft Challenge Handshake Authentication Protocol version 2.
						</p></dd><dt><span class="term"><code class="literal">Username</code></span></dt><dd>
							Enter the user name to be used in the authentication process.
						</dd><dt><span class="term"><code class="literal">Password</code></span></dt><dd>
							Enter the password to be used in the authentication process.
						</dd></dl></div><h3 id="bh-Configuring_Tunneled_TLS_Settings">Configuring tunneled TLS settings</h3><p>
				To configure Tunneled TLS settings, follow the procedure described in <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>. The following configuration settings are available:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Anonymous identity</code></span></dt><dd>
							This value is used as the unencrypted identity.
						</dd><dt><span class="term"><code class="literal">CA certificate</code></span></dt><dd>
							Click to browse for, and select, a Certificate Authority’s certificate.
						</dd><dt><span class="term"><code class="literal">Inner authentication</code></span></dt><dd><p class="simpara">
							<code class="literal">PAP</code> — Password Authentication Protocol.
						</p><p class="simpara">
							<code class="literal">MSCHAP</code> — Challenge Handshake Authentication Protocol.
						</p><p class="simpara">
							<code class="literal">MSCHAPv2</code> — Microsoft Challenge Handshake Authentication Protocol version 2.
						</p><p class="simpara">
							<code class="literal">MSCHAPv2 (no EAP)</code> — Microsoft Challenge Handshake Authentication Protocol version 2 without Extensive Authentication Protocol.
						</p><p class="simpara">
							<code class="literal">CHAP</code> — Challenge Handshake Authentication Protocol.
						</p><p class="simpara">
							<code class="literal">MD5</code> — Message Digest 5, a cryptographic hash function.
						</p><p class="simpara">
							<code class="literal">GTC</code> — Generic Token Card.
						</p></dd><dt><span class="term"><code class="literal">Username</code></span></dt><dd>
							Enter the user name to be used in the authentication process.
						</dd><dt><span class="term"><code class="literal">Password</code></span></dt><dd>
							Enter the password to be used in the authentication process.
						</dd></dl></div><h3 id="bh-Configuring_Protected_EAP_PEAP_Settings">Configuring protected EAP (PEAP) settings</h3><p>
				To configure Protected EAP (PEAP) settings, follow the procedure described in <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>. The following configuration settings are available:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Anonymous Identity</code></span></dt><dd>
							This value is used as the unencrypted identity.
						</dd><dt><span class="term"><code class="literal">CA certificate</code></span></dt><dd>
							Click to browse for, and select, a Certificate Authority’s certificate.
						</dd><dt><span class="term"><code class="literal">PEAP version</code></span></dt><dd>
							The version of Protected EAP to use. Automatic, 0 or 1.
						</dd><dt><span class="term"><code class="literal">Inner authentication</code></span></dt><dd><p class="simpara">
							<code class="literal">MSCHAPv2</code> — Microsoft Challenge Handshake Authentication Protocol version 2.
						</p><p class="simpara">
							<code class="literal">MD5</code> — Message Digest 5, a cryptographic hash function.
						</p><p class="simpara">
							<code class="literal">GTC</code> — Generic Token Card.
						</p></dd><dt><span class="term"><code class="literal">Username</code></span></dt><dd>
							Enter the user name to be used in the authentication process.
						</dd><dt><span class="term"><code class="literal">Password</code></span></dt><dd>
							Enter the password to be used in the authentication process.
						</dd></dl></div></section><section class="section" id="configuring-a-wired-ethernet-connection-using-nm-connection-editor_configuring-an-ethernet-connection"><div class="titlepage"><div><div><h2 class="title">9.6. Configuring an Ethernet connection using nm-connection-editor</h2></div></div></div><p>
				Ethernet connections are the most frequently used connection types in physical or virtual servers. This section describes how to configure this connection type in Red Hat Enterprise Linux.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A physical or virtual Ethernet device exists in the server’s configuration.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem">
						Select the <code class="literal gui">Ethernet</code> connection type, and click <span class="guibutton">Create</span>.
					</li><li class="listitem">
						On the <code class="literal gui">Ethernet</code> tab, select a device and, optionally, further Ethernet-related settings. 
						<span class="inlinemediaobject"><img src="ethernet-connection-settings.png" alt="ethernet connection settings"/></span>

					</li><li class="listitem">
						On the <code class="literal gui">IPv4 Settings</code> tab, configure the IPv4 settings. For example, set a static IPv4 address, network mask, default gateway, and DNS server: 
						<span class="inlinemediaobject"><img src="IPv4-settings-nm-connection-editor.png" alt="IPv4 settings nm connection editor"/></span>

					</li><li class="listitem">
						On the <code class="literal gui">IPv6 Settings</code> tab, configure the IPv6 settings. For example, set a static IPv6 address, network mask, default gateway, and DNS server: 
						<span class="inlinemediaobject"><img src="IPv6-settings-nm-connection-editor.png" alt="IPv6 settings nm connection editor"/></span>

					</li><li class="listitem">
						Save the connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li></ol></div></section></section><section class="chapter" id="managing-wi-fi-connections_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Managing Wi-Fi connections</h1></div></div></div><p>
			This section describes how to configure and manage Wi-Fi connections.
		</p><section class="section" id="configuring-a-wifi-using-nmcli_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.1. Configuring a Wi-Fi connection using nmcli</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>nmcli</strong></span> utility to be installed.
					</li><li class="listitem"><p class="simpara">
						Make sure that the WiFi radio is on (default):
					</p><pre class="literallayout">~]$ <code class="literal">nmcli radio wifi on</code></pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To create a Wi-Fi connection profile with static <code class="literal">IP</code> configuration:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli con add con-name <span class="emphasis"><em>MyCafe</em></span> ifname wlan0 type wifi ssid MyCafe ` `ip4 192.168.100.101/24 gw4 192.168.100.1</code></pre></li><li class="listitem"><p class="simpara">
						Set a DNS server. For example, to set <code class="literal systemitem">192.160.100.1</code> as the DNS server:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli con modify con-name <span class="emphasis"><em>MyCafe</em></span> ipv4.dns "192.160.100.1"</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, set a DNS search domain. For example, to set the search domain to <code class="literal systemitem">example.com</code>:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli con modify con-name <span class="emphasis"><em>MyCafe</em></span> ipv4.dns-search "example.com"</code></pre></li><li class="listitem"><p class="simpara">
						To check a specific property, for example <code class="literal">mtu</code>:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli connection show id <span class="emphasis"><em>MyCafe</em></span> | grep mtu</code>
802-11-wireless.mtu:                     auto</pre></li><li class="listitem"><p class="simpara">
						To change the property of a setting:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli connection modify id <span class="emphasis"><em>MyCafe</em></span> 802-11-wireless.mtu 1350</code></pre></li><li class="listitem"><p class="simpara">
						To verify the change:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli connection show id <span class="emphasis"><em>MyCafe</em></span> | grep mtu</code>
802-11-wireless.mtu:                     1350</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					See the <code class="literal">nm-settings(5)</code> man page for more information on properties and their settings.
				</p></div></section><section class="section" id="Configuring-a-Wi-Fi-connection-using-control_-center_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.2. Configuring a Wi-Fi connection using control-center</h2></div></div></div><p>
				When you connect to a <code class="literal">Wi-Fi</code>, the network settings are prefilled depending on the current network connection. This means that the settings will be detected automatically when the interface connects to a network.
			</p><p>
				This procedure describes how to use <span class="strong strong"><strong><span class="application application">control-center</span></strong></span> to manually configure the <code class="literal">Wi-Fi</code> settings.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Press the <span class="keycap"><strong>Super</strong></span> key to enter the <code class="literal">Activities Overview</code>, type <code class="literal">Wi-Fi</code> and press <span class="keycap"><strong>Enter</strong></span>. In the left-hand-side menu entry you see the list of available networks.
					</li><li class="listitem"><p class="simpara">
						Select the gear wheel icon to the right of the <code class="literal">Wi-Fi</code> connection name that you want to edit, and the editing connection dialog appears. The <span class="strong strong"><strong>Details</strong></span> menu window shows the connection details where you can make further configuration.
					</p><p class="simpara">
						<span class="strong strong"><strong>Options</strong></span>
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								If you select <code class="literal">Connect automatically</code>, <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> auto-connects to this connection whenever <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> detects that it is available. If you do not want <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> to connect automatically, clear the check box. Note that when the check box is clear, you have to select that connection manually in the network connection icon’s menu to cause it to connect.
							</li><li class="listitem">
								To make a connection available to other users, select the <code class="literal">Make available to other users</code> check box.
							</li><li class="listitem"><p class="simpara">
								You can also control the background data usage. If you leave <code class="literal">Restrict background data usage</code> unspecified (default), then <span class="strong strong"><strong>NetworkManager</strong></span> tries to download data that you are actively using. Otherwise, select the check box and <span class="strong strong"><strong>NetworkManager</strong></span> sets the connection as metered, and applies restriction on the background data usage.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									To delete a <code class="literal">Wi-Fi</code> connection, click the <code class="literal">Forget Connection</code> red box.
								</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Identity</strong></span> menu entry to see the basic configuration options.
					</p><p class="simpara">
						<code class="literal">SSID</code> — The <span class="emphasis"><em>Service Set Identifier</em></span> (SSID) of the access point (AP).
					</p><p class="simpara">
						<code class="literal">BSSID</code> — The <span class="emphasis"><em>Basic Service Set Identifier</em></span> (BSSID) is the MAC address, also known as a <span class="emphasis"><em>hardware address</em></span>, of the specific wireless access point you are connecting to when in <code class="literal">Infrastructure</code> mode. This field is blank by default, and you are able to connect to a wireless access point by <code class="literal">SSID</code> without having to specify its <code class="literal">BSSID</code>. If the BSSID is specified, it will force the system to associate to a specific access point only. For ad-hoc networks, the <code class="literal">BSSID</code> is generated randomly by the <span class="strong strong"><strong><span class="application application">mac80211</span></strong></span> subsystem when the ad-hoc network is created. It is not displayed by <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>.
					</p><p class="simpara">
						<code class="literal">MAC address</code> — The <span class="emphasis"><em>MAC address</em></span> allows you to associate a specific wireless adapter with a specific connection (or connections).
					</p><p class="simpara">
						<code class="literal">Cloned Address</code> — A cloned MAC address to use in place of the real hardware address. Leave blank unless required.
					</p></li><li class="listitem"><p class="simpara">
						For further IP address configuration , select the <span class="strong strong"><strong>IPv4</strong></span> and <span class="strong strong"><strong>IPv6</strong></span> menu entries.
					</p><p class="simpara">
						By default, both <code class="literal">IPv4</code> and <code class="literal">IPv6</code> are set to automatic configuration depending on current network settings. This means that addresses such as the local IP address, DNS address, and other settings will be detected automatically when the interface connects to a network. If a DHCP server assigns the IP configuration in this network, this is sufficient, but you can also provide static configuration in the <code class="literal">IPv4</code> and <code class="literal">IPv6</code> Settings. In the <span class="strong strong"><strong>IPv4</strong></span> and <span class="strong strong"><strong>IPv6</strong></span> menu entries, you can see the following settings:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<code class="literal">IPv4 Method</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Automatic (DHCP)</code> — Choose this option if the network you are connecting to uses Router Advertisements (RA) or a <code class="literal">DHCP</code> server to assign dynamic IP addresses. You can see the assigned IP address in the <span class="strong strong"><strong>Details</strong></span> menu entry.
									</li><li class="listitem">
										<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign IP addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc3927">RFC 3927</a></span></em></span> with prefix <code class="literal">169.254/16</code>.
									</li><li class="listitem">
										<code class="literal">Manual</code> — Choose this option if you want to assign IP addresses manually.
									</li><li class="listitem">
										<code class="literal">Disable</code> — <code class="literal">IPv4</code> is disabled for this connection.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<code class="literal">DNS</code>
							</p><p class="simpara">
								If <code class="literal">Automatic</code> is <code class="literal">ON</code>, and no DHCP server is available that assigns DNS servers to this connection, switch it to <code class="literal">OFF</code> to enter the IP address of a DNS server separating the IPs by comma.
							</p></li><li class="listitem"><p class="simpara">
								<code class="literal">Routes</code>
							</p><p class="simpara">
								Note that in the <code class="literal">Routes</code> section, when <code class="literal">Automatic</code> is <code class="literal">ON</code>, routes from Router Advertisements (RA) or DHCP are used, but you can also add additional static routes. When <code class="literal">OFF</code>, only static routes are used.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Address</code> — Enter the <code class="literal">IP</code> address of a remote network, sub-net, or host.
									</li><li class="listitem">
										<code class="literal">Netmask</code> — The netmask or prefix length of the IP address entered above.
									</li><li class="listitem">
										<code class="literal">Gateway</code> — The IP address of the gateway leading to the remote network, sub-net, or host entered above.
									</li><li class="listitem">
										<code class="literal">Metric</code> — A network cost, a preference value to give to this route. Lower values will be preferred over higher values.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<code class="literal">Use this connection only for resources on its network</code>
							</p><p class="simpara">
								Select this check box to prevent the connection from becoming the default route.
							</p><p class="simpara">
								Alternatively, to configure <code class="literal">IPv6</code> settings in a <code class="literal">Wi-Fi</code> connection, select the <span class="guibutton">IPv6</span> menu entry:
							</p></li><li class="listitem"><p class="simpara">
								<code class="literal">IPv6 Method</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Automatic</code> — Choose this option to use <code class="literal">IPv6</code> Stateless Address AutoConfiguration (SLAAC) to create an automatic, stateless configuration based on the hardware address and Router Advertisements (RA).
									</li><li class="listitem">
										<code class="literal">Automatic, DHCP only</code> — Choose this option to not use RA, but request information from <code class="literal">DHCPv6</code> directly to create a stateful configuration.
									</li><li class="listitem">
										<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign IP addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc4862">RFC 4862</a></span></em></span> with prefix <code class="literal">FE80::0</code>.
									</li><li class="listitem">
										<code class="literal">Manual</code> — Choose this option if you want to assign IP addresses manually.
									</li><li class="listitem">
										<code class="literal">Disable</code> — <code class="literal">IPv6</code> is disabled for this connection.
									</li></ul></div></li><li class="listitem">
								The <code class="literal">DNS</code>, <code class="literal">Routes</code>, <code class="literal">Use this connection only for resources on its network</code> fields are common to <code class="literal">IPv4</code> settings.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						To configure <code class="literal">Security</code> settings in a <code class="literal">Wi-Fi</code> connection, select the <span class="strong strong"><strong>Security</strong></span> menu entry. The following configuration options are available:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Security</strong></span>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">None</code> — Do not encrypt the Wi-Fi connection.
									</li><li class="listitem">
										<code class="literal">WEP 40/128-bit Key</code> — Wired Equivalent Privacy (WEP), from the IEEE 802.11 standard. Uses a single pre-shared key (PSK).
									</li><li class="listitem"><p class="simpara">
										<code class="literal">WEP 128-bit Passphrase</code> — An MD5 hash of the passphrase to derive a WEP key.
									</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
											If the <code class="literal">Wi-Fi</code> use no encryption, <code class="literal">WEP</code>, or <code class="literal">WPA</code>, do not use the network because it is insecure and everyone can read the data you send over this network.
										</p></div></div></li><li class="listitem">
										<code class="literal">LEAP</code> — Lightweight Extensible Authentication Protocol, from Cisco Systems.
									</li><li class="listitem">
										<code class="literal">Dynamic WEP (802.1X)</code> — WEP keys are changed dynamically.
									</li><li class="listitem">
										<code class="literal">WPA &amp; WPA2 Personal</code> — Wi-Fi Protected Access (WPA), from the draft IEEE 802.11i standard. A replacement for WEP. Wi-Fi Protected Access II (WPA2), from the 802.11i-2004 standard. Personal mode uses a pre-shared key (WPA-PSK).
									</li><li class="listitem">
										<code class="literal">WPA &amp; WPA2 Enterprise</code> — WPA for use with a RADIUS authentication server to provide IEEE 802.1X network access control.
									</li></ul></div></li><li class="listitem">
								<span class="strong strong"><strong>Password</strong></span> — Enter the password to be used in the authentication process.
							</li></ul></div></li><li class="listitem">
						Once you have finished the configuration, click the <span class="guibutton">Apply</span> button to save it.
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When you add a new connection by clicking the <span class="guibutton">plus</span> button, <span class="strong strong"><strong>NetworkManager</strong></span> creates a new configuration file for that connection and then opens the same dialog that is used for editing an existing connection. The difference between these dialogs is that an existing connection profile has a <span class="strong strong"><strong>Details</strong></span> menu entry.
				</p></div></div></section><section class="section" id="connecting-to-a-Wi-Fi-network-with-nmcli_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.3. Connecting to a Wi-Fi network with nmcli</h2></div></div></div><p>
				This procedure describes how to connect to a <code class="literal">wireless</code> connection using the <span class="strong strong"><strong>nmcli</strong></span> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>nmcli</strong></span> utility to be installed.
					</li><li class="listitem"><p class="simpara">
						Make sure that the WiFi radio is on (default):
					</p><pre class="literallayout">~]$ <code class="literal">nmcli radio wifi on</code></pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To refresh the available Wi-Fi connection list:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli device wifi rescan</code></pre></li><li class="listitem"><p class="simpara">
						To view the available Wi-Fi access points:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli dev wifi list</code>

IN-USE  SSID      MODE   CHAN  RATE        SIGNAL  BARS  SECURITY
...
        MyCafe    Infra  3     405 Mbit/s  85      ▂▄▆█  WPA1 WPA2</pre></li><li class="listitem"><p class="simpara">
						To connect to a Wi-Fi connection using <span class="strong strong"><strong>nmcli</strong></span>:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli dev wifi connect <span class="emphasis"><em>SSID-Name</em></span> password <span class="emphasis"><em>wireless-password</em></span></code></pre><p class="simpara">
						For example:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli dev wifi connect MyCafe password <span class="emphasis"><em>wireless-password</em></span></code></pre><p class="simpara">
						Note that if you want to disable the Wi-Fi state:
					</p><pre class="literallayout">~]$ <code class="literal">nmcli radio wifi off</code></pre></li></ol></div></section><section class="section" id="proc_connecting-to-a-hidden-wi-fi-network-using-nmcli_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.4. Connecting to a hidden Wi-Fi network using nmcli</h2></div></div></div><p>
				All access points have a Service Set Identifier (SSID) to identify them. However, an access point may be configured not to broadcast its SSID, in which case it is hidden, and will not show up in <span class="strong strong"><strong>NetworkManager’s</strong></span> list of Available networks.
			</p><p>
				This procedure shows how you can connect to a hidden network using the <span class="strong strong"><strong>nmcli</strong></span> tool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>nmcli</strong></span> utility to be installed. *
					</li><li class="listitem">
						To know the SSID, and password of the <code class="literal">Wi-Fi</code> connection.
					</li><li class="listitem">
						Make sure that the WiFi radio is on (default):
					</li></ul></div><pre class="literallayout">~]$ <code class="literal">nmcli radio wifi on</code></pre><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					Connect to the SSID that is hidden:
				</p></div><pre class="literallayout">~]$ <code class="literal">nmcli dev wifi connect <span class="emphasis"><em>SSID_Name</em></span> password <span class="emphasis"><em>wireless_password</em></span> hidden yes</code></pre></section><section class="section" id="connecting_to_a_wifi_network_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.5. Connecting to a Wi-Fi network using the GNOME GUI</h2></div></div></div><p>
				This procedure describes how you can connect to a wireless network to get access to the internet.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the <a class="link" href="index.html#figu-The-Network-Connection-Icon-Menu" title="Figure 8.1. The network connection icon menu">GNOME Shell network connection icon menu</a> from the top right-hand corner of the screen.
					</li><li class="listitem">
						Select <code class="literal">Wi-Fi Not Connected</code>.
					</li><li class="listitem">
						Click the <code class="literal">Select Network</code> option.
					</li><li class="listitem"><p class="simpara">
						Click the name of the network to which you want to connect, and then click <code class="literal">Connect</code>.
					</p><p class="simpara">
						Note that if you do not see the network, the network might be hidden.
					</p></li><li class="listitem"><p class="simpara">
						If the network is protected by a password or encryption keys are required, enter the password and click <code class="literal">Connect</code>.
					</p><p class="simpara">
						Note that if you do not know the password, contact the administrator of the Wi-Fi network.
					</p></li><li class="listitem">
						If the connection is successful, the name of the network is visible in the connection icon menu and the wireless indicator is on the top right-hand corner of the screen.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#Configuring-a-Wi-Fi-connection-using-control_-center_managing-wi-fi-connections" title="10.2. Configuring a Wi-Fi connection using control-center">Configuring a Wi-Fi connection using control center</a>.
					</li></ul></div></section><section class="section" id="configuring-802-1x-security-for-wi-fi-with-nmcli_managing-wi-fi-connections"><div class="titlepage"><div><div><h2 class="title">10.6. Configuring 802.1X security for Wi-Fi with nmcli</h2></div></div></div><p>
				This procedure describes how to set the network security settings in a <code class="literal">wireless</code> or a <code class="literal">Wired</code> connection using the <span class="strong strong"><strong>nmcli</strong></span> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong>nmcli</strong></span> utility is installed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						For a <code class="literal">wireless</code> connection, set the authenticated <code class="literal">key-mgmt</code> (key management) protocol. It configures the keying mechanism for a secure <code class="literal">wifi</code> connection.
					</li><li class="listitem">
						Configure the 802-1x authentication settings.
					</li></ol></div><div class="table" id="tabl-802-1x_authentication_settings"><p class="title"><strong>Table 10.1. The 802-1x authentication settings</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885370815360" scope="col">802-1x authentication setting</th><th align="left" valign="top" id="idm139885366793296" scope="col">Name</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885370815360"> <p>
								802-1x.identity
							</p>
							 </td><td align="left" valign="top" headers="idm139885366793296"> <p>
								Identity
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885370815360"> <p>
								802-1x.ca-cert
							</p>
							 </td><td align="left" valign="top" headers="idm139885366793296"> <p>
								CA certificate
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885370815360"> <p>
								802-1x.client-cert
							</p>
							 </td><td align="left" valign="top" headers="idm139885366793296"> <p>
								User certificate
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885370815360"> <p>
								802-1x.private-key
							</p>
							 </td><td align="left" valign="top" headers="idm139885366793296"> <p>
								Private key
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885370815360"> <p>
								802-1x.private-key-password
							</p>
							 </td><td align="left" valign="top" headers="idm139885366793296"> <p>
								Private key password
							</p>
							 </td></tr></tbody></table></div></div><p>
				For example, to configure WPA2 Enterprise using the EAP-TLS authentication method, apply the following settings:
			</p><pre class="screen">~]$ nmcli c add type wifi ifname <span class="emphasis"><em>wlan0</em></span> con-name <span class="emphasis"><em>'My Wifi Network'</em></span> \
      802-11-wireless.ssid <span class="emphasis"><em>'My Wifi'</em></span> \
      802-11-wireless-security.key-mgmt <span class="emphasis"><em>wpa-eap</em></span> \
      802-1x.eap tls \
      802-1x.identity <span class="emphasis"><em>identity@example.com</em></span> \
      802-1x.ca-cert /etc/pki/my-wifi/ca.crt \
      802-1x.client-cert /etc/pki/my-wifi/client.crt \
      802-1x.private-key /etc/pki/my-wifi/client.key \
      802-1x.private-key-password s3cr3t</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To configure a <code class="literal">wired</code> connection using the <span class="strong strong"><strong><span class="application application">nmcli</span></strong></span> tool, follow the same procedure as for a <code class="literal">wireless</code> connection, except the <code class="literal option">802-11-wireless.ssid</code> and <code class="literal option">802-11-wireless-security</code> key-mgmt settings.
				</p></div></div></section></section><section class="chapter" id="setting-a-default-gateway-in-an-existing-connection-profile_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Setting a default gateway in an existing connection profile</h1></div></div></div><p>
			In most situations, administrators set the default gateway when they create a connection. However, you can also set the default gateway after creating the connection.
		</p><p>
			This section describes how to set the default gateway in an existing network connection profile.
		</p><section class="section" id="setting-the-default-gateway-on-an-existing-connection-using-nmcli_setting-a-default-gateway-in-an-existing-connection-profile"><div class="titlepage"><div><div><h2 class="title">11.1. Setting the default gateway on an existing connection using nmcli</h2></div></div></div><p>
				In most situations, administrators set the default gateway when they create a connection as explained in, for example, <a class="xref" href="index.html#configuring_a_static_ethernet_connection_with_nmcli" title="9.1. Configuring a static Ethernet connection with nmcli">Section 9.1, “Configuring a static Ethernet connection with nmcli”</a>.
			</p><p>
				This section describes how to set or update the default gateway on a previously created connection using the <code class="literal systemitem">nmcli</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						At least one static IP address must be configured on the connection on which the default gateway will be set.
					</li><li class="listitem">
						If the user is logged in on a physical console, user permissions are sufficient. Otherwise, user must have <code class="literal systemitem">root</code> permissions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set the IP address of the default gateway.
					</p><p class="simpara">
						For example, to set the IPv4 address of the default gateway on the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection to <code class="literal systemitem">192.0.2.1</code>:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection modify <span class="emphasis"><em>example</em></span> ipv4.gateway "192.0.2.1"</code></pre><p class="simpara">
						For example, to set the IPv6 address of the default gateway on the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection to <code class="literal systemitem">2001:db8::1</code>:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection modify <span class="emphasis"><em>example</em></span> ipv6.gateway "2001:db8::1"</code></pre></li><li class="listitem"><p class="simpara">
						Restart the network connection for changes to take effect. For example, to restart the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection using the command line:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection up <span class="emphasis"><em>example</em></span></code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							All connections currently using this network connection are temporarily interrupted during the restart.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active.
					</p><p class="simpara">
						To display the IPv4 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -4 route</code>
default via 192.0.2.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre><p class="simpara">
						To display the IPv6 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -6 route</code>
default via 2001:db8::1 dev <span class="emphasis"><em>example</em></span> proto static metric 100 pref medium</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#configuring_a_static_ethernet_connection_with_nmcli" title="9.1. Configuring a static Ethernet connection with nmcli">Section 9.1, “Configuring a static Ethernet connection with nmcli”</a>
					</li></ul></div></section><section class="section" id="setting-the-default-gateway-on-an-existing-connection-using-the-nmcli-interactive-mode_setting-a-default-gateway-in-an-existing-connection-profile"><div class="titlepage"><div><div><h2 class="title">11.2. Setting the default gateway on an existing connection using the nmcli interactive mode</h2></div></div></div><p>
				In most situations, administrators set the default gateway when they create a connection as explained in, for example, <a class="xref" href="index.html#configuring_a_static_ethernet_connection_using_the_nmcli_interactive_editor" title="9.2. Configuring a static Ethernet connection using the nmcli interactive editor">Section 9.2, “Configuring a static Ethernet connection using the nmcli interactive editor”</a>.
			</p><p>
				This section describes how to set or update the default gateway on a previously created connection using the interactive mode of the <code class="literal systemitem">nmcli</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						At least one static IP address must be configured on the connection on which the default gateway will be set.
					</li><li class="listitem">
						If the user is logged in on a physical console, user permissions are sufficient. Otherwise, the user must have <code class="literal systemitem">root</code> permissions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open the <code class="literal systemitem">nmcli</code> interactive mode for the required connection. For example, to open the <code class="literal systemitem">nmcli</code> interactive mode for the <span class="emphasis"><em>example</em></span> connection:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection edit <span class="emphasis"><em>example</em></span></code></pre></li><li class="listitem"><p class="simpara">
						Set the default gateway.
					</p><p class="simpara">
						For example, to set the IPv4 address of the default gateway on the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection to <code class="literal systemitem">192.0.2.1</code>:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">set ipv4.gateway 192.0.2.1</code></pre><p class="simpara">
						For example, to set the IPv6 address of the default gateway on the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection to <code class="literal systemitem">2001:db8::1</code>:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">set ipv6.gateway 2001:db8::1</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the default gateway was set correctly:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">print</code>
...
ipv4.gateway:                           192.0.2.1
...
ipv6.gateway:                           2001:db8::1
...</pre></li><li class="listitem"><p class="simpara">
						Save the configuration:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">save persistent</code></pre></li><li class="listitem"><p class="simpara">
						Restart the network connection for changes to take effect:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">activate <span class="emphasis"><em>example</em></span></code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							All connections currently using this network connection are temporarily interrupted during the restart.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Leave the <code class="literal systemitem">nmcli</code> interactive mode:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">quit</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active.
					</p><p class="simpara">
						To display the IPv4 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -4 route</code>
default via 192.0.2.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre><p class="simpara">
						To display the IPv6 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -6 route</code>
default via 2001:db8::1 dev <span class="emphasis"><em>example</em></span> proto static metric 100 pref medium</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#configuring_a_static_ethernet_connection_using_the_nmcli_interactive_editor" title="9.2. Configuring a static Ethernet connection using the nmcli interactive editor">Section 9.2, “Configuring a static Ethernet connection using the nmcli interactive editor”</a>
					</li></ul></div></section><section class="section" id="setting-the-default-gateway-on-an-existing-connection-using-nm-connection-editor_setting-a-default-gateway-in-an-existing-connection-profile"><div class="titlepage"><div><div><h2 class="title">11.3. Setting the default gateway on an existing connection using nm-connection-editor</h2></div></div></div><p>
				In most situations, administrators set the default gateway when they create a connection as explained in, for example, <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>.
			</p><p>
				This section describes how to set or update the default gateway on a previously created connection using the <code class="literal application">nm-connection-editor</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						At least one static IP address must be configured on the connection on which the default gateway will be set.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ <code class="literal command">nm-connection-editor</code></pre></li><li class="listitem">
						Select the connection to modify, and click the gear wheel icon to edit the existing connection.
					</li><li class="listitem"><p class="simpara">
						Set the IPv4 default gateway. For example, to set the IPv4 address of the default gateway on the connection to <code class="literal systemitem">192.0.2.1</code>:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Open the <code class="literal gui">IPv4 Settings</code> tab.
							</li><li class="listitem"><p class="simpara">
								Enter the address in the <code class="literal gui">gateway</code> field next to the IP range the gateway’s address is within:
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="set-default-gw-in-nm-connection-editor_ipv4.png" alt="set default gw in nm connection editor ipv4"/></span>

							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Set the IPv6 default gateway. For example, to set the IPv6 address of the default gateway on the connection to <code class="literal systemitem">2001:db8::1</code>:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Open the <code class="literal gui">IPv6</code> tab.
							</li><li class="listitem"><p class="simpara">
								Enter the address in the <code class="literal gui">gateway</code> field next to the IP range the gateway’s address is within:
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="set-default-gw-in-nm-connection-editor_ipv6.png" alt="set default gw in nm connection editor ipv6"/></span>

							</p></li></ol></div></li><li class="listitem">
						Click <span class="guibutton">OK</span>.
					</li><li class="listitem">
						Click <span class="guibutton">Save</span>.
					</li><li class="listitem"><p class="simpara">
						Restart the network connection for changes to take effect. For example, to restart the <code class="literal systemitem"><span class="emphasis"><em>example</em></span></code> connection using the command line:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection up <span class="emphasis"><em>example</em></span></code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							All connections currently using this network connection are temporarily interrupted during the restart.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active.
					</p><p class="simpara">
						To display the IPv4 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -4 route</code>
default via 192.0.2.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre><p class="simpara">
						To display the IPv6 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -6 route</code>
default via 2001:db8::1 dev <span class="emphasis"><em>example</em></span> proto static metric 100 pref medium</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>
					</li></ul></div></section><section class="section" id="setting-the-default-gateway-on-an-existing-connection-using-control-center_setting-a-default-gateway-in-an-existing-connection-profile"><div class="titlepage"><div><div><h2 class="title">11.4. Setting the default gateway on an existing connection using control-center</h2></div></div></div><p>
				In most situations, administrators set the default gateway when they create a connection as explained in, for example, <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>.
			</p><p>
				This section describes how to set or update the default gateway on a previously created connection using the <code class="literal application">control-center</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						At least one static IP address must be configured on the connection on which the default gateway will be set.
					</li><li class="listitem">
						The network configuration of the connection is open in the <code class="literal application">control-center</code> application. See <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Set the IPv4 default gateway. For example, to set the IPv4 address of the default gateway on the connection to <code class="literal systemitem">192.0.2.1</code>:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Open the <code class="literal gui">IPv4</code> tab.
							</li><li class="listitem"><p class="simpara">
								Enter the address in the <code class="literal gui">gateway</code> field next to the IP range the gateway’s address is within:
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="set-default-gw-in-control-center_ipv4.png" alt="set default gw in control center ipv4"/></span>

							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Set the IPv6 default gateway. For example, to set the IPv6 address of the default gateway on the connection to <code class="literal systemitem">2001:db8::1</code>:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Open the <code class="literal gui">IPv6</code> tab.
							</li><li class="listitem"><p class="simpara">
								Enter the address in the <code class="literal gui">gateway</code> field next to the IP range the gateway’s address is within:
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="set-default-gw-in-control-center_ipv6.png" alt="set default gw in control center ipv6"/></span>

							</p></li></ol></div></li><li class="listitem">
						Click <span class="guibutton">Apply</span>.
					</li><li class="listitem"><p class="simpara">
						Back in the <code class="literal gui">Network</code> window, disable and re-enable the connection by switching the button for the connection to <span class="guibutton">Off</span> and back to <span class="guibutton">On</span> for changes to take effect.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							All connections currently using this network connection are temporarily interrupted during the restart.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active.
					</p><p class="simpara">
						To display the IPv4 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -4 route</code>
default via 192.0.2.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre><p class="simpara">
						To display the IPv6 default gateway:
					</p><pre class="literallayout">$ <code class="literal command">ip -6 route</code>
default via 2001:db8::1 dev <span class="emphasis"><em>example</em></span> proto static metric 100 pref medium</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>
					</li></ul></div></section></section><section class="chapter" id="configuring-a-static-route_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 12. Configuring a static route</h1></div></div></div><p>
			By default, and if a default gateway is configured, Red Hat Enterprise Linux forwards traffic for networks that are not directly connected to the host to the default gateway. Using a static route, you can configure that Red Hat Enterprise Linux forwards the traffic for a specific host or network to a different router than the default gateway. This section describes how to configure a static route.
		</p><section class="section" id="how-to-use-the-nmcli-command-to-configure-a-static-route_configuring-a-static-route"><div class="titlepage"><div><div><h2 class="title">12.1. How to use the nmcli command to configure a static route</h2></div></div></div><p>
				To configure a static route, use the <code class="literal systemitem">nmcli</code> utility with the following syntax:
			</p><pre class="literallayout">$ <code class="literal command">nmcli connection modify <span class="emphasis"><em>connection_name</em></span> ipv4.routes "<span class="emphasis"><em>ip</em></span>[/<span class="emphasis"><em>prefix</em></span>] [<span class="emphasis"><em>next_hop</em></span>] [<span class="emphasis"><em>metric</em></span>] [<span class="emphasis"><em>attribute</em></span>=<span class="emphasis"><em>value</em></span>] [<span class="emphasis"><em>attribute</em></span>=<span class="emphasis"><em>value</em></span>] ..."</code></pre><p>
				The command supports the following route attributes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal command">table=<span class="emphasis"><em>n</em></span></code>
					</li><li class="listitem">
						<code class="literal command">src=<span class="emphasis"><em>address</em></span></code>
					</li><li class="listitem">
						<code class="literal command">tos=<span class="emphasis"><em>n</em></span></code>
					</li><li class="listitem">
						<code class="literal command">onlink=true|false</code>
					</li><li class="listitem">
						<code class="literal command">window=<span class="emphasis"><em>n</em></span></code>
					</li><li class="listitem">
						<code class="literal command">cwnd=<span class="emphasis"><em>n</em></span></code>
					</li><li class="listitem">
						<code class="literal command">mtu=<span class="emphasis"><em>n</em></span></code>
					</li><li class="listitem">
						<code class="literal command">lock-window=true|false</code>
					</li><li class="listitem">
						<code class="literal command">lock-cwdn=true|false</code>
					</li><li class="listitem">
						<code class="literal command">lock-mtu=true|false</code>
					</li></ul></div><p>
				If you use the <code class="literal command">ipv4.routes</code> sub-command, <code class="literal command">nmcli</code> overrides all current settings of this parameter. To add an additional route, use the <code class="literal command">nmcli connection modify <span class="emphasis"><em>connection_name</em></span> +ipv4.routes "…​"</code> command. In a similar way, you can use <code class="literal command">nmcli connection modify <span class="emphasis"><em>connection_name</em></span> -ipv4.routes "…​"</code> to remove a specific route.
			</p></section><section class="section" id="configuring-a-static-route-using-a-nmcli-command_configuring-a-static-route"><div class="titlepage"><div><div><h2 class="title">12.2. Configuring a static route using a nmcli command</h2></div></div></div><p>
				You can add a static route to the configuration of a network connection using the <code class="literal command">nmcli connection modify</code> command.
			</p><p>
				The procedure in this section describes how to add a route to the <code class="literal systemitem">192.0.2.0/24</code> network that uses the gateway running on <code class="literal systemitem">198.51.100.1</code>, which is reachable through the <code class="literal systemitem">example</code> connection.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The network is configured
					</li><li class="listitem">
						The gateway for the static route must be directly reachable on the interface.
					</li><li class="listitem">
						If the user is logged in on a physical console, user permissions are sufficient. Otherwise, the command requires <code class="literal systemitem">root</code> permissions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add the static route to the <code class="literal systemitem">example</code> connection:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection modify <span class="emphasis"><em>example</em></span> +ipv4.routes "192.0.2.0/24 198.51.100.1"</code></pre><p class="simpara">
						To set multiple routes in one step, pass the individual routes comma-separated to the command. For example, to add a route to the <code class="literal systemitem">192.0.2.0/24</code> and <code class="literal systemitem">203.0.113.0/24</code> networks, both routed through the <code class="literal systemitem">198.51.100.1</code> gateway, enter:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection modify <span class="emphasis"><em>example</em></span> +ipv4.routes "192.0.2.0/24 198.51.100.1, 203.0.113.0/24 198.51.100.1"</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the routes were added correctly to the configuration:
					</p><pre class="literallayout">$ <code class="literal command">nmcli connection show <span class="emphasis"><em>example</em></span></code>
...
ipv4.routes:        { ip = 192.0.2.1/24, nh = 198.51.100.1 }
...</pre></li><li class="listitem"><p class="simpara">
						Restart the network connection:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection up <span class="emphasis"><em>example</em></span></code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							Restarting the connection briefly disrupts connectivity on that interface.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active:
					</p><pre class="literallayout">$ <code class="literal command">ip route</code>
...
192.0.2.0/24 via 198.51.100.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about <code class="literal systemitem">nmcli</code>, see the <code class="literal">nmcli(1)</code> man page.
					</li></ul></div></section><section class="section" id="configuring-a-static-route-using-control-center_configuring-a-static-route"><div class="titlepage"><div><div><h2 class="title">12.3. Configuring a static route using control-center</h2></div></div></div><p>
				You can use <code class="literal application">control-center</code> in GNOME to add a static route to the configuration of a network connection.
			</p><p>
				The procedure in this section describes how to add a route to the <code class="literal systemitem">192.0.2.0/24</code> network that uses the gateway running on <code class="literal systemitem">198.51.100.1</code>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The network is configured.
					</li><li class="listitem">
						The gateway for the static route must be directly reachable on the interface.
					</li><li class="listitem">
						The network configuration of the connection is opened in the <code class="literal application">control-center</code> application. See <a class="xref" href="index.html#Configuring-a-Wired-Ethernet-Connection-Using-control-center_configuring-an-ethernet-connection" title="9.5. Configuring an Ethernet connection using control-center">Section 9.5, “Configuring an Ethernet connection using control-center”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Open the <code class="literal gui">IPv4</code> tab.
					</li><li class="listitem">
						Optionally, disable automatic routes by clicking the <span class="guibutton">On</span> button in the <code class="literal systemitem">Routes</code> section of the <code class="literal gui">IPv4</code> tab to use only static routes. If automatic routes are enabled, Red Hat Enterprise Linux uses static routes and routes received from a DHCP server.
					</li><li class="listitem"><p class="simpara">
						Enter the address, netmask, gateway, and optionally a metric value:
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="IPv4-static-route-in-control-center.png" alt="IPv4 static route in control center"/></span>

					</p></li><li class="listitem">
						Click <span class="guibutton">Apply</span>.
					</li><li class="listitem"><p class="simpara">
						Back in the <code class="literal gui">Network</code> window, disable and re-enable the connection by switching the button for the connection to <span class="guibutton">Off</span> and back to <span class="guibutton">On</span> for changes to take effect.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							Restarting the connection briefly disrupts connectivity on that interface.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active:
					</p><pre class="literallayout">$ <code class="literal command">ip route</code>
...
192.0.2.0/24 via 198.51.100.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre></li></ol></div></section><section class="section" id="configuring-a-static-route-using-nm-connection-editor_configuring-a-static-route"><div class="titlepage"><div><div><h2 class="title">12.4. Configuring a static route using nm-connection-editor</h2></div></div></div><p>
				You can use the <code class="literal application">nm-connection-editor</code> application to add a static route to the configuration of a network connection.
			</p><p>
				The procedure in this section describes how to add a route to the <code class="literal systemitem">192.0.2.0/24</code> network that uses the gateway running on <code class="literal systemitem">198.51.100.1</code>, which is reachable trough the <code class="literal systemitem">example</code> connection.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The network is configured.
					</li><li class="listitem">
						The gateway for the static route must be directly reachable on the interface.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ <code class="literal command">nm-connection-editor</code></pre></li><li class="listitem">
						Select the <code class="literal systemitem">example</code> connection and click the gear wheel icon to edit the existing connection.
					</li><li class="listitem">
						Open the <code class="literal gui">IPv4</code> tab.
					</li><li class="listitem">
						Click the <span class="guibutton">Routes</span> button.
					</li><li class="listitem"><p class="simpara">
						Click the <span class="guibutton">Add</span> button and enter the address, netmask, gateway, and optionally a metric value.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="IPv4-static-route-in-nm-connection-editor.png" alt="IPv4 static route in nm connection editor"/></span>

					</p></li><li class="listitem">
						Click <span class="guibutton">OK</span>.
					</li><li class="listitem">
						Click <span class="guibutton">Save</span>.
					</li><li class="listitem"><p class="simpara">
						Restart the network connection for changes to take effect. For example, to restart the <code class="literal systemitem">example</code> connection using the command line:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection up <span class="emphasis"><em>example</em></span></code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active:
					</p><pre class="literallayout">$ <code class="literal command">ip route</code>
...
192.0.2.0/24 via 198.51.100.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre></li></ol></div></section><section class="section" id="configuring-a-static-route-using-the-nmcli-interactive-mode_configuring-a-static-route"><div class="titlepage"><div><div><h2 class="title">12.5. Configuring a static route using the nmcli interactive mode</h2></div></div></div><p>
				You can use the interactive mode of the <code class="literal systemitem">nmcli</code> utility to add a static route to the configuration of a network connection.
			</p><p>
				The procedure in this section describes how to add a route to the <code class="literal systemitem">192.0.2.0/24</code> network that uses the gateway running on <code class="literal systemitem">198.51.100.1</code>, which is reachable trough the <code class="literal systemitem">example</code> connection.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The network is configured
					</li><li class="listitem">
						The gateway for the static route must be directly reachable on the interface.
					</li><li class="listitem">
						If the user is logged in on a physical console, user permissions are sufficient. Otherwise, the command requires <code class="literal systemitem">root</code> permissions.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open the <code class="literal systemitem">nmcli</code> interactive mode for the <code class="literal systemitem">example</code> connection:
					</p><pre class="literallayout">$ <code class="literal command">sudo nmcli connection edit <span class="emphasis"><em>example</em></span></code></pre></li><li class="listitem"><p class="simpara">
						Add the static route:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">set ipv4.routes 192.0.2.0/24 198.51.100.1</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the routes were added correctly to the configuration:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">print</code>
...
ipv4.routes:        { ip = 192.0.2.1/24, nh = 198.51.100.1 }
...</pre><p class="simpara">
						The <code class="literal systemitem">ip</code> attribute displays the network to route and the <code class="literal systemitem">nh</code> attribute the gateway (next hop).
					</p></li><li class="listitem"><p class="simpara">
						Save the configuration:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">save persistent</code></pre></li><li class="listitem"><p class="simpara">
						Restart the network connection:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">activate <span class="emphasis"><em>example</em></span></code></pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							When you restart the connection, all connections currently using this connection will be temporarily interrupted.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Leave the <code class="literal systemitem">nmcli</code> interactive mode:
					</p><pre class="literallayout">nmcli&gt; <code class="literal command">quit</code></pre></li><li class="listitem"><p class="simpara">
						Optionally, verify that the route is active:
					</p><pre class="literallayout">$ <code class="literal command">ip route</code>
...
192.0.2.0/24 via 198.51.100.1 dev <span class="emphasis"><em>example</em></span> proto static metric 100</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For the list of commands available in the interactive mode, enter <code class="literal command">help</code> in the interactive shell.
					</li></ul></div></section></section><section class="chapter" id="configuring-policy-based-routing-to-define-alternative-routes_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Configuring policy-based routing to define alternative routes</h1></div></div></div><p>
			By default, the kernel in RHEL decides where to forward network packets based on the destination address using a routing table. Policy-based routing enables you to configure complex routing scenarios. For example, you can route packets based on various criteria, such as the source address, packet metadata, or protocol.
		</p><p>
			This section describes of how to configure policy-based routing using NetworkManager.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				On systems that use NetworkManager, only the <code class="literal systemitem">nmcli</code> utility supports setting routing rules and assigning routes to specific tables.
			</p></div></div><section class="section" id="routing-traffic-from-a-specific-subnet-to-a-different-default-gateway_configuring-policy-based-routing-to-define-alternative-routes"><div class="titlepage"><div><div><h2 class="title">13.1. Routing traffic from a specific subnet to a different default gateway</h2></div></div></div><p>
				This section describes how to configure RHEL as a router that, by default, routes all traffic to internet provider A using the default route. Using policy-based routing, RHEL routes traffic received from the internal workstations subnet to provider B.
			</p><p>
				The procedure assumes the following network topology:
			</p><p>
				<span class="inlinemediaobject"><img src="policy-based-routing.png" alt="policy based routing"/></span>

			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						The RHEL router you want to set up in the procedure has four network interfaces:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The <code class="literal systemitem">enp7s0</code> interface is connected to the network of provider A. The gateway IP in the provider’s network is <code class="literal systemitem">198.51.100.2</code>, and the network uses a <code class="literal command">/30</code> network mask.
							</li><li class="listitem">
								The <code class="literal systemitem">enp1s0</code> interface is connected to the network of provider B. The gateway IP in the provider’s network is <code class="literal systemitem">192.0.2.2</code>, and the network uses a <code class="literal command">/30</code> network mask.
							</li><li class="listitem">
								The <code class="literal systemitem">enp8s0</code> interface is connected to the <code class="literal systemitem">10.0.0.0/24</code> subnet with internal workstations.
							</li><li class="listitem">
								The <code class="literal systemitem">enp9s0</code> interface is connected to the <code class="literal systemitem">203.0.113.0/24</code> subnet with the company’s servers.
							</li></ul></div></li><li class="listitem">
						Hosts in the internal workstations subnet use <code class="literal systemitem">10.0.0.1</code> as default gateway. In the procedure, you assign this IP address to the <code class="literal systemitem">enp8s0</code> network interface of the router.
					</li><li class="listitem">
						Hosts in the server subnet use <code class="literal systemitem">203.0.113.1</code> as default gateway. In the procedure, you assign this IP address to the <code class="literal systemitem">enp9s0</code> network interface of the router.
					</li><li class="listitem">
						The <code class="literal systemitem">firewalld</code> service is enabled and active, which is the default.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure the network interface to provider A:
					</p><pre class="literallayout"># nmcli connection add type ethernet con-name Provider-A ifname enp7s0 ipv4.method manual ipv4.addresses 198.51.100.1/30 ipv4.gateway 198.51.100.2 ipv4.dns 198.51.100.200 connection.zone external</pre><p class="simpara">
						The <code class="literal command">nmcli connection add</code> creates a NetworkManager connection profile. The following list describes the options of the command:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal parameter">type</code> <code class="literal option">ethernet</code>: Defines that the connection type is Ethernet.
							</li><li class="listitem">
								<code class="literal parameter">con-name</code> <code class="literal option"><span class="emphasis"><em>connection_name</em></span></code>: Sets the name of the profile. Use a meaningful name to avoid confusion.
							</li><li class="listitem">
								<code class="literal parameter">ifname</code> <code class="literal option"><span class="emphasis"><em>network_device</em></span></code>: Sets the network interface.
							</li><li class="listitem">
								<code class="literal parameter">ipv4.method</code> <code class="literal option">manual</code>: Enables to configure a static IP address.
							</li><li class="listitem">
								<code class="literal parameter">ipv4.addresses</code> <code class="literal option"><span class="emphasis"><em>IP_address</em></span>/<span class="emphasis"><em>subnet_mask</em></span></code>: Sets the IPv4 addresses and subnet mask.
							</li><li class="listitem">
								<code class="literal parameter">ipv4.gateway</code> <code class="literal option"><span class="emphasis"><em>IP_address</em></span></code>: Sets the default gateway address.
							</li><li class="listitem">
								<code class="literal parameter">ipv4.dns</code> <code class="literal option"><span class="emphasis"><em>IP_of_DNS_server</em></span></code>: Sets the IPv4 address of the DNS server.
							</li><li class="listitem">
								<code class="literal parameter">connection.zone</code> <code class="literal option"><span class="emphasis"><em>firewalld_zone</em></span></code>: Assigns the network interface to the defined <code class="literal systemitem">firewalld</code> zone. Note that <code class="literal systemitem">firewalld</code> automatically enables masquerading interfaces assigned to the <code class="literal command">external</code> zone.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Configure the network interface to provider B:
					</p><pre class="literallayout"># nmcli connection add type ethernet con-name Provider-B ifname enp1s0 ipv4.method manual ipv4.addresses 192.0.2.1/30 ipv4.routes "0.0.0.0/1 192.0.2.2 table=5000, 128.0.0.0/1 192.0.2.2 table=5000" connection.zone external</pre><p class="simpara">
						This command uses the <code class="literal parameter">ipv4.routes</code> parameter instead of <code class="literal parameter">ipv4.gateway</code> to set the default gateway. This is required to assign the default gateway for this connection to a different routing table (<code class="literal command">5000</code>) than the default. NetworkManager automatically creates this new routing table when the connection is activated.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The <code class="literal command">nmcli</code> utility does not support using <code class="literal systemitem">0.0.0.0/0</code> for the default gateway in <code class="literal parameter">ipv4.gateway</code>. To work around this problem, the command creates separate routes for both the <code class="literal systemitem">0.0.0.0/1</code> and <code class="literal systemitem">128.0.0.0/1</code> subnets, which covers also the full IPv4 address space.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Configure the network interface to the internal workstations subnet:
					</p><pre class="literallayout"># nmcli connection add type ethernet con-name Internal-Workstations ifname enp8s0 ipv4.method manual ipv4.addresses 10.0.0.1/24 ipv4.routes "10.0.0.0/24 src=192.0.2.1 table=5000" ipv4.routing-rules "priority 5 from 10.0.0.0/24 table 5000" connection.zone internal</pre><p class="simpara">
						This command uses the <code class="literal parameter">ipv4.routes</code> parameter to add a static route to the routing table with ID <code class="literal command">5000</code>. This static route for the <code class="literal systemitem">10.0.0.0/24</code> subnet uses the IP of the local network interface to provider B (<code class="literal systemitem">192.0.2.1</code>) as next hop.
					</p><p class="simpara">
						Additionally, the command uses the <code class="literal parameter">ipv4.routing-rules</code> parameter to add a routing rule with priority <code class="literal command">5</code> that routes traffic from the <code class="literal systemitem">10.0.0.0/24</code> subnet to table <code class="literal command">5000</code>. Low values have a high priority.
					</p><p class="simpara">
						Note that the syntax in the <code class="literal parameter">ipv4.routing-rules</code> parameter is the same as in an <code class="literal command">ip route add</code> command, except that <code class="literal parameter">ipv4.routing-rules</code> always requires specifying a priority.
					</p></li><li class="listitem"><p class="simpara">
						Configure the network interface to the server subnet:
					</p><pre class="literallayout"># nmcli connection add type ethernet con-name Servers ifname enp9s0 ipv4.method manual ipv4.addresses 203.0.113.1/24 connection.zone internal</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						On a RHEL host in the internal workstation subnet:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the <code class="literal package">traceroute</code> package:
							</p><pre class="literallayout"># yum install traceroute</pre></li><li class="listitem"><p class="simpara">
								Use the <code class="literal systemitem">traceroute</code> utility to display the route to a host on the internet:
							</p><pre class="literallayout"># traceroute redhat.com
traceroute to redhat.com (209.132.183.105), 30 hops max, 60 byte packets
 1  10.0.0.1 (10.0.0.1)     0.337 ms  0.260 ms  0.223 ms
 2  192.0.2.1 (192.0.2.1)   0.884 ms  1.066 ms  1.248 ms
 ...</pre><p class="simpara">
								The output of the command displays that the router sends packets over <code class="literal systemitem">192.0.2.1</code>, which is the network of provider B.
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						On a RHEL host in the server subnet:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Install the <code class="literal package">traceroute</code> package:
							</p><pre class="literallayout"># yum install traceroute</pre></li><li class="listitem"><p class="simpara">
								Use the <code class="literal systemitem">traceroute</code> utility to display the route to a host on the internet:
							</p><pre class="literallayout"># traceroute redhat.com
traceroute to redhat.com (209.132.183.105), 30 hops max, 60 byte packets
 1  203.0.113.1 (203.0.113.1)    2.179 ms  2.073 ms  1.944 ms
 2  198.51.100.2 (198.51.100.2)  1.868 ms  1.798 ms  1.549 ms
 ...</pre><p class="simpara">
								The output of the command displays that the router sends packets over <code class="literal systemitem">198.51.100.2</code>, which is the network of provider A.
							</p></li></ol></div></li></ol></div><div class="formalpara"><p class="title"><strong>Troubleshooting steps</strong></p><p>
					On the RHEL router:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Display the rule list:
					</p><pre class="literallayout"># ip rule list
0:	from all lookup local
<span class="strong strong"><strong>5: from 10.0.0.0/24 lookup 5000</strong></span>
32766:	from all lookup main
32767:	from all lookup default</pre><p class="simpara">
						By default, RHEL contains rules for the tables <code class="literal command">local</code>, <code class="literal command">main</code>, and <code class="literal command">default</code>.
					</p></li><li class="listitem"><p class="simpara">
						Display the routes in table <code class="literal command">5000</code>:
					</p><pre class="literallayout"># ip route list table 5000
0.0.0.0/1 via 192.0.2.2 dev enp1s0 proto static metric 100
10.0.0.0/24 dev enp8s0 proto static scope link src 192.0.2.1 metric 102
128.0.0.0/1 via 192.0.2.2 dev enp1s0 proto static metric 100</pre></li><li class="listitem"><p class="simpara">
						Display which interfaces are assigned to which firewall zones:
					</p><pre class="literallayout"># firewall-cmd --get-active-zones
external
  interfaces: enp1s0 enp7s0
internal
  interfaces: enp8s0 enp9s0</pre></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal systemitem">external</code> zone has masquerading enabled:
					</p><pre class="literallayout"># firewall-cmd --info-zone=external
external (active)
  target: default
  icmp-block-inversion: no
  interfaces: enp1s0 enp7s0
  sources:
  services: ssh
  ports:
  protocols:
  <span class="strong strong"><strong>masquerade: yes</strong></span>
  ...</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about the <code class="literal parameter">ipv4.*</code> parameters you can set in the <code class="literal command">nmcli connection add</code> command, see the <code class="literal citetitle">IPv4 settings</code> section in the <code class="literal citetitle">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For further details about the <code class="literal parameter">connection.*</code> parameters you can set in the <code class="literal command">nmcli connection add</code> command, see the <code class="literal citetitle">Connection settings</code> section in the <code class="literal citetitle">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For further details about managing NetworkManager connections using <code class="literal command">nmcli</code>, see the <code class="literal citetitle">Connection management commands</code> section in the <code class="literal citetitle">nmcli(1)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="configuring-vlan-tagging_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Configuring VLAN tagging</h1></div></div></div><p>
			This section describes how to configure Virtual Local Area Network (VLAN). A VLAN is a logical network within a physical network. The VLAN interface tags packets with the VLAN ID as they pass through the interface, and removes tags of returning packets.
		</p><p>
			You create a VLAN interface on top of another interface, such as Ethernet, bond, team, or bridge. This interface is called the <code class="literal systemitem">parent interface</code>.
		</p><section class="section" id="configuring-vlan-tagging-using-nm-connection-editor_configuring-vlan-tagging"><div class="titlepage"><div><div><h2 class="title">14.1. Configuring VLAN tagging using nm-connection-editor</h2></div></div></div><p>
				This section describes how to configure Virtual Local Area Network (VLAN) tagging using the <code class="literal command">nm-connection-editor</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The interface you plan to use as a parent to the virtual VLAN interface supports VLAN tags.
					</li><li class="listitem"><p class="simpara">
						If you configure the VLAN on top of a bond interface:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The slaves of the bond are up.
							</li><li class="listitem">
								The bond is not configured with the <code class="literal option">fail_over_mac=follow</code> option. A VLAN virtual device cannot change its MAC address to match the parent’s new MAC address. In such a case, the traffic would still be sent with the then incorrect source MAC address.
							</li></ul></div></li><li class="listitem">
						The switch the host is connected to is configured to support VLAN tags. For details, see the documentation of your switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem">
						Select the <code class="literal gui">VLAN</code> connection type, and click <span class="guibutton">Create</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">VLAN</code> tab:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Select the parent interface.
							</li><li class="listitem">
								Select the VLAN id. Note that the VLAN must be within the range from <code class="literal command">0</code> to <code class="literal command">4094</code>.
							</li><li class="listitem">
								By default, the VLAN connection inherits the maximum transmission unit (MTU) from the parent interface. Optionally, set a different MTU value.
							</li><li class="listitem"><p class="simpara">
								Optionally, set the name of the VLAN interface and further VLAN-specific options.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="vlan-settings-nm-connection-editor.png" alt="vlan settings nm connection editor"/></span>

							</p></li></ol></div></li><li class="listitem">
						On the <code class="literal gui">IPv4 Settings</code> tab, configure the IPv4 settings. For example, set a static IPv4 address, network mask, default gateway, and DNS server: 
						<span class="inlinemediaobject"><img src="vlan-IPv4-settings-nm-connection-editor.png" alt="vlan IPv4 settings nm connection editor"/></span>

					</li><li class="listitem">
						On the <code class="literal gui">IPv6 Settings</code> tab, configure the IPv6 settings. For example, set a static IPv6 address, network mask, default gateway, and DNS server: 
						<span class="inlinemediaobject"><img src="vlan-IPv6-settings-nm-connection-editor.png" alt="vlan IPv6 settings nm connection editor"/></span>

					</li><li class="listitem">
						Click <span class="guibutton">Save</span> to save the VLAN connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li><li class="listitem"><p class="simpara">
						Optionally, verify the settings:
					</p><pre class="literallayout"># ip -d addr show <span class="emphasis"><em>vlan10</em></span>
4: vlan10@enp1s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether 52:54:00:d5:e0:fb brd ff:ff:ff:ff:ff:ff promiscuity 0
    vlan protocol 802.1Q id 10 &lt;REORDER_HDR&gt; numtxqueues 1 numrxqueues 1 gso_max_size 65536 gso_max_segs 65535
    inet 192.0.2.1/24 brd 192.0.2.255 scope global noprefixroute vlan10
       valid_lft forever preferred_lft forever
    inet6 fe80::8dd7:9030:6f8e:89e6/64 scope link noprefixroute
       valid_lft forever preferred_lft forever</pre></li></ol></div></section><section class="section" id="configuring-vlan-tagging-using-nmcli-commands_configuring-vlan-tagging"><div class="titlepage"><div><div><h2 class="title">14.2. Configuring VLAN tagging using nmcli commands</h2></div></div></div><p>
				This section describes how to configure Virtual Local Area Network (VLAN) tagging using <code class="literal command">nmcli</code> commands.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The interface you plan to use as a parent to the virtual VLAN interface supports VLAN tags.
					</li><li class="listitem"><p class="simpara">
						If you configure the VLAN on top of a bond interface:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The slaves of the bond are up.
							</li><li class="listitem">
								The bond is not configured with the <code class="literal option">fail_over_mac=follow</code> option. A VLAN virtual device cannot change its MAC address to match the parent’s new MAC address. In such a case, the traffic would still be sent with the then incorrect source MAC address.
							</li></ul></div></li><li class="listitem">
						The switch the host is connected to is configured to support VLAN tags. For details, see the documentation of your switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optionally, display the available network interfaces:
					</p><pre class="literallayout"># ip address show
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp1s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:d5:e0:fb brd ff:ff:ff:ff:ff:ff</pre></li><li class="listitem"><p class="simpara">
						Create the VLAN interface. For example, to create a VLAN interface named <code class="literal systemitem">vlan10</code> that uses <code class="literal systemitem">enp1s0</code> as its parent interface and that tags packets with VLAN ID <code class="literal command">10</code>, enter:
					</p><pre class="literallayout"># nmcli connection add type vlan con-name vlan10 ifname vlan10 vlan.parent enp1s0 vlan.id 10</pre><p class="simpara">
						Note that the VLAN must be within the range from <code class="literal command">0</code> to <code class="literal command">4094</code>.
					</p></li><li class="listitem"><p class="simpara">
						By default, the VLAN connection inherits the maximum transmission unit (MTU) from the parent interface. Optionally, set a different MTU value:
					</p><pre class="literallayout"># nmcli connection modify vlan10 802-3-ethernet.mtu <span class="emphasis"><em>2000</em></span></pre></li><li class="listitem"><p class="simpara">
						Configure the IPv4 settings. For example, to set a static IPv4 address, network mask, default gateway, and DNS server to the <code class="literal systemitem">vlan10</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify vlan10 ipv4.addresses '192.0.2.1/24'
# nmcli connection modify vlan10 ipv4.gateway '192.0.2.254'
# nmcli connection modify vlan10 ipv4.dns '192.0.2.253'
# nmcli connection modify vlan10 ipv4.method manual</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv6 settings. For example, to set a static IPv6 address, network mask, default gateway, and DNS server to the <code class="literal systemitem">vlan10</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify vlan10 ipv6.addresses '2001:db8::1/32'
# nmcli connection modify vlan10 ipv6.gateway '2001:db8::fffe'
# nmcli connection modify vlan10 ipv6.dns '2001:db8::fffd'
# nmcli connection modify vlan10 ipv6.method manual</pre></li><li class="listitem"><p class="simpara">
						Optionally, verify the settings:
					</p><pre class="literallayout"># ip -d addr show <span class="emphasis"><em>vlan10</em></span>
4: vlan10@enp1s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether 52:54:00:d5:e0:fb brd ff:ff:ff:ff:ff:ff promiscuity 0
    vlan protocol 802.1Q id 10 &lt;REORDER_HDR&gt; numtxqueues 1 numrxqueues 1 gso_max_size 65536 gso_max_segs 65535
    inet 192.0.2.1/24 brd 192.0.2.255 scope global noprefixroute vlan10
       valid_lft forever preferred_lft forever
    inet6 fe80::8dd7:9030:6f8e:89e6/64 scope link noprefixroute
       valid_lft forever preferred_lft forever</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For <code class="literal systemitem">nmcli</code> examples, see the <code class="literal">nmcli-examples(7)</code> man page.
					</li><li class="listitem">
						For all vlan properties you can set, see the <code class="literal citetitle">vlan setting</code> section in the <code class="literal">nm-settings(5)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="configuring-a-network-bridge_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 15. Configuring a network bridge</h1></div></div></div><p>
			A network bridge is a link-layer device which forwards traffic between networks based on MAC addresses. The bridge device decides on forwarding packages based on a table of MAC addresses. The bridge builds the MAC addresses table by listening to network traffic and thereby learning what hosts are connected to each network.
		</p><p>
			For example, you can use a software bridge on a Red Hat Enterprise Linux 8 host:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					To emulate a hardware bridge
				</li><li class="listitem">
					In virtualization environments, to integrate virtual machines (VM) to the same network as the host
				</li></ul></div><p>
			Due to the IEEE 802.11 standard which specifies the use of 3-address frames in Wi-Fi for the efficient use of airtime, you cannot configure a bridge over Wi-Fi networks operating in Ad-Hoc or Infrastructure modes.
		</p><section class="section" id="configuring-a-network-bridge-using-nmcli-commands_configuring-a-network-bridge"><div class="titlepage"><div><div><h2 class="title">15.1. Configuring a network bridge using nmcli commands</h2></div></div></div><p>
				This section explains how to configure a network bridge using the <code class="literal systemitem">nmcli</code> utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more physical or virtual network devices are installed in the server.
					</li><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a bridge interface. For example, to create the bridge interface named <code class="literal systemitem">bridge0</code>, enter:
					</p><pre class="literallayout"># nmcli connection add type bridge con-name bridge0 ifname bridge0</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv4 settings. For example, to set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain of the <code class="literal systemitem">bridge0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify bridge0 ipv4.addresses '192.0.2.1/24'
# nmcli connection modify bridge0 ipv4.gateway '192.0.2.254'
# nmcli connection modify bridge0 ipv4.dns '192.0.2.253'
# nmcli connection modify bridge0 ipv4.dns-search 'example.com'
# nmcli connection modify bridge0 ipv4.method manual</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv6 settings. For example, to set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain of the <code class="literal systemitem">bridge0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify bridge0 ipv6.addresses '2001:db8::1/32'
# nmcli connection modify bridge0 ipv6.gateway '2001:db8::fffe'
# nmcli connection modify bridge0 ipv6.dns '2001:db8::fffd'
# nmcli connection modify bridge0 ipv6.dns-search 'example.com'
# nmcli connection modify bridge0 ipv6.method manual</pre></li><li class="listitem"><p class="simpara">
						Optionally, configure further properties of the bridge. For example, to set the Spanning Tree Protocol (STP) priority of <code class="literal systemitem">bridge0</code> to <code class="literal command">16384</code>, enter:
					</p><pre class="literallayout"># nmcli connection modify bridge0 bridge.priority '16384'</pre><p class="simpara">
						By default, STP is enabled.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, display the network interfaces, and note the names of the interfaces you want to add to the bridge as a slave in the next step:
					</p><pre class="literallayout"># nmcli device
DEVICE  TYPE      STATE         CONNECTION
enp1s0  ethernet  connected     enp1s0
enp7s0  ethernet  disconnected  --
enp8s0  ethernet  disconnected  --
lo      loopback  unmanaged     --</pre></li><li class="listitem"><p class="simpara">
						Assign the port interfaces to the bridge’s connection. For example, to add the interfaces named <code class="literal systemitem">enp7s0</code> and <code class="literal systemitem">enp8s0</code> to the <code class="literal systemitem">bridge0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection add type ethernet slave-type bridge con-name bridge0-port1 ifname enp7s0 master bridge0
# nmcli connection add type ethernet slave-type bridge con-name bridge0-port2 ifname enp8s0 master bridge0</pre></li><li class="listitem"><p class="simpara">
						Activate the connection. For example, to activate the <code class="literal systemitem">bridge0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection up bridge0</pre></li><li class="listitem"><p class="simpara">
						Verify that the slave devices are connected, and the <code class="literal command">CONNECTION</code> column displays the slave’s connection name:
					</p><pre class="literallayout"># nmcli  device
DEVICE   TYPE      STATE      CONNECTION
...
enp7s0   ethernet  connected  bridge0-port1
enp8s0   ethernet  connected  bridge0-port2</pre><p class="simpara">
						Red Hat Enterprise Linux activates master and slave devices when the system boots. By activating any slave connection, the master is also activated. However, in this case, only one slave connection is activated. By default, activating the master does not automatically activate the slaves. However, you can enable this behavior by setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Enable the <code class="literal parameter">connection.autoconnect-slaves</code> parameter of the bridge connection:
							</p><pre class="literallayout"># nmcli connection modify bridge0 connection.autoconnect-slaves 1</pre></li><li class="listitem"><p class="simpara">
								Reactivate the bridge:
							</p><pre class="literallayout"># nmcli connection up bridge0</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, use the following command to display the status of the bridge:
					</p><pre class="literallayout"># bridge link show bridge0
3: enp7s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 master bridge0 state forwarding priority 32 cost 100
4: enp8s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 master bridge0 state listening priority 32 cost 100</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For <code class="literal systemitem">nmcli</code> examples, see the <code class="literal">nmcli-examples(7)</code> man page.
					</li><li class="listitem">
						For all bridge properties you can set, see the <code class="literal citetitle">bridge settings</code> section in the <code class="literal">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For all bridge port properties you can set, see the <code class="literal citetitle">bridge-port settings</code> section in the <code class="literal">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For details about the <code class="literal command">bridge</code> utility, see the <code class="literal">bridge(8)</code> man page.
					</li></ul></div></section><section class="section" id="configuring-a-network-bridge-using-nm-connection-editor_configuring-a-network-bridge"><div class="titlepage"><div><div><h2 class="title">15.2. Configuring a network bridge using nm-connection-editor</h2></div></div></div><p>
				This section explains how to configure a network bridge using the <code class="literal application">nm-connection-editor</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more physical or virtual network devices are installed in the server.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem"><p class="simpara">
						Select the <code class="literal gui">Bridge</code> connection type, and click <span class="guibutton">Create</span>.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Optionally, set the name of the bridge interface in the <code class="literal gui">Interface name</code> field.
							</li><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add</span> button to add a network interface as a slave to the bridge.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Select the connection type of the interface. For example, select <code class="literal gui">Ethernet</code> for a wired connection.
									</li><li class="listitem">
										Optionally, set a connection name for the slave device.
									</li><li class="listitem">
										In the <code class="literal gui">Device</code> field on the <code class="literal gui">Ethernet</code> tab, select the network interface you want to add as a slave to the bridge.
									</li><li class="listitem">
										Click <span class="guibutton">Save</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Repeat the previous step for each interface you want to add to the bridge.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="add-nic-to-bridge-in-nm-connection-editor.png" alt="add nic to bridge in nm connection editor"/></span>

							</p></li><li class="listitem">
								Optionally, configure further bridge settings, such as Spanning Tree Protocol (STP) options.
							</li></ol></div></li><li class="listitem">
						On the <code class="literal gui">IPv4 Settings</code> tab, configure the IPv4 settings. For example, set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain: 
						<span class="inlinemediaobject"><img src="bridge-IPv4-settings-nm-connection-editor.png" alt="bridge IPv4 settings nm connection editor"/></span>

					</li><li class="listitem">
						On the <code class="literal gui">IPv6 Settings</code> tab, configure the IPv6 settings. For example, set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain: 
						<span class="inlinemediaobject"><img src="bridge-IPv6-settings-nm-connection-editor.png" alt="bridge IPv6 settings nm connection editor"/></span>

					</li><li class="listitem">
						Save the bridge connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li><li class="listitem"><p class="simpara">
						Optionally, use the following command to display the status of the bridge:
					</p><pre class="literallayout"># bridge link show bridge0
3: enp7s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 master bridge0 state forwarding priority 32 cost 100
4: enp8s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 master bridge0 state listening priority 32 cost 100</pre></li></ol></div></section></section><section class="chapter" id="configuring-network-teaming_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 16. Configuring network teaming</h1></div></div></div><p>
			This section describes the basics of network teaming, the differences between bonding and teaming, and how to configure a network team on Red Hat Enterprise Linux 8.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					Red Hat Enterprise Linux 8 is installed.
				</li><li class="listitem">
					The system has an active subscription assigned.
				</li></ul></div><section class="section" id="understanding-network-teaming_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.1. Understanding network teaming</h2></div></div></div><p>
				Network teaming is a feature that combines or aggregates network interfaces to provide a logical interface with higher throughput or redundancy.
			</p><p>
				Network teaming uses a kernel driver to implement fast handling of packet flows, as well as user-space libraries and services for other tasks. This way, network teaming is an easily extensible and scalable solution for load-balancing and redundancy requirements.
			</p><p>
				Note that in the context of network teaming, the term <code class="literal literal">port</code> is also known as <code class="literal literal">slave</code>. In the <code class="literal systemitem">teamd</code> service, the term <code class="literal literal">port</code> is preferred while in the <code class="literal systemitem">NetworkManager</code> service, the term <code class="literal literal">slave</code> refers to interfaces which create a team.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Certain network teaming features, such as the fail-over mechanism, do not support direct cable connections without a network switch. For further details, see <a class="link" href="https://access.redhat.com/solutions/202583">Is bonding supported with direct connection using crossover cables?</a>
				</p></div></div></section><section class="section" id="understanding-the-default-behavior-of-master-and-slave-interfaces_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.2. Understanding the default behavior of master and slave interfaces</h2></div></div></div><p>
				Consider the following default behavior of, when managing or troubleshooting team or bond port interfaces using the <code class="literal systemitem">NetworkManager</code> service:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Starting the master interface does not automatically start the port interfaces.
					</li><li class="listitem">
						Starting a port interface always starts the master interface.
					</li><li class="listitem">
						Stopping the master interface also stops the port interface.
					</li><li class="listitem">
						A master without ports can start static IP connections.
					</li><li class="listitem">
						A master without ports waits for ports when starting DHCP connections.
					</li><li class="listitem">
						A master with a DHCP connection waiting for ports completes when you add a port with a carrier.
					</li><li class="listitem">
						A master with a DHCP connection waiting for ports continues waiting when you add a port without carrier.
					</li></ul></div></section><section class="section" id="comparison-of-network-teaming-and-bonding-features_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.3. Comparison of network teaming and bonding features</h2></div></div></div><p>
				The following table compares features supported in network teams and network bonds:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 56%; " class="col_1"><!--Empty--></col><col style="width: 22%; " class="col_2"><!--Empty--></col><col style="width: 22%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885358584288" scope="col">Feature</th><th align="left" valign="top" id="idm139885358583200" scope="col">Network bond</th><th align="left" valign="top" id="idm139885358582112" scope="col">Network team</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Broadcast Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Round-robin Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Active-backup Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								LACP (802.3ad) support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes (active only)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Hash-based Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								User can set hash function
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Tx load-balancing support (TLB)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								LACP hash port select
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Load-balancing for LACP support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Ethtool link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								ARP link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								NS/NA (IPv6) link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Ports up/down delays
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Port priorities and stickiness (“primary” option enhancement)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Separate per-port link monitoring setup
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Multiple link monitoring setup
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Limited
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Lockless Tx/Rx path
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No (rwlock)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes (RCU)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								VLAN support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								User-space runtime control
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Limited
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Logic in user-space
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Extensibility
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Hard
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Easy
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Modular design
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Performance overhead
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Low
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Very low
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								D-Bus interface
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Multiple device stacking
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								Zero config using LLDP
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								(in planning)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358584288"> <p>
								NetworkManager support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358583200"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358582112"> <p>
								Yes
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="understanding-the-teamd-service-runners-and-link-watchers_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.4. Understanding the teamd service, runners, and link-watchers</h2></div></div></div><p>
				The team service, <code class="literal systemitem">teamd</code>, controls one instance of the team driver. This instance of the driver adds instances of a hardware device driver to form a team of network interfaces. The team driver presents a network interface, for example <code class="literal systemitem">team0</code>, to the kernel.
			</p><p>
				The <code class="literal systemitem">teamd</code> service implements the common logic to all methods of teaming. Those functions are unique to the different load sharing and backup methods, such as round-robin, and implemented by separate units of code referred to as <code class="literal literal">runners</code>. Administrators specify runners in JavaScript Object Notation (JSON) format, and the JSON code is compiled into an instance of <code class="literal systemitem">teamd</code> when the instance is created. Alternatively, when using <code class="literal application">NetworkManager</code>, you can set the runner in the <code class="literal parameter">team.runner</code> parameter, and <code class="literal application">NetworkManager</code> auto-creates the corresponding JSON code.
			</p><p>
				The following runners are available:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal systemitem">broadcast</code>: Transmits data over all ports.
					</li><li class="listitem">
						<code class="literal systemitem">roundrobin</code>: Transmits data over all ports in turn.
					</li><li class="listitem">
						<code class="literal systemitem">activebackup</code>: Transmits data over one port while the others are kept as a backup.
					</li><li class="listitem">
						<code class="literal systemitem">loadbalance</code>: Transmits data over all ports with active Tx load balancing and Berkeley Packet Filter (BPF)-based Tx port selectors.
					</li><li class="listitem">
						<code class="literal systemitem">random</code>: Transmits data on a randomly selected port.
					</li><li class="listitem">
						<code class="literal systemitem">lacp</code>: Implements the 802.3ad Link Aggregation Control Protocol (LACP).
					</li></ul></div><p>
				The <code class="literal systemitem">teamd</code> services uses a link watcher to monitor the state of subordinate devices. The following link-watchers are available:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal systemitem">ethtool</code>: The <code class="literal systemitem">libteam</code> library uses the <code class="literal systemitem">ethtool</code> utility to watch for link state changes. This is the default link-watcher.
					</li><li class="listitem">
						<code class="literal systemitem">arp_ping</code>: The <code class="literal systemitem">libteam</code> library uses the <code class="literal systemitem">arp_ping</code> utility to monitor the presence of a far-end hardware address using Address Resolution Protocol (ARP).
					</li><li class="listitem">
						<code class="literal systemitem">nsna_ping</code>: On IPv6 connections, the <code class="literal systemitem">libteam</code> library uses the Neighbor Advertisement and Neighbor Solicitation features from the IPv6 Neighbor Discovery protocol to monitor the presence of a neighbor’s interface.
					</li></ul></div><p>
				Each runner can use any link watcher, with the exception of <code class="literal systemitem">lacp</code>. This runner can only use the <code class="literal systemitem">ethtool</code> link watcher.
			</p></section><section class="section" id="installing-the-teamd-service_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.5. Installing the teamd service</h2></div></div></div><p>
				To configure a network team in <code class="literal application">NetworkManager</code>, you require the <code class="literal systemitem">teamd</code> service and the team plug-in for <code class="literal application">NetworkManager</code>. Both are installed on Red Hat Enterprise Linux 8 by default. This section describes how you install the required packages in case that you remove them.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						An active Red Hat subscription is assigned to the host.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal package">teamd</code> and <code class="literal package">NetworkManager-team</code> packages:
					</p><pre class="literallayout"># yum install teamd NetworkManager-team</pre></li></ol></div></section><section class="section" id="configuring-a-network-team-using-nmcli-commands_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.6. Configuring a network team using nmcli commands</h2></div></div></div><p>
				This section describes how you configure a network team using <code class="literal commands">nmcli</code> commands.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more network cards are installed in the server.
					</li><li class="listitem">
						The network cards are connected to a switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the team interface. For example, to create a team interface that uses the <code class="literal systemitem">activebackup</code> runner and both the interface and connection named <code class="literal systemitem">team0</code>, enter:
					</p><pre class="literallayout"># nmcli connection add type team con-name team0 ifname team0 team.runner activebackup</pre></li><li class="listitem"><p class="simpara">
						Optionally, set a link watcher. For example, to set the <code class="literal systemitem">ethtool</code> link watcher, modify the <code class="literal systemitem">team0</code> connection:
					</p><pre class="literallayout"># nmcli connection modify team0 team.link-watchers "name=ethtool"</pre><p class="simpara">
						Link watchers support different parameters. To set parameters for a link watcher, specify them space-separated in the <code class="literal systemitem">name</code> property. Note that the name property must be surrounded by quotes. For example, to use the <code class="literal systemitem">ethtool</code> link watcher and set its <code class="literal parameter">delay-up</code> parameter to <code class="literal command">2500</code> milliseconds (2.5 seconds):
					</p><pre class="literallayout"># nmcli connection modify team0 team.link-watchers "name=ethtool delay-up=2500"</pre><p class="simpara">
						To set multiple link watchers and each of them with specific parameters, the link watchers must be separated by a comma. The following example sets the <code class="literal systemitem">ethtool</code> link watcher with the <code class="literal parameter">delay-up</code> parameter and the <code class="literal systemitem">arp_ping</code> link watcher with the <code class="literal parameter">source-host</code> and <code class="literal parameter">target-host</code> parameter:
					</p><pre class="literallayout"># nmcli connection modify team0 team.link-watchers "name=ethtool delay-up=2, name=arp_ping source-host=192.0.2.1 target-host=192.0.2.2"</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv4 settings. For example, to set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain the <code class="literal systemitem">team0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify team0 ipv4.addresses '192.0.2.1/24'
# nmcli connection modify team0 ipv4.gateway '192.0.2.254'
# nmcli connection modify team0 ipv4.dns '192.0.2.253'
# nmcli connection modify team0 ipv4.dns-search 'example.com'
# nmcli connection modify team0 ipv4.method manual</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv6 settings. For example, to set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain of the <code class="literal systemitem">team0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify team0 ipv6.addresses '2001:db8::1/32'
# nmcli connection modify team0 ipv6.gateway '2001:db8::fffe'
# nmcli connection modify team0 ipv6.dns '2001:db8::fffd'
# nmcli connection modify team0 ipv6.dns-search 'example.com'
# nmcli connection modify team0 ipv6.method manual</pre></li><li class="listitem"><p class="simpara">
						Optionally, display the network interfaces, and note the names of the interfaces you want to add to the team in the next step:
					</p><pre class="literallayout"># nmcli device
DEVICE  TYPE      STATE         CONNECTION
enp1s0  ethernet  connected     enp1s0
enp7s0  ethernet  disconnected  --
enp8s0  ethernet  disconnected  --
lo      loopback  unmanaged     --</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							You can only use network interfaces in a team that are not assigned to any connection. In the above example, you can only use the <code class="literal systemitem">enp7s0</code> and <code class="literal systemitem">enp8s0</code> interfaces.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Assign the port interfaces to the team’s connection. For example, to add the interfaces named <code class="literal systemitem">enp7s0</code> and <code class="literal systemitem">enp8s0</code> to the <code class="literal systemitem">team0</code> connection:
					</p><pre class="literallayout"># nmcli connection add type ethernet slave-type team con-name team0-port1 ifname enp7s0 master team0
# nmcli connection add type ethernet slave-type team con-name team0-port2 ifname enp8s0 master team0</pre></li><li class="listitem"><p class="simpara">
						Activate the connection. For example, to activate the <code class="literal systemitem">team0</code> connection:
					</p><pre class="literallayout"># nmcli connection up team0</pre></li><li class="listitem"><p class="simpara">
						Optionally, display the status of the team:
					</p><pre class="literallayout"># teamdctl team0 state
setup:
  runner: activebackup
ports:
  enp7s0
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
  enp8s0
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
runner:
  active port: enp7s0</pre><p class="simpara">
						In the example, both ports are up.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-the-teamd-service-runners-and-link-watchers_configuring-network-teaming" title="16.4. Understanding the teamd service, runners, and link-watchers">Section 16.4, “Understanding the teamd service, runners, and link-watchers”</a>.
					</li><li class="listitem">
						For <code class="literal systemitem">nmcli</code> examples, see the <code class="literal">nmcli-examples(7)</code> man page.
					</li><li class="listitem">
						For all team properties you can set, see the <code class="literal citetitle">team</code> section in the <code class="literal">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For parameters you can set in the JSON configuration, as well as JSON examples, see the <code class="literal">teamd.conf(5)</code> man page.
					</li></ul></div></section><section class="section" id="configuring-a-network-team-using-nm-connection-editor_configuring-network-teaming"><div class="titlepage"><div><div><h2 class="title">16.7. Configuring a network team using nm-connection-editor</h2></div></div></div><p>
				This section describes how you configure a network team using the <code class="literal application">nm-connection-editor</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more network cards are installed in the server.
					</li><li class="listitem">
						The network cards are connected to a switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem">
						Select the <code class="literal gui">Team</code> connection type, and click <span class="guibutton">Create</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">Team</code> tab:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Optionally, set the name of the team interface in the <code class="literal gui">Interface name</code> field.
							</li><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add</span> button to add a network interface as a slave to the team.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Select the connection type of the interface. For example, select <code class="literal systemitem">Ethernet</code> for a wired connection.
									</li><li class="listitem">
										Optionally, set a connection name for the slave device.
									</li><li class="listitem"><p class="simpara">
										In the <code class="literal gui">Device</code> field on the <code class="literal gui">Ethernet</code> tab, select the network interface you want to add as a slave to the team.
									</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											You can only use network interfaces in a team that are not configured.
										</p></div></div></li><li class="listitem">
										Click <span class="guibutton">Save</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Repeat the previous step for each interface you want to add to the team.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="add-nic-to-team-in-nm-connection-editor.png" alt="add nic to team in nm connection editor"/></span>

							</p></li><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Advanced</span> button to set advanced options to the team connection.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										On the <code class="literal gui">Runner</code> tab, select the runner.
									</li><li class="listitem">
										On the <code class="literal gui">Link Watcher</code> tab, set the link link watcher and its optional settings.
									</li><li class="listitem">
										Click <span class="guibutton">OK</span>.
									</li></ol></div></li></ol></div></li><li class="listitem">
						On the <code class="literal gui">IPv4 Settings</code> tab, configure the IPv4 settings. For example, set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain: 
						<span class="inlinemediaobject"><img src="team-IPv4-settings-nm-connection-editor.png" alt="team IPv4 settings nm connection editor"/></span>

					</li><li class="listitem">
						On the <code class="literal gui">IPv6 Settings</code> tab, configure the IPv6 settings. For example, set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain: 
						<span class="inlinemediaobject"><img src="team-IPv6-settings-nm-connection-editor.png" alt="team IPv6 settings nm connection editor"/></span>

					</li><li class="listitem">
						Click <span class="guibutton">Save</span> to save the team connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li><li class="listitem"><p class="simpara">
						Optionally, display the status of the team:
					</p><pre class="literallayout"># teamdctl team0 state
setup:
  runner: activebackup
ports:
  enp7s0
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
  enp8s0
    link watches:
      link summary: up
      instance[link_watch_0]:
        name: ethtool
        link: up
        down count: 0
runner:
  active port: enp7s0</pre></li></ol></div><h4 id="additional_resources">Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#understanding-the-teamd-service-runners-and-link-watchers_configuring-network-teaming" title="16.4. Understanding the teamd service, runners, and link-watchers">Section 16.4, “Understanding the teamd service, runners, and link-watchers”</a>.
					</li></ul></div></section></section><section class="chapter" id="configuring-network-bonding_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 17. Configuring network bonding</h1></div></div></div><p>
			This section describes the basics of network bonding, the differences between bonding and teaming, and how to configure a network bond on Red Hat Enterprise Linux 8.
		</p><section class="section" id="understanding-network-bonding_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.1. Understanding network bonding</h2></div></div></div><p>
				Network bonding is a method to combine or aggregate network interfaces to provide a logical interface with higher throughput or redundancy.
			</p><p>
				The <code class="literal systemitem">active-backup</code>, <code class="literal systemitem">balance-tlb</code>, and <code class="literal systemitem">balance-alb</code> modes do not require any specific configuration of the network switch. However, other bonding modes require configuring the switch to aggregate the links. For example, Cisco switches requires <code class="literal systemitem">EtherChannel</code> for modes 0, 2, and 3, but for mode 4, the Link Aggregation Control Protocol (LACP) and <code class="literal systemitem">EtherChannel</code> are required.
			</p><p>
				For further details, see the documentation of your switch and <a class="link" href="https://www.kernel.org/doc/Documentation/networking/bonding.txt">https://www.kernel.org/doc/Documentation/networking/bonding.txt</a>.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Certain network bonding features, such as the fail-over mechanism, do not support direct cable connections without a network switch. For further details, see the <a class="link" href="https://access.redhat.com/solutions/202583">Is bonding supported with direct connection using crossover cables?</a> KCS solution.
				</p></div></div></section><section class="section" id="understanding-the-default-behavior-of-master-and-slave-interfaces_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.2. Understanding the default behavior of master and slave interfaces</h2></div></div></div><p>
				Consider the following default behavior of, when managing or troubleshooting team or bond port interfaces using the <code class="literal systemitem">NetworkManager</code> service:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Starting the master interface does not automatically start the port interfaces.
					</li><li class="listitem">
						Starting a port interface always starts the master interface.
					</li><li class="listitem">
						Stopping the master interface also stops the port interface.
					</li><li class="listitem">
						A master without ports can start static IP connections.
					</li><li class="listitem">
						A master without ports waits for ports when starting DHCP connections.
					</li><li class="listitem">
						A master with a DHCP connection waiting for ports completes when you add a port with a carrier.
					</li><li class="listitem">
						A master with a DHCP connection waiting for ports continues waiting when you add a port without carrier.
					</li></ul></div></section><section class="section" id="comparison-of-network-teaming-and-bonding-features_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.3. Comparison of network teaming and bonding features</h2></div></div></div><p>
				The following table compares features supported in network teams and network bonds:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 56%; " class="col_1"><!--Empty--></col><col style="width: 22%; " class="col_2"><!--Empty--></col><col style="width: 22%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885358321984" scope="col">Feature</th><th align="left" valign="top" id="idm139885358320896" scope="col">Network bond</th><th align="left" valign="top" id="idm139885358319808" scope="col">Network team</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Broadcast Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Round-robin Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Active-backup Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								LACP (802.3ad) support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes (active only)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Hash-based Tx policy
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								User can set hash function
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Tx load-balancing support (TLB)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								LACP hash port select
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Load-balancing for LACP support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Ethtool link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								ARP link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								NS/NA (IPv6) link monitoring
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Ports up/down delays
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Port priorities and stickiness (“primary” option enhancement)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Separate per-port link monitoring setup
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Multiple link monitoring setup
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Limited
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Lockless Tx/Rx path
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No (rwlock)
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes (RCU)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								VLAN support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								User-space runtime control
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Limited
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Logic in user-space
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Extensibility
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Hard
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Easy
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Modular design
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Performance overhead
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Low
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Very low
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								D-Bus interface
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Multiple device stacking
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								Zero config using LLDP
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								No
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								(in planning)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358321984"> <p>
								NetworkManager support
							</p>
							 </td><td align="left" valign="top" headers="idm139885358320896"> <p>
								Yes
							</p>
							 </td><td align="left" valign="top" headers="idm139885358319808"> <p>
								Yes
							</p>
							 </td></tr></tbody></table></div></section><section class="section" id="upstream-switch-configuration-depending-on-the-bonding-modes_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.4. Upstream Switch Configuration Depending on the Bonding Modes</h2></div></div></div><p>
				The following table describes which settings you must apply to the upstream switch depending on the bonding mode:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 75%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885358293152" scope="col">Bonding mode</th><th align="left" valign="top" id="idm139885359442912" scope="col">Configuration on the switch</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">0</code> - <code class="literal command">balance-rr</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires static Etherchannel enabled (not LACP-negotiated)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">1</code> - <code class="literal command">active-backup</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires autonomous ports
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">2</code> - <code class="literal command">balance-xor</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires static Etherchannel enabled (not LACP-negotiated)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">3</code> - <code class="literal command">broadcast</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires static Etherchannel enabled (not LACP-negotiated)
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">4</code> - <code class="literal command">802.3ad</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires LACP-negotiated Etherchannel enabled
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">5</code> - <code class="literal command">balance-tlb</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires autonomous ports
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885358293152"> <p>
								<code class="literal command">6</code> - <code class="literal command">balance-alb</code>
							</p>
							 </td><td align="left" valign="top" headers="idm139885359442912"> <p>
								Requires autonomous ports
							</p>
							 </td></tr></tbody></table></div><p>
				For configuring these settings on your switch, see the switch documentation.
			</p></section><section class="section" id="configuring-a-network-bond-using-nmcli-commands_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.5. Configuring a network bond using nmcli commands</h2></div></div></div><p>
				This section describes how to configure a network bond using <code class="literal command">nmcli</code> commands.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more network cards are installed in the server.
					</li><li class="listitem">
						The network cards are connected to a switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a bond interface. For example, to create a bond interface that uses the <code class="literal systemitem">active-backup</code> mode and both the interface and the connection are named <code class="literal systemitem">bond0</code>, enter:
					</p><pre class="literallayout"># nmcli connection add type bond con-name bond0 ifname bond0 bond.options "mode=active-backup"</pre><p class="simpara">
						To additionally set a Media Independent Interface (MII) monitoring interval, add the <code class="literal option">miimon=<span class="emphasis"><em>interval</em></span></code> option to the <code class="literal option">bond.options</code> property. For example, to use the same command but, additionally, set the MII monitoring interval to <code class="literal command">1000</code> milliseconds (1 second), enter:
					</p><pre class="literallayout"># nmcli connection add type bond con-name bond0 ifname bond0 bond.options "mode=active-backup,miimon=1000"</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv4 settings. For example, to set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain to the <code class="literal systemitem">bond0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify bond0 ipv4.addresses '192.0.2.1/24'
# nmcli connection modify bond0 ipv4.gateway '192.0.2.254'
# nmcli connection modify bond0 ipv4.dns '192.0.2.253'
# nmcli connection modify bond0 ipv4.dns-search 'example.com'
# nmcli connection modify bond0 ipv4.method manual</pre></li><li class="listitem"><p class="simpara">
						Configure the IPv6 settings. For example, to set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain to the <code class="literal systemitem">bond0</code> connection, enter:
					</p><pre class="literallayout"># nmcli connection modify bond0 ipv6.addresses '2001:db8::1/32
# nmcli connection modify bond0 ipv6.gateway '2001:db8::fffe'
# nmcli connection modify bond0 ipv6.dns '2001:db8::fffd'
# nmcli connection modify bond0 ipv6.dns-search 'example.com'
# nmcli connection modify bond0 ipv6.method manual</pre></li><li class="listitem"><p class="simpara">
						Optionally, display the network interfaces, and note names of interfaces you plan to add to the bond:
					</p><pre class="literallayout"># # nmcli device
DEVICE  TYPE      STATE         CONNECTION
enp1s0  ethernet  connected     enp1s0
enp7s0  ethernet  disconnected  --
enp8s0  ethernet  disconnected  --
lo      loopback  unmanaged     --</pre></li><li class="listitem"><p class="simpara">
						Assign port interfaces to the bond’s connection. For example, to add the interfaces named <code class="literal systemitem">enp7s0</code> and <code class="literal systemitem">enp8s0</code> to the <code class="literal systemitem">bond0</code> connection:
					</p><pre class="literallayout"># nmcli connection add type ethernet slave-type bond con-name bond0-port1 ifname enp7s0 master bond0
# nmcli connection add type ethernet slave-type bond con-name bond0-port2 ifname enp8s0 master bond0</pre></li><li class="listitem"><p class="simpara">
						Activate the connection. For example, to activate the <code class="literal systemitem">bond0</code> connection:
					</p><pre class="literallayout"># nmcli connection up bond0</pre></li><li class="listitem"><p class="simpara">
						Verify that the slave devices are connected, and the <code class="literal command">CONNECTION</code> column displays the slave’s connection name:
					</p><pre class="literallayout"># nmcli device
DEVICE   TYPE      STATE      CONNECTION
...
enp7s0   ethernet  connected  bond0-port1
enp8s0   ethernet  connected  bond0-port2</pre><p class="simpara">
						Red Hat Enterprise Linux activates master and slave devices when the system boots. By activating any slave connection, the master is also activated. However, in this case, only one slave connection is activated. By default, activating the master does not automatically activate the slaves. However, you can enable this behavior by setting:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Enable the <code class="literal parameter">connection.autoconnect-slaves</code> parameter of the bond’s connection:
							</p><pre class="literallayout"># nmcli connection modify bond0 connection.autoconnect-slaves 1</pre></li><li class="listitem"><p class="simpara">
								Reactivate the bridge:
							</p><pre class="literallayout"># nmcli connection up bond0</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, display the status of the bond:
					</p><pre class="literallayout"># cat /proc/net/bonding/<span class="emphasis"><em>bond0</em></span>
Ethernet Channel Bonding Driver: v3.7.1 (April 27, 2011)

Bonding Mode: fault-tolerance (active-backup)
Primary Slave: None
Currently Active Slave: enp7s0
MII Status: up
MII Polling Interval (ms): 100
Up Delay (ms): 0
Down Delay (ms): 0

Slave Interface: enp7s0
MII Status: up
Speed: Unknown
Duplex: Unknown
Link Failure Count: 0
Permanent HW addr: 52:54:00:d5:e0:fb
Slave queue ID: 0

Slave Interface: enp8s0
MII Status: up
Speed: Unknown
Duplex: Unknown
Link Failure Count: 0
Permanent HW addr: 52:54:00:b2:e2:63
Slave queue ID: 0</pre><p class="simpara">
						In the example, both ports are up.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For <code class="literal systemitem">nmcli</code> examples, see the <code class="literal">nmcli-examples(7)</code> man page.
					</li><li class="listitem">
						For a list of options you can set in the <code class="literal parameter">bond.options</code> parameter of the <code class="literal command">nmcli</code> command when you create a bond, see <a class="link" href="https://www.kernel.org/doc/Documentation/networking/bonding.txt">https://www.kernel.org/doc/Documentation/networking/bonding.txt</a>.
					</li></ul></div></section><section class="section" id="configuring-a-network-bond-using-nm-connection-editor_configuring-network-bonding"><div class="titlepage"><div><div><h2 class="title">17.6. Configuring a network bond using nm-connection-editor</h2></div></div></div><p>
				This section describes how to configure a network bond using the <code class="literal application">nm-connection-editor</code> application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Two or more network cards are installed in the server.
					</li><li class="listitem">
						The network cards are connected to a switch.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter <code class="literal command">nm-connection-editor</code>:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem">
						Select the <code class="literal gui">Bond</code> connection type, and click <span class="guibutton">Create</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">Bond</code> tab:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Optionally, set the name of the bond interface in the <code class="literal gui">Interface name</code> field.
							</li><li class="listitem"><p class="simpara">
								Click the <span class="guibutton">Add</span> button to add a network interface as a slave to the bond.
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										Select the connection type of the interface. For example, select <code class="literal guilabel">Ethernet</code> for a wired connection.
									</li><li class="listitem">
										Optionally, set a connection name for the slave device.
									</li><li class="listitem"><p class="simpara">
										In the <code class="literal gui">Device</code> field on the <code class="literal gui">Ethernet</code> tab, select the network interface you want to add as a slave to the bond.
									</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
											You can only use network interfaces in a bond that are not configured.
										</p></div></div></li><li class="listitem">
										Click <span class="guibutton">Save</span>.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								Repeat the previous step for each interface you want to add to the bond:
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="add-nic-to-bond-in-nm-connection-editor.png" alt="add nic to bond in nm connection editor"/></span>

							</p></li><li class="listitem">
								Optionally, set other options, such as the Media Independent Interface (MII) monitoring interval.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">IPv4 Settings</code> tab, configure the IPv4 settings. For example, set a static IPv4 address, network mask, default gateway, DNS server, and DNS search domain:
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="bond-IPv4-settings-nm-connection-editor.png" alt="bond IPv4 settings nm connection editor"/></span>

					</p></li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">IPv6 Settings</code> tab, configure the IPv6 settings. For example, set a static IPv6 address, network mask, default gateway, DNS server, and DNS search domain:
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="bond-IPv6-settings-nm-connection-editor.png" alt="bond IPv6 settings nm connection editor"/></span>

					</p></li><li class="listitem">
						Click <span class="guibutton">Save</span> to save the bond connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li><li class="listitem"><p class="simpara">
						Optionally, display the status of the bond:
					</p><pre class="screen">$ cat /proc/net/bonding/_bond0_
Ethernet Channel Bonding Driver: v3.7.1 (April 27, 2011)

Bonding Mode: fault-tolerance (active-backup)
Primary Slave: None
Currently Active Slave: enp7s0
MII Status: up
MII Polling Interval (ms): 100
Up Delay (ms): 0
Down Delay (ms): 0

Slave Interface: enp7s0
MII Status: up
Speed: Unknown
Duplex: Unknown
Link Failure Count: 0
Permanent HW addr: 52:54:00:d5:e0:fb
Slave queue ID: 0

Slave Interface: enp8s0
MII Status: up
Speed: Unknown
Duplex: Unknown
Link Failure Count: 0
Permanent HW addr: 52:54:00:b2:e2:63
Slave queue ID: 0</pre><p class="simpara">
						In the example, both ports are up.
					</p></li></ol></div></section></section><section class="chapter" id="configuring-a-vpn-connection_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 18. Configuring a VPN connection</h1></div></div></div><p>
			This section explains how to configure a VPN connection.
		</p><section class="section" id="Configuring-a-VPN-connection-with-control-center_configuring-a-vpn-connection"><div class="titlepage"><div><div><h2 class="title">18.1. Configuring a VPN connection with control-center</h2></div></div></div><p>
				A Virtual Private Network (VPN) is a way of connecting to a local network over the internet. <code class="literal">IPsec</code>, provided by <span class="strong strong"><strong><span class="application application">Libreswan</span></strong></span>, is the preferred method for creating a VPN. <span class="strong strong"><strong><span class="application application">Libreswan</span></strong></span> is an open-source, user-space <code class="literal">IPsec</code> implementation for VPN. A Virtual Private Network (VPN) enables communication between your Local Area Network (LAN), and another, remote LAN. This is done by setting up a tunnel across an intermediate network such as the Internet. The VPN tunnel that is set up typically uses authentication and encryption.
			</p><p>
				This procedure describes how to configure a VPN connection using <span class="strong strong"><strong>control-center</strong></span>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">NetworkManager-libreswan-gnome</code> package is installed.
					</li><li class="listitem">
						Start for adding a <code class="literal">VPN</code> connection as explained <a class="xref" href="index.html#Creating_a_Network_Connection_using_control_center" title="8.2. Creating a network connection using control-center">Section 8.2, “Creating a network connection using control-center”</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Select the <code class="literal">Identity</code> menu entry to see the basic configuration options:
					</p><p class="simpara">
						<span class="strong strong"><strong>General</strong></span>
					</p><p class="simpara">
						<code class="literal">Gateway</code> — The name or <code class="literal">IP</code> address of the remote VPN gateway.
					</p><p class="simpara">
						<span class="strong strong"><strong>Authentication</strong></span>
					</p><p class="simpara">
						<code class="literal">Type</code>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">IKEv2 (Certificate)</code>- client is authenticated by certificate. It is more secure (default).
							</li><li class="listitem"><p class="simpara">
								<code class="literal">IKEv1 (XAUTH)</code> - client is authenticated by username and password, or secret (PSK).
							</p><p class="simpara">
								The following configuration settings are available under the <code class="literal option">Advanced</code> section:
							</p><div class="figure" id="figu-Advanced-options-of-a-VPN-connection"><p class="title"><strong>Figure 18.1. Advanced options of a VPN connection</strong></p><div class="figure-contents"><div class="mediaobject"><img src="networking_vpn_advanced_options.png" alt="networking vpn advanced options"/></div></div></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
									When configuring an <code class="literal">IPsec based VPN</code> connection using the <code class="literal">gnome-control-center</code> application, the <code class="literal">Advanced</code> dialog will only display the configuration, but will not allow doing any change. As a consequence, users cannot change any advanced IPsec options. Use the <code class="literal">nm-connection-editor</code> or <code class="literal">nmcli</code> tools instead to perform configuration of the advanced properties.
								</p></div></div><p class="simpara">
								<span class="strong strong"><strong>Identification</strong></span>
							</p><p class="simpara">
								<code class="literal">Domain</code> — If required, enter the Domain Name.
							</p><p class="simpara">
								<span class="strong strong"><strong>Security</strong></span>
							</p></li><li class="listitem">
								<code class="literal">Phase1 Algorithms</code> — corresponds to the <code class="literal">ike</code> Libreswan parameter — enter the algorithms to be used to authenticate and set up an encrypted channel.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">Phase2 Algorithms</code> — corresponds to the <code class="literal">esp</code> Libreswan parameter — enter the algorithms to be used for the <code class="literal">IPsec</code> negotiations.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Check the <code class="literal">Disable PFS</code> field to turn off Perfect Forward Secrecy (PFS)to ensure compatibility with old servers that do not support PFS.
									</li></ul></div></li><li class="listitem">
								<code class="literal">Phase1 Lifetime</code> — corresponds to the <code class="literal">ikelifetime</code> Libreswan parameter — how long the key used to encrypt the traffic will be valid.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">Phase2 Lifetime</code> — corresponds to the <code class="literal">salifetime</code> Libreswan parameter — how long how long a particular instance of a connection should last before expiring.
							</p><p class="simpara">
								Note that the encryption key should be changed from time to time for security reasons.
							</p></li><li class="listitem"><p class="simpara">
								<code class="literal">Remote network</code> — corresponds to the <code class="literal">rightsubnet</code> Libreswan parameter — the destination private remote network that should be reached throught the VPN.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Check the <code class="literal">narrowing</code> field to enable narrowing. Note that it is only effective in IKEv2 negotiation.
									</li></ul></div></li><li class="listitem">
								<code class="literal">Enable fragmentation</code> — corresponds to the <code class="literal">fragmentation</code> Libreswan parameter — whether or not to allow IKE fragmentation. Valid values are <code class="literal">yes</code> (default), or <code class="literal">no</code>.
							</li><li class="listitem">
								<code class="literal">Enable Mobike</code> — corresponds to the <code class="literal">mobike</code> Libreswan parameter — whether to allow MOBIKE (RFC 4555) to enable a connection to migrate its endpoint without needing to restart the connection from scratch. This is used on mobile devices that switch between wired, wireless or mobile data connections. The values are <code class="literal">no</code> (default) or yes.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						For further configuration, select the <span class="guibutton">IPv4</span> menu entry:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<code class="literal">IPv4 Method</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Automatic (DHCP)</code> — Choose this option if the network you are connecting to uses Router Advertisements (RA) or a <code class="literal">DHCP</code> server to assign dynamic <code class="literal">IP</code> addresses.
									</li><li class="listitem">
										<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign <code class="literal">IP</code> addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc3927">RFC 3927</a></span></em></span> with prefix <code class="literal">169.254/16</code>.
									</li><li class="listitem">
										<code class="literal">Manual</code> — Choose this option if you want to assign <code class="literal">IP</code> addresses manually.
									</li><li class="listitem">
										<code class="literal">Disable</code> — <code class="literal">IPv4</code> is disabled for this connection.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<code class="literal">DNS</code>
							</p><p class="simpara">
								In the <code class="literal">DNS</code> section, when <code class="literal">Automatic</code> is <code class="literal">ON</code>, switch it to <code class="literal">OFF</code> to enter the IP address of a DNS server you want to use separating the IPs by comma.
							</p></li><li class="listitem"><p class="simpara">
								<code class="literal">Routes</code>
							</p><p class="simpara">
								Note that in the <code class="literal">Routes</code> section, when <code class="literal">Automatic</code> is <code class="literal">ON</code>, routes from Router Advertisements (RA) or DHCP are used, but you can also add additional static routes. When <code class="literal">OFF</code>, only static routes are used.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Address</code> — Enter the <code class="literal">IP</code> address of a remote network, sub-net, or host.
									</li><li class="listitem">
										<code class="literal">Netmask</code> — The netmask or prefix length of the <code class="literal">IP</code> address entered above.
									</li><li class="listitem">
										<code class="literal">Gateway</code> — The <code class="literal">IP</code> address of the gateway leading to the remote network, sub-net, or host entered above.
									</li><li class="listitem">
										<code class="literal">Metric</code> — A network cost, a preference value to give to this route. Lower values will be preferred over higher values.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<code class="literal">Use this connection only for resources on its network</code>
							</p><p class="simpara">
								Select this check box to prevent the connection from becoming the default route. Selecting this option means that only traffic specifically destined for routes learned automatically over the connection or entered here manually will be routed over the connection.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Alternatively, to configure <code class="literal">IPv6</code> settings in a <code class="literal">VPN</code> connection, select the <span class="guibutton">IPv6</span> menu entry:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								<code class="literal">IPv6 Method</code>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										<code class="literal">Automatic</code> — Choose this option to use <code class="literal">IPv6</code> Stateless Address AutoConfiguration (SLAAC) to create an automatic, stateless configuration based on the hardware address and Router Advertisements (RA).
									</li><li class="listitem">
										<code class="literal">Automatic, DHCP only</code> — Choose this option to not use RA, but request information from <code class="literal">DHCPv6</code> directly to create a stateful configuration.
									</li><li class="listitem">
										<code class="literal">Link-Local Only</code> — Choose this option if the network you are connecting to does not have a <code class="literal">DHCP</code> server and you do not want to assign <code class="literal">IP</code> addresses manually. Random addresses will be assigned as per <span class="emphasis"><em><span class="citetitle citetitle"><a class="link" href="http://www.rfc-editor.org/info/rfc4862">RFC 4862</a></span></em></span> with prefix <code class="literal">FE80::0</code>.
									</li><li class="listitem">
										<code class="literal">Manual</code> — Choose this option if you want to assign <code class="literal">IP</code> addresses manually.
									</li><li class="listitem"><p class="simpara">
										<code class="literal">Disable</code> — <code class="literal">IPv6</code> is disabled for this connection.
									</p><p class="simpara">
										Note that <code class="literal">DNS</code>, <code class="literal">Routes</code>, <code class="literal">Use this connection only for resources on its network</code> are common to <code class="literal">IPv4</code> settings.
									</p></li></ul></div></li></ul></div></li><li class="listitem">
						Once you have finished editing the <code class="literal">VPN</code> connection, click the <span class="guibutton">Add</span> button to customize the configuration or the <span class="guibutton">Apply</span> button to save it for the existing one.
					</li><li class="listitem">
						Switch the profile to <code class="literal">ON</code> to active the <code class="literal">VPN</code> connection.
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When you add a new connection by clicking the plus button, <span class="strong strong"><strong>NetworkManager</strong></span> creates a new configuration file for that connection and then opens the same dialog that is used for editing an existing connection. The difference between these dialogs is that an existing connection profile has a <span class="strong strong"><strong>Details</strong></span> menu entry.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For more details on the supported <span class="strong strong"><strong>Libreswan</strong></span> parameters, see the <code class="literal">nm-settings-libreswan</code> man page.
					</li></ul></div></section><section class="section" id="configuring-a-vpn-connection-using-nm-connection-editor_configuring-a-vpn-connection"><div class="titlepage"><div><div><h2 class="title">18.2. Configuring a VPN connection using nm-connection-editor</h2></div></div></div><p>
				This procedure describes how to configure a VPN connection using <code class="literal systemitem">nm-connection-editor</code>
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal package">NetworkManager-libreswan-gnome</code> package is installed.
					</li><li class="listitem"><p class="simpara">
						If you configure an Internet Key Exchange version 2 (IKEv2) connection:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								The certificate is imported into the IPsec network security services (NSS) database.
							</li><li class="listitem">
								The nickname of the certificate in the NSS database is known.
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Open a terminal, and enter:
					</p><pre class="literallayout">$ nm-connection-editor</pre></li><li class="listitem">
						Click the <span class="guibutton">+</span> button to add a new connection.
					</li><li class="listitem">
						Select the <code class="literal gui">IPsec based VPN</code> connection type, and click <span class="guibutton">Create</span>.
					</li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">VPN</code> tab:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Enter the host name or IP address of the VPN gateway into the <code class="literal gui">Gateway</code> field, and select an authentication type. Based on the authentication type, you must enter different additional information:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										<code class="literal command">IKEv2 (Certifiate)</code> authenticates the client by using a certificate, which is more secure. This setting requires:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												The nickname of the certificate in the IPsec NSS database
											</li></ul></div></li><li class="listitem"><p class="simpara">
										<code class="literal command">IKEv1 (XAUTH)</code> authenticates the user by using a user name and password (pre-shared key). This setting requires that you enter the following values:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												User name
											</li><li class="listitem">
												Password
											</li><li class="listitem">
												Group name
											</li><li class="listitem">
												Secret
											</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
								If the remote server specifies a local identifier for the IKE exchange, enter the exact string in the <code class="literal parameter">Remote ID</code> field. In the remote server runs Libreswan, this value is set in the server’s <code class="literal parameter">leftid</code> parameter.
							</p><p class="simpara">
								<span class="inlinemediaobject"><img src="nm-connection-editor-vpn-tab.png" alt="nm connection editor vpn tab"/></span>

							</p></li><li class="listitem"><p class="simpara">
								Optionally, configure additional settings by clicking the <span class="guibutton">Advanced</span> button. You can configure the following settings:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										Identification
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												<code class="literal">Domain</code> — If required, enter the domain name.
											</li></ul></div></li><li class="listitem"><p class="simpara">
										Security
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												<code class="literal">Phase1 Algorithms</code> corresponds to the <code class="literal">ike</code> Libreswan parameter. Enter the algorithms to be used to authenticate and set up an encrypted channel.
											</li><li class="listitem"><p class="simpara">
												<code class="literal">Phase2 Algorithms</code> corresponds to the <code class="literal">esp</code> Libreswan parameter. Enter the algorithms to be used for the <code class="literal">IPsec</code> negotiations.
											</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
														Check the <code class="literal">Disable PFS</code> field to turn off Perfect Forward Secrecy (PFS) to ensure compatibility with old servers that do not support PFS.
													</li></ul></div></li><li class="listitem">
												<code class="literal">Phase1 Lifetime</code> corresponds to the <code class="literal">ikelifetime</code> Libreswan parameter. This parameter defines how long the key used to encrypt the traffic is valid.
											</li><li class="listitem">
												<code class="literal">Phase2 Lifetime</code> corresponds to the <code class="literal">salifetime</code> Libreswan parameter. This parameter defines how long a security association is valid.
											</li></ul></div></li><li class="listitem"><p class="simpara">
										Connectivity
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
												<code class="literal">Remote network</code> corresponds to the <code class="literal">rightsubnet</code> Libreswan parameter and defines the destination private remote network that should be reached through the VPN.
											</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
														Check the <code class="literal">narrowing</code> field to enable narrowing. Note that it is only effective in the IKEv2 negotiation.
													</li></ul></div></li><li class="listitem">
												<code class="literal">Enable fragmentation</code> corresponds to the <code class="literal">fragmentation</code> Libreswan parameter and defines whether or not to allow IKE fragmentation. Valid values are <code class="literal">yes</code> (default), or <code class="literal">no</code>.
											</li><li class="listitem">
												<code class="literal">Enable Mobike</code> corresponds to the <code class="literal">mobike</code> Libreswan parameter. The parameter defines whether to allow Mobility and Multihoming Protocol (MOBIKE) (RFC 4555) to enable a connection to migrate its endpoint without needing to restart the connection from scratch. This is used on mobile devices that switch between wired, wireless or mobile data connections. The values are <code class="literal">no</code> (default) or yes.
											</li></ul></div></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						On the <code class="literal gui">IPv4 Settings</code> tab, select the IP assignment method and, optionally, set additional static addresses, DNS servers, search domains, and routes.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="IPsec-IPv4-tab.png" alt="IPsec IPv4 tab"/></span>

					</p></li><li class="listitem">
						Save the connection.
					</li><li class="listitem">
						Close <code class="literal application">nm-connection-editor</code>.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details on the supported IPsec parameters, see the <code class="literal">nm-settings-libreswan(5)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="configuring-the-order-of-dns-servers_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 19. Configuring the order of DNS servers</h1></div></div></div><p>
			Most applications use the <code class="literal command">getaddrinfo()</code> function of the <code class="literal systemitem">glibc</code> library to resolve DNS requests. By default, <code class="literal systemitem">glibc</code> sends all DNS requests to the first DNS server specified in the <code class="literal filename">/etc/resolv.conf</code> file. If this server does not reply, Red Hat Enterprise Linux uses the next server in this file.
		</p><p>
			This section describes how to customize the order of DNS servers.
		</p><section class="section" id="how-networkmanager-orders-dns-servers-in-etc-resolv-conf_configuring-the-order-of-dns-servers"><div class="titlepage"><div><div><h2 class="title">19.1. How NetworkManager orders DNS servers in /etc/resolv.conf</h2></div></div></div><p>
				NetworkManager orders DNS servers in the <code class="literal filename">/etc/resolv.conf</code> file based on the following rules:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						If only one connection profile exists, NetworkManager uses the order of IPv4 and IPv6 DNS server specified in that connection.
					</li><li class="listitem"><p class="simpara">
						If multiple connection profiles are activated, NetworkManager orders DNS servers based on a DNS priority value. If you set DNS priorities, the behavior of NetworkManager depends on the value set in the <code class="literal parameter">dns</code> parameter. You can set this parameter in the <code class="literal systemitem">[main]</code> section in the <code class="literal filename">/etc/NetworkManager/NetworkManager.conf</code> file:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<code class="literal command">dns=default</code> or if the <code class="literal parameter">dns</code> parameter is not set:
							</p><p class="simpara">
								NetworkManager orders the DNS servers from different connections based on the <code class="literal command">ipv4.dns-priority</code> and <code class="literal command">ipv6.dns-priority</code> parameter in each connection.
							</p><p class="simpara">
								If you set no value or you set <code class="literal command">ipv4.dns-priority</code> and <code class="literal command">ipv6.dns-priority</code> to <code class="literal command">0</code>, NetworkManager uses the global default value. See <a class="xref" href="index.html#default-values-of-dns-priority-parameters_configuring-the-order-of-dns-servers" title="Default values of DNS priority parameters">the section called “Default values of DNS priority parameters”</a>.
							</p></li><li class="listitem"><p class="simpara">
								<code class="literal command">dns=dnsmasq</code> or <code class="literal command">dns=systemd-resolved</code>:
							</p><p class="simpara">
								When you use one of these settings, NetworkManager sets either <code class="literal systemitem">127.0.0.1</code> for <code class="literal systemitem">dnsmasq</code> or <code class="literal systemitem">127.0.0.53</code> as <code class="literal command">nameserver</code> entry in the <code class="literal filename">/etc/resolv.conf</code> file.
							</p><p class="simpara">
								Both the <code class="literal systemitem">dnsmasq</code> and <code class="literal systemitem">systemd-resolved</code> services forward queries for the search domain set in a NetworkManager connection to the DNS server specified in that connection, and forwardes queries to other domains to the connection with the default route. When multiple connections have the same search domain set, <code class="literal systemitem">dnsmasq</code> and <code class="literal systemitem">systemd-resolved</code> forward queries for this domain to the DNS server set in the connection with the lowest priority value.
							</p></li></ul></div></li></ul></div><h4 id="default-values-of-dns-priority-parameters_configuring-the-order-of-dns-servers">Default values of DNS priority parameters</h4><p>
				NetworkManager uses the following default values for connections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal command">50</code> for VPN connections
					</li><li class="listitem">
						<code class="literal command">100</code> for other connections
					</li></ul></div><h4 id="valid-dns-priority-values_configuring-the-order-of-dns-servers">Valid DNS priority values:</h4><p>
				You can set both the global default and connection-specific <code class="literal command">ipv4.dns-priority</code> and <code class="literal command">ipv6.dns-priority</code> parameters to a value between <code class="literal command">-2147483647</code> and <code class="literal command">2147483647</code>.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A lower value has a higher priority.
					</li><li class="listitem">
						Negative values have the special effect of excluding other configurations with a greater value. For example, if at least one connection with a negative priority value exists, NetworkManager uses only the DNS servers specified in the connection profile with the lowest priority.
					</li><li class="listitem"><p class="simpara">
						If multiple connections have the same DNS priority, NetworkManager prioritizes the DNS in the following order:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								VPN connections
							</li><li class="listitem">
								Connection with an active default route. The active default route is the default route the lowest metric.
							</li></ol></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about how NetworkManager orders DNS server entries in the <code class="literal filename">/etc/resolv.conf</code> file, see the <code class="literal parameter">dns-priority</code> parameter description in the <code class="literal citetitle">ipv4</code> and <code class="literal citetitle">ipv6</code> sections in the <code class="literal citetitle">nm-settings(5)</code> man page.
					</li><li class="listitem">
						For details about using <code class="literal systemitem">systemd-resolved</code> to use different DNS servers for different domains, see <a class="xref" href="index.html#using-different-dns-servers-for-different-domains_configuring-and-managing-networking" title="Chapter 25. Using different DNS servers for different domains">Chapter 25, <em>Using different DNS servers for different domains</em></a>.
					</li></ul></div></section><section class="section" id="setting-a-networkmanager-wide-default-dns-server-priority-value_configuring-the-order-of-dns-servers"><div class="titlepage"><div><div><h2 class="title">19.2. Setting a NetworkManager-wide default DNS server priority value</h2></div></div></div><p>
				NetworkManager uses the following DNS priority default values for connections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal command">50</code> for VPN connections
					</li><li class="listitem">
						<code class="literal command">100</code> for other connections
					</li></ul></div><p>
				This section describes how to override these system-wide defaults with a custom default value for IPv4 and IPv6 connections.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/NetworkManager/NetworkManager.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add the <code class="literal command">[connection]</code> section, if it does not exist:
							</p><pre class="literallayout">[connection]</pre></li><li class="listitem"><p class="simpara">
								Add the custom default values to the <code class="literal command">[connection]</code> section. For example, to set the new default for both IPv4 and IPv6 to <code class="literal command">200</code>, add:
							</p><pre class="literallayout">ipv4.dns-priority=200
ipv6.dns-priority=200</pre><p class="simpara">
								You can set the parameters to a value between <code class="literal command">-2147483647</code> and <code class="literal command">2147483647</code>. Note that setting the parameters to <code class="literal command">0</code> enables the built-in defaults (<code class="literal command">50</code> for VPN connections and <code class="literal command">100</code> for other connections).
							</p></li></ol></div></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">NetworkManager</code> service:
					</p><pre class="literallayout"># systemctl reload NetworkManager</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For additional details about setting default values for all NetworkManager connections, see <code class="literal citetitle">Connection Section</code> in the <code class="literal citetitle">NetworkManager.conf(5)</code> man page.
					</li></ul></div></section><section class="section" id="setting-the-dns-priority-of-a-networkmanager-connection_configuring-the-order-of-dns-servers"><div class="titlepage"><div><div><h2 class="title">19.3. Setting the DNS priority of a NetworkManager connection</h2></div></div></div><p>
				This section describes how to define the order of DNS servers when NetworkManager creates or updates the <code class="literal filename">/etc/resolv.conf</code> file.
			</p><p>
				Note that setting DNS priorities makes only sense if you have multiple connections with different DNS servers configured. If you have only one connection with multiple DNS servers configured, manually set the DNS servers in the preferred order in the connection profile.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The system has multiple NetworkManager connections configured.
					</li><li class="listitem">
						The system either has no <code class="literal parameter">dns</code> parameter set in the <code class="literal filename">/etc/NetworkManager/NetworkManager.conf</code> file or the parameter is set to <code class="literal command">default</code>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optionally, display the available connections:
					</p><pre class="literallayout"># nmcli connection show
NAME           UUID                                  TYPE      DEVICE
Example_con_1  d17ee488-4665-4de2-b28a-48befab0cd43  ethernet  enp1s0
Example_con_2  916e4f67-7145-3ffa-9f7b-e7cada8f6bf7  ethernet  enp7s0
...</pre></li><li class="listitem"><p class="simpara">
						Set the <code class="literal parameter">ipv4.dns-priority</code> and <code class="literal parameter">ipv6.dns-priority</code> parameters. For example, to set both parameters to <code class="literal command">10</code> for the <code class="literal command">Example_con_1</code> connection:
					</p><pre class="literallayout"># nmcli connection modify <span class="emphasis"><em>Example_con_1</em></span> ipv4.dns-priority <span class="emphasis"><em>10</em></span> ipv6.dns-priority <span class="emphasis"><em>10</em></span></pre></li><li class="listitem">
						Optionally, repeat the previous step for other connections.
					</li><li class="listitem"><p class="simpara">
						Re-activate the connection you updated:
					</p><pre class="literallayout"># nmcli connection up <span class="emphasis"><em>Example_con_1</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Display the contents of the <code class="literal filename">/etc/resolv.conf</code> file to verify that the DNS server order is correct:
					</p><pre class="literallayout"># cat /etc/resolv.conf</pre></li></ul></div></section></section><section class="chapter" id="configuring-ip-networking-with-ifcfg-files_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 20. Configuring ip networking with ifcfg files</h1></div></div></div><p>
			This section describes how to configure a network interface manually by editing the <code class="literal">ifcfg</code> files.
		</p><p>
			Interface configuration (ifcfg) files control the software interfaces for individual network devices. As the system boots, it uses these files to determine what interfaces to bring up and how to configure them. These files are usually named <code class="literal">ifcfg-<span class="emphasis"><em>name</em></span></code>, where the suffix <span class="emphasis"><em>name</em></span> refers to the name of the device that the configuration file controls. By convention, the <code class="literal">ifcfg</code> file’s suffix is the same as the string given by the <code class="literal command">DEVICE</code> directive in the configuration file itself.
		</p><p>
			Note, that in RHEL 8 <code class="literal">ifcfg</code> files demand <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> running to use the functionality of the current solution.
		</p><section class="section" id="configuring-an-interface-with-static-network-settings-using-ifcfg-files_configuring-ip-networking-with-ifcfg-files"><div class="titlepage"><div><div><h2 class="title">20.1. Configuring an interface with static network settings using ifcfg files</h2></div></div></div><p>
				This procedure describes how to configure a network interface using <code class="literal">ifcfg</code> files.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> running.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To configure an interface with static network settings using <code class="literal">ifcfg</code> files, for an interface with the name <code class="literal">enp1s0</code>, create a file with the name <code class="literal">ifcfg-enp1s0</code> in the <code class="literal">/etc/sysconfig/network-scripts/</code> directory that contains:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						For <code class="literal">IPv4</code> configuration:
					</p><pre class="literallayout">DEVICE=enp1s0
BOOTPROTO=none
ONBOOT=yes
PREFIX=24
IPADDR=10.0.1.27
GATEWAY=10.0.1.1</pre></li><li class="listitem"><p class="simpara">
						For <code class="literal">IPv6</code> configuration:
					</p><pre class="literallayout">DEVICE=enp1s0
BOOTPROTO=none
ONBOOT=yes
IPV6INIT=yes
IPV6ADDR=2001:db8::2/48</pre><p class="simpara">
						For more <code class="literal">IPv6</code> ifcfg configuration options, see <span class="emphasis"><em><span class="citetitle citetitle"><span class="strong strong"><strong>nm-settings-ifcfg-rh</strong></span>(5)</span></em></span> man page.
					</p></li></ul></div></section><section class="section" id="configuring-an-interface-with-dynamic-network-settings-using-ifcfg-files_configuring-ip-networking-with-ifcfg-files"><div class="titlepage"><div><div><h2 class="title">20.2. Configuring an interface with dynamic network settings using ifcfg files</h2></div></div></div><p>
				This this procedure describes how to configure a network interface with dynamic network settings using <code class="literal">ifcfg</code> files.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To configure an interface named <span class="emphasis"><em>em1</em></span> with dynamic network settings using <code class="literal">ifcfg</code> files, create a file with the name <code class="literal">ifcfg-em1</code> in the <code class="literal">/etc/sysconfig/network-scripts/</code> directory that contains:
					</p><pre class="literallayout">DEVICE=em1
BOOTPROTO=dhcp
ONBOOT=yes</pre></li><li class="listitem"><p class="simpara">
						To configure an interface to send a different host name to the <code class="literal">DHCP</code> server, add the following line to the <code class="literal">ifcfg</code> file:
					</p><pre class="literallayout">DHCP_HOSTNAME=<span class="emphasis"><em>hostname</em></span></pre></li><li class="listitem"><p class="simpara">
						To configure an interface to send a different fully qualified domain name (FQDN) to the <code class="literal">DHCP</code> server, add the following line to the <code class="literal">ifcfg</code> file:
					</p><pre class="literallayout">DHCP_FQDN=<span class="emphasis"><em>fully.qualified.domain.name</em></span></pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Only one directive, either <code class="literal command">DHCP_HOSTNAME</code> or <code class="literal command">DHCP_FQDN</code>, should be used in a given <code class="literal">ifcfg</code> file. In case both <code class="literal command">DHCP_HOSTNAME</code> and <code class="literal command">DHCP_FQDN</code> are specified, only the latter is used.
						</p></div></div></li><li class="listitem"><p class="simpara">
						To configure an interface to use particular <code class="literal">DNS</code> servers, add the following lines to the <code class="literal">ifcfg</code> file:
					</p><pre class="literallayout">  PEERDNS=no
  DNS1=<span class="emphasis"><em>ip-address</em></span>
  DNS2=<span class="emphasis"><em>ip-address</em></span></pre><p class="simpara">
						where <span class="emphasis"><em>ip-address</em></span> is the address of a <code class="literal">DNS</code> server. This will cause the network service to update <code class="literal">/etc/resolv.conf</code> with the specified <code class="literal">DNS</code> servers specified. Only one <code class="literal">DNS</code> server address is necessary, the other is optional.
					</p></li></ol></div></section><section class="section" id="managing-system-wide-and-private-connection-profiles-with-ifcfg-files_configuring-ip-networking-with-ifcfg-files"><div class="titlepage"><div><div><h2 class="title">20.3. Managing system-wide and private connection profiles with ifcfg files</h2></div></div></div><p>
				This procedure describes how to configure <code class="literal">ifcfg</code> files to manage the system-wide and private connection profiles.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> running.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					The permissions correspond to the <code class="literal">USERS</code> directive in the <code class="literal">ifcfg</code> files. If the <code class="literal">USERS</code> directive is not present, the network profile will be available to all users.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						As an example, modify the <code class="literal">ifcfg</code> file with the following row, which will make the connection available only to the users listed:
					</p><pre class="literallayout">USERS="joe bob alice"</pre></li></ol></div></section></section><section class="chapter" id="disabling-ipv6-on-a-system-that-uses-networkmanager_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 21. Disabling IPv6 on a system that uses NetworkManager</h1></div></div></div><p>
			This section describes how to disable the IPv6 protocol on a system that uses NetworkManager to manage network interfaces. If you disable IPv6, NetworkManager automatically sets the corresponding <code class="literal systemitem">sysctl</code> values in the Kernel.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				The NetworkManager service sets certain <code class="literal systemitem">sysctl</code> values when it starts a connection. To avoid unexpected behavior, do not manually set <code class="literal systemitem">sysctl</code> values to disable IPv6.
			</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					The system uses NetworkManager to manage network interfaces, which is the default on Red Hat Enterprise Linux 8.
				</li><li class="listitem">
					The system runs Red Hat Enterprise Linux 8.1 or later.
				</li></ul></div><section class="section" id="disabling-ipv6-on-a-connection-using-nmcli_disabling-ipv6-on-a-system-that-uses-networkmanager"><div class="titlepage"><div><div><h2 class="title">21.1. Disabling IPv6 on a connection using nmcli</h2></div></div></div><p>
				Use this section to disable the IPv6 protocol using the <code class="literal systemitem">nmcli</code> utility.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Optionally, display the list of network connections:
					</p><pre class="literallayout"># nmcli connection show
NAME    UUID                                  TYPE      DEVICE
Example 7a7e0151-9c18-4e6f-89ee-65bb2d64d365  ethernet  enp1s0
...</pre></li><li class="listitem"><p class="simpara">
						Set the <code class="literal parameter">ipv6.method</code> parameter of the connection to <code class="literal command">disabled</code>:
					</p><pre class="literallayout"># nmcli connection modify <span class="emphasis"><em>Example</em></span> ipv6.method "disabled"</pre></li><li class="listitem"><p class="simpara">
						Restart the network connection:
					</p><pre class="literallayout"># nmcli connection up <span class="emphasis"><em>Example</em></span></pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enter the <code class="literal command">ip address show</code> command to display the IP settings of the device:
					</p><pre class="literallayout"># ip address show <span class="emphasis"><em>enp1s0</em></span>
2: <span class="emphasis"><em>enp1s0</em></span>: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:6b:74:be brd ff:ff:ff:ff:ff:ff
    inet 192.0.2.1/24 brd 192.10.2.255 scope global noprefixroute <span class="emphasis"><em>enp1s0</em></span>
       valid_lft forever preferred_lft forever</pre><p class="simpara">
						If no <code class="literal systemitem">inet6</code> entry is displayed, IPv6 is disabled on the device.
					</p></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal filename">/proc/sys/net/ipv6/conf/<span class="emphasis"><em>enp1s0</em></span>/disable_ipv6</code> file now contains the value <code class="literal command">1</code>:
					</p><pre class="literallayout"># cat /proc/sys/net/ipv6/conf/<span class="emphasis"><em>enp1s0</em></span>/disable_ipv6
1</pre><p class="simpara">
						The value <code class="literal command">1</code> means that IPv6 is disabled for the device.
					</p></li></ol></div></section></section><section class="chapter" id="manually-configuring-the-etc-resolv-conf-file_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 22. Manually configuring the /etc/resolv.conf file</h1></div></div></div><p>
			By default, NetworkManager on Red Hat Enterprise Linux (RHEL) 8 dynamically updates the <code class="literal filename">/etc/resolv.conf</code> file with the DNS settings from active NetworkManager connection profiles. This section describes different options on how to disable this feature to manually configure DNS settings in <code class="literal filename">/etc/resolv.conf</code>.
		</p><section class="section" id="disabling-dns-processing-in-the-networkmanager-configuration_manually-configuring-the-etc-resolv-conf-file"><div class="titlepage"><div><div><h2 class="title">22.1. Disabling DNS processing in the NetworkManager configuration</h2></div></div></div><p>
				This section describes how to disable DNS processing in the NetworkManager configuration to manually configure the <code class="literal filename">/etc/resolv.conf</code> file.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal filename">/etc/NetworkManager/conf.d/90-dns-none.conf</code> file with the following content:
					</p><pre class="literallayout">[main]
dns=none</pre></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">NetworkManager</code> service:
					</p><pre class="literallayout"># systemctl reload NetworkManager</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							After you reload the service, NetworkManager no longer updates the <code class="literal filename">/etc/resolv.conf</code> file. However, the last contents of the file are preserved.
						</p></div></div></li><li class="listitem">
						Optionally, remove the <code class="literal command">Generated by NetworkManager</code> comment from <code class="literal filename">/etc/resolv.conf</code> to avoid confusion.
					</li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Edit the <code class="literal filename">/etc/resolv.conf</code> file and manually update the configuration.
					</li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">NetworkManager</code> service:
					</p><pre class="literallayout"># systemctl reload NetworkManager</pre></li><li class="listitem"><p class="simpara">
						Display the <code class="literal filename">/etc/resolv.conf</code> file:
					</p><pre class="literallayout"># cat /etc/resolv.conf</pre><p class="simpara">
						If you successfully disabled DNS processing, NetworkManager did not override the manually configured settings.
					</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details, see the description of the <code class="literal parameter">dns</code> parameter in the <code class="literal citetitle">NetworkManager.conf(5)</code> man page.
					</li></ul></div></section><section class="section" id="replacing-etc-resolv-conf-with-a-symbolic-link-to-manually-configure-dns-settings_manually-configuring-the-etc-resolv-conf-file"><div class="titlepage"><div><div><h2 class="title">22.2. Replacing /etc/resolv.conf with a symbolic link to manually configure DNS settings</h2></div></div></div><p>
				NetworkManager does not automatically update the DNS configuration if <code class="literal filename">/etc/resolv.conf</code> is a symbolic link. This section describes how to replace <code class="literal filename">/etc/resolv.conf</code> with a symbolic link to an alternative file with the DNS configuration.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal option">rc-manager</code> option is not set to <code class="literal command">file</code>. To verify, use the <code class="literal command">NetworkManager --print-config</code> command.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Create a file, such as <code class="literal filename">/etc/resolv.conf.manually-configured</code>, and add the DNS configuration for your environment to it. Use the same parameters and syntax as in the original <code class="literal filename">/etc/resolv.conf</code>.
					</li><li class="listitem"><p class="simpara">
						Remove the <code class="literal filename">/etc/resolv.conf</code> file:
					</p><pre class="literallayout"># rm /etc/resolv.conf</pre></li><li class="listitem"><p class="simpara">
						Create a symbolic link named <code class="literal filename">/etc/resolv.conf</code> that refers to <code class="literal filename">/etc/resolv.conf.manually-configured</code>:
					</p><pre class="literallayout"># ln -s /etc/resolv.conf.manually-configured /etc/resolv.conf</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For details about parameters you can set in <code class="literal filename">/etc/resolv.conf</code>, see the <code class="literal citetitle">resolv.conf(5)</code> man page.
					</li><li class="listitem">
						For further details about why NetworkManager does not process DNS settings if <code class="literal filename">/etc/resolv.conf</code> is a symbolic link, see the description of the <code class="literal parameter">rc-manager</code> parameter in the <code class="literal citetitle">NetworkManager.conf(5)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="configuring-802-3-link-settings_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 23. Configuring 802.3 link settings</h1></div></div></div><p>
			You can configure the 802.3 link settings of an Ethernet connection by modifying the following configuration parameters:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">802-3-ethernet.auto-negotiate</code>
				</li><li class="listitem">
					<code class="literal">802-3-ethernet.speed</code>
				</li><li class="listitem">
					<code class="literal">802-3-ethernet.duplex</code>
				</li></ul></div><p>
			You can configure the 802.3 link settings to the following main modes:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Ignore link negotiation
				</li><li class="listitem">
					Enforce the auto-negotiation activation
				</li><li class="listitem">
					Manually set the <code class="literal">speed</code> and <code class="literal">duplex</code> link settings
				</li></ul></div><section class="section" id="configuring-802-3-link-settings-with-nmcli-tool_configuring-802-3-link-settings"><div class="titlepage"><div><div><h2 class="title">23.1. Configuring 802.3 link settings with nmcli tool</h2></div></div></div><p>
				This procedure describes how to configure 802.3 link settings using the <code class="literal command">nmcli</code> tool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> must be installed and running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To ignore link negotiation, set the following parameters:
					</p><pre class="literallayout">~]# nmcli connection modify <span class="emphasis"><em>connection_name</em></span> 802-3-ethernet.auto-negotiate no 802-3-ethernet.speed 0 802-3-ethernet.duplex ""</pre><p class="simpara">
						Note, that the auto-negotiation parameter is not disabled even if the speed and duplex parameters are not set and the auto-negotiation parameter is set to no.
					</p></li><li class="listitem"><p class="simpara">
						To enforce the auto-negotiation activation, enter the following command:
					</p><pre class="literallayout">~]# nmcli connection modify <span class="emphasis"><em>connection_name</em></span> 802-3-ethernet.auto-negotiate yes 802-3-ethernet.speed 0 802-3-ethernet.duplex ""</pre><p class="simpara">
						That allows to negotiate all the available speed and duplex modes supported by the NIC.
					</p><p class="simpara">
						You can also enable auto-negotiation while advertising and allowing only one speed/duplex mode. This can be useful if you want to enforce <code class="literal">1000BASE-T</code> and <code class="literal">10GBASE-T</code> Ethernet link configuration, as these standards mandate auto-negotiation enabled. To enforce <code class="literal">1000BASE-T</code> standard:
					</p><pre class="literallayout">~]# nmcli connection modify <span class="emphasis"><em>connection_name</em></span> 802-3-ethernet.auto-negotiate yes 802-3-ethernet.speed 1000 802-3-ethernet.duplex full</pre></li><li class="listitem"><p class="simpara">
						To manually set the speed and duplex link settings, enter the following command:
					</p><pre class="literallayout">~]# nmcli connection modify <span class="emphasis"><em>connection_name</em></span> 802-3-ethernet.auto-negotiate no 802-3-ethernet.speed [speed in Mbit/s] 802-3-ethernet.duplex [full|half]</pre></li></ol></div></section></section><section class="chapter" id="configuring-network-connection-settings-using-macsec_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 24. Configuring MACsec</h1></div></div></div><p>
			The following section provides information on how to configure <code class="literal">Media Control Access Security</code> (<code class="literal">MACsec</code>), which is an 802.1AE IEEE standard security technology for secure communication in all traffic on Ethernet links.
		</p><section class="section" id="introduction-to-macsec_configuring-network-connection-settings-using-macsec"><div class="titlepage"><div><div><h2 class="title">24.1. Introduction to MACsec</h2></div></div></div><p>
				<code class="literal">Media Access Control Security</code> (<code class="literal">MACsec</code>, IEEE 802.1AE) encrypts and authenticates all traffic in LANs with the GCM-AES-128 algorithm. <code class="literal">MACsec</code> can protect not only <code class="literal">IP</code> but also Address Resolution Protocol (ARP), Neighbor Discovery (ND), or <code class="literal">DHCP</code>. While <code class="literal">IPsec</code> operates on the network layer (layer 3) and <code class="literal">SSL</code> or <code class="literal">TLS</code> on the application layer (layer 7), <code class="literal">MACsec</code> operates in the data link layer (layer 2). Combine <code class="literal">MACsec</code> with security protocols for other networking layers to take advantage of different security features that these standards provide.
			</p></section><section class="section" id="using-macsec-with-nmcli-tool_configuring-network-connection-settings-using-macsec"><div class="titlepage"><div><div><h2 class="title">24.2. Using MACsec with nmcli tool</h2></div></div></div><p>
				This procedure shows how to configure <code class="literal">MACsec</code> with <code class="literal command">nmcli</code> tool.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> must be running.
					</li><li class="listitem">
						You already have a 16-byte hexadecimal CAK (<code class="literal">$MKA_CAK</code>) and a 32-byte hexadecimal CKN (<code class="literal">$MKA_CKN</code>).
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					
<pre class="screen">~]# nmcli connection add type macsec \
  con-name test-macsec+ ifname <span class="emphasis"><em>macsec0</em></span> \
  connection.autoconnect no \
  macsec.parent enp1s0 macsec.mode psk \
  macsec.mka-cak $MKA_CAK \
  macsec.mka-ckn $MKA_CKN

~]# nmcli connection up test-macsec+</pre>

				</p></div><p>
				After this step, the <span class="emphasis"><em>macsec0</em></span> device is configured and can be used for networking.
			</p></section><section class="section" id="using-macsec-with-wpa_supplicant_configuring-network-connection-settings-using-macsec"><div class="titlepage"><div><div><h2 class="title">24.3. Using MACsec with wpa_supplicant</h2></div></div></div><p>
				This procedure shows how to enable <code class="literal">MACsec</code> with a switch that performs authentication using a pre-shared Connectivity Association Key/CAK Name (CAK/CKN) pair.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a CAK/CKN pair. For example, the following command generates a 16-byte key in hexadecimal notation:
					</p><pre class="screen">~]$ <code class="literal command">dd if=/dev/urandom count=16 bs=1 2&gt; /dev/null | hexdump -e '1/2 "%02x"'</code></pre></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">wpa_supplicant.conf</code> configuration file and add the following lines to it:
					</p><pre class="screen">ctrl_interface=/var/run/wpa_supplicant
eapol_version=3
ap_scan=0
fast_reauth=1

network={
    key_mgmt=NONE
    eapol_flags=0
    macsec_policy=1

    mka_cak=0011... # 16 bytes hexadecimal
    mka_ckn=2233... # 32 bytes hexadecimal
}</pre><p class="simpara">
						Use the values from the previous step to complete the <code class="literal option">mka_cak</code> and <code class="literal option">mka_ckn</code> lines in the <code class="literal">wpa_supplicant.conf</code> configuration file.
					</p><p class="simpara">
						For more information, see the <code class="literal">wpa_supplicant.conf(5)</code> man page.
					</p></li><li class="listitem"><p class="simpara">
						Assuming you are using <span class="emphasis"><em>wlp61s0</em></span> to connect to your network, start <span class="strong strong"><strong><span class="application application">wpa_supplicant</span></strong></span> using the following command:
					</p><pre class="screen">~]# wpa_supplicant -i wlp61s0 -Dmacsec_linux -c wpa_supplicant.conf</pre></li></ol></div></section><section class="section" id="related-information-configuring-network-connection-settings-using-macsec"><div class="titlepage"><div><div><h2 class="title">24.4. Related information</h2></div></div></div><p>
				For more details, see the <a class="link" href="https://developers.redhat.com/blog/2017/06/28/whats-new-in-macsec-setting-up-macsec-using-wpa_supplicant-and-optionally-networkmanager/">What’s new in MACsec: setting up MACsec using wpa_supplicant and (optionally) NetworkManager</a> article. In addition, see the <a class="link" href="https://developers.redhat.com/blog/2016/10/14/macsec-a-different-solution-to-encrypt-network-traffic/">MACsec: a different solution to encrypt network traffic</a> article for more information about the architecture of a <code class="literal">MACsec</code> network, use case scenarios, and configuration examples.
			</p></section></section><section class="chapter" id="using-different-dns-servers-for-different-domains_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 25. Using different DNS servers for different domains</h1></div></div></div><p>
			By default, Red Hat Enterprise Linux (RHEL) sends all DNS requests to the first DNS server specified in the <code class="literal filename">/etc/resolv.conf</code> file. If this server does not reply, RHEL uses the next server in this file.
		</p><p>
			In environments where one DNS server cannot resolve all domains, administrators can configure RHEL to send DNS requests for a specific domain to a selected DNS server. For example, you can configure one DNS server to resolve queries for <code class="literal systemitem">example.com</code> and another DNS server to resolve queries for <code class="literal systemitem">example.net</code>. For all other DNS requests, RHEL uses the DNS server configured in the connection with the default gateway.
		</p><section class="section" id="sending-dns-requests-for-a-specific-domain-to-a-selected-dns-servers_using-different-dns-servers-for-different-domains"><div class="titlepage"><div><div><h2 class="title">25.1. Sending DNS requests for a specific domain to a selected DNS server</h2></div></div></div><p>
				This section configures <code class="literal systemitem">systemd-resolved</code> service and NetworkManager to send DNS queries for a specific domain to a selected DNS server.
			</p><p>
				If you complete the procedure in this section, RHEL uses the DNS service provided by <code class="literal systemitem">systemd-resolved</code> in the <code class="literal filename">/etc/resolv.conf</code> file. The <code class="literal systemitem">systemd-resolved</code> service starts a DNS service that listens on port <code class="literal systemitem">53</code> IP address <code class="literal systemitem">127.0.0.53</code>. The service dynamically routes DNS requests to the corresponding DNS servers specified in NetworkManager.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal systemitem">127.0.0.53</code> address is only reachable from the local system and not from the network.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The system has multiple NetworkManager connections configured.
					</li><li class="listitem"><p class="simpara">
						A DNS server and search domain are configured in the NetworkManager connections that are responsible for resolving a specific domain
					</p><p class="simpara">
						For example, if the DNS server specified in a VPN connection should resolve queries for the <code class="literal systemitem">example.com</code> domain, the VPN connection profile must have:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Configured a DNS server that can resolve <code class="literal systemitem">example.com</code>
							</li><li class="listitem">
								Configured the search domain to <code class="literal systemitem">example.com</code> in the <code class="literal parameter">ipv4.dns-search</code> and <code class="literal parameter">ipv6.dns-search</code> parameters
							</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Start and enable the <code class="literal systemitem">systemd-resolved</code> service:
					</p><pre class="literallayout"># systemctl --now enable systemd-resolved</pre></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/NetworkManager/NetworkManager.conf</code> file, and set the following entry in the <code class="literal systemitem">[main]</code> section:
					</p><pre class="literallayout">dns=systemd-resolved</pre></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">NetworkManager</code> service:
					</p><pre class="literallayout"># systemctl reload NetworkManager</pre></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify that the <code class="literal parameter">nameserver</code> entry in the <code class="literal filename">/etc/resolv.conf</code> file refers to <code class="literal systemitem">127.0.0.53</code>:
					</p><pre class="literallayout"># cat /etc/resolv.conf
nameserver 127.0.0.53</pre></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal systemitem">systemd-resolved</code> service listens on port <code class="literal systemitem">53</code> on the local IP address <code class="literal systemitem">127.0.0.53</code>:
					</p><pre class="literallayout"># netstat -tulpn | grep "127.0.0.53:53"
tcp   0   0 127.0.0.53:53   0.0.0.0:*   LISTEN   <span class="emphasis"><em>1050</em></span>/systemd-resolv
udp   0   0 127.0.0.53:53   0.0.0.0:*            <span class="emphasis"><em>1050</em></span>/systemd-resolv</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details, see the description of the <code class="literal parameter">dns</code> parameter in the <code class="literal citetitle">NetworkManager.conf(5)</code> man page.
					</li></ul></div></section></section><section class="chapter" id="getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 26. Getting started with Remote Direct Memory Access and Remote Memory Access networks</h1></div></div></div><p>
			This section describes configuring the core Remote Direct Memory Access (RDMA) and Remove Memory Access (RMA) subsystems, as well as the OpenSM service.
		</p><section class="section" id="configuring-the-core-rdma-subsystem_getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks"><div class="titlepage"><div><div><h2 class="title">26.1. Configuring the core RDMA subsystem</h2></div></div></div><p>
				This section describes how to configure the <code class="literal systemitem">rdma</code> service and increase the amount of memory that users are allowed to pin in the system.
			</p><section class="section" id="configuring-the-rdma-service_configuring-the-core-rdma-subsystem"><div class="titlepage"><div><div><h3 class="title">26.1.1. Configuring the rdma service</h3></div></div></div><p>
					The <code class="literal systemitem">rdma</code> service manages the RDMA stack in the kernel. If Red Hat Enterprise Linux detects InfiniBand, iWARP, or RoCE devices, the <code class="literal systemitem">udev</code> device manager instructs <code class="literal systemitem">systemd</code> to start the <code class="literal systemitem">rdma</code> service. This ensures that the RDMA subsystem starts automatically when the system detects RDMA hardware.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal package">rdma-core</code> package:
						</p><pre class="literallayout"># yum install rdma-core</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/rdma/rdma.conf</code> file and set the variables of the modules you want to enable to <code class="literal command">yes</code>. The following is the default <code class="literal filename">/etc/rdma/rdma.conf</code> file on Red Hat Enterprise Linux 8:
						</p><pre class="literallayout"># Load IPoIB
IPOIB_LOAD=yes
# Load SRP (SCSI Remote Protocol initiator support) module
SRP_LOAD=yes
# Load SRPT (SCSI Remote Protocol target support) module
SRPT_LOAD=yes
# Load iSER (iSCSI over RDMA initiator support) module
ISER_LOAD=yes
# Load iSERT (iSCSI over RDMA target support) module
ISERT_LOAD=yes
# Load RDS (Reliable Datagram Service) network protocol
RDS_LOAD=no
# Load NFSoRDMA client transport module
XPRTRDMA_LOAD=yes
# Load NFSoRDMA server transport module
SVCRDMA_LOAD=no
# Load Tech Preview device driver modules
TECH_PREVIEW_LOAD=no</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Red Hat Enterprise Linux does not start the RDMA subsystem if the system detects an Intel x722 iWARP device that uses the <code class="literal systemitem">i40iw</code> driver, because not all of these devices are iWARP-capable. This prevents wasting considerable system resources. To enable and start the RDMA subsystem on a server with an Intel x722 device, set the <code class="literal parameter">TECH_PREVIEW_LOAD</code> parameter to <code class="literal command">yes</code>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							If you use hardware that RHEL does not automatically detect, namely soft-iWARP and soft-RoCE devices, enable the <code class="literal systemitem">rdma</code> service:
						</p><pre class="literallayout"># systemctl enable rdma.service</pre></li><li class="listitem"><p class="simpara">
							Reboot the server:
						</p><pre class="literallayout"># systemctl reboot</pre></li></ol></div></section><section class="section" id="increasing-the-amount-of-memory-that-users-are-allowed-to-pin-in-the-system_configuring-the-core-rdma-subsystem"><div class="titlepage"><div><div><h3 class="title">26.1.2. Increasing the amount of memory that users are allowed to pin in the system</h3></div></div></div><p>
					RDMA operations require pinning of physical memory. This means that the kernel is not allowed to write memory into the swap space. If a user pins too much memory, the system can run out of memory, and the kernel terminates processes in order to free up more memory. For this reason, memory pinning is a privileged operation.
				</p><p>
					If non-root users run large RDMA applications, it can be necessary to increase the amount of memory these users can pin in the system. This section describes how to configure an unlimited amount of memory for the <code class="literal systemitem">rdma</code> group.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							As the <code class="literal systemitem">root</code> user, create the <code class="literal filename">/etc/security/limits.d/rdma.conf</code> file with the following content:
						</p><pre class="literallayout">@rdma    soft    memlock     unlimited
@rdma    hard    memlock     unlimited</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Verification steps</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Log in as a member of the <code class="literal systemitem">rdma</code> group after you edited the <code class="literal filename">/etc/security/limits.d/rdma.conf</code> file.
						</p><p class="simpara">
							Note that Red Hat Enterprise Linux applies updated <code class="literal systemitem">ulimit</code> settings when the user logs in.
						</p></li><li class="listitem"><p class="simpara">
							Use the <code class="literal command">ulimit -l</code> command to display the limit:
						</p><pre class="literallayout">$ ulimit -l
unlimited</pre><p class="simpara">
							If the command returns <code class="literal command">unlimited</code>, the user can pin an unlimited amount of memory.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For further details about limiting system resources, see the <code class="literal citetitle">limits.conf(5)</code> man page.
						</li></ul></div></section></section><section class="section" id="configuring-an-infiniband-subnet-manager_getting-started-with-remote-direct-memory-access-and-remote-memory-access-networks"><div class="titlepage"><div><div><h2 class="title">26.2. Configuring an InfiniBand subnet manager</h2></div></div></div><p>
				All InfiniBand networks must have a subnet manager running for the network to function. This is true even if two machines are connected directly with no switch involved.
			</p><p>
				It is possible to have more than one subnet manager. In that case one acts as a master and another subnet manager acts as a slave that will take over in case the master subnet manager fails.
			</p><p>
				Most InfiniBand switches contain an embedded subnet manager. However, if you need a more up-to-date subnet manager or if you require more control, use the <code class="literal systemitem">OpenSM</code> subnet manager provided by Red Hat Enterprise Linux.
			</p><section class="section" id="installing-the-opensm-subnet-manager_configuring-an-infiniband-subnet-manager"><div class="titlepage"><div><div><h3 class="title">26.2.1. Installing the OpenSM subnet manager</h3></div></div></div><p>
					This section describes how to install the OpenSM subnet manager.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal package">opensm</code> package:
						</p><pre class="literallayout"># yum install opensm</pre></li><li class="listitem"><p class="simpara">
							Configure OpenSM if the default installation does not match your environment.
						</p><p class="simpara">
							If only one InfiniBand port is installed, the host should act as the master subnet manager, and no custom changes are needed. The default configuration works without any modification.
						</p></li><li class="listitem"><p class="simpara">
							Enable and start the <code class="literal systemitem">opensm</code> service:
						</p><pre class="literallayout"># systemctl enable --now opensm</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For a list of command line options for the <code class="literal command">opensm</code> service, as well as additional descriptions of the partitions configurations, Quality of Service (QoS), and other advanced topics, see the <code class="literal citetitle">opensm(8)</code> man page.
						</li></ul></div></section><section class="section" id="configuring-opensm-using-the-simple-method_configuring-an-infiniband-subnet-manager"><div class="titlepage"><div><div><h3 class="title">26.2.2. Configuring OpenSM using the simple method</h3></div></div></div><p>
					This section describes how to configure OpenSM if you do not need any customized settings.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							One or more InfiniBand ports are installed in the server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Obtain the GUIDs for the ports using the <code class="literal systemitem">ibstat</code> utility:
						</p><pre class="literallayout"># ibstat -d <span class="emphasis"><em>device_name</em></span>
CA 'mlx4_0'
   CA type: MT4099
   Number of ports: 2
   Firmware version: 2.42.5000
   Hardware version: 1
   Node GUID: 0xf4521403007be130
   System image GUID: 0xf4521403007be133
   Port 1:
      State: Active
      Physical state: LinkUp
      Rate: 56
      Base lid: 3
      LMC: 0
      SM lid: 1
      Capability mask: 0x02594868
      Port GUID: 0xf4521403007be131
      Link layer: InfiniBand
   Port 2:
      State: Down
      Physical state: Disabled
      Rate: 10
      Base lid: 0
      LMC: 0
      SM lid: 0
      Capability mask: 0x04010000
      Port GUID: 0xf65214fffe7be132
      Link layer: Ethernet</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Some InfiniBand adapters use the same GUID for the node, system, and port.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/sysconfig/opensm</code> file and set the GUIDs in the <code class="literal parameter">GUIDS</code> parameter:
						</p><pre class="literallayout">GUIDS="<span class="emphasis"><em>GUID_1</em></span> <span class="emphasis"><em>GUID_2</em></span>"</pre></li><li class="listitem"><p class="simpara">
							Optionally, set the <code class="literal parameter">PRIORITY</code> parameter if multiple subnet managers are available in your subnet. For example:
						</p><pre class="literallayout">PRIORITY=15</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For additional information on the parameters you can set in <code class="literal filename">/etc/sysconfig/opensm</code>, see the documentation in that file.
						</li></ul></div></section><section class="section" id="configuring-opensm-by-editing-the-opensm-conf-file_configuring-an-infiniband-subnet-manager"><div class="titlepage"><div><div><h3 class="title">26.2.3. Configuring OpenSM by editing the opensm.conf file</h3></div></div></div><p>
					This section describes how to configure OpenSM by editing the <code class="literal filename">/etc/rdma/opensm.conf</code> file. Use this method to customize the OpenSM configuration if only one InfiniBand port is available.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Only one InfiniBand port is installed in the server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Edit the <code class="literal filename">/etc/rdma/opensm.conf</code> file and customize the settings to match your environment.
						</li><li class="listitem"><p class="simpara">
							Restart the <code class="literal systemitem">opensm</code> service:
						</p><pre class="literallayout"># systemctl restart opensm</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							When you install an updated <code class="literal package">opensm</code> package, the <code class="literal systemitem">yum</code> utility stores the new OpenSM configuration file as <code class="literal filename">/etc/rdma/opensm.conf.rpmnew</code>. Compare this file with your customized <code class="literal filename">/etc/rdma/opensm.conf</code> file and manually incorporate the changes.
						</li></ul></div></section><section class="section" id="configuring-multiple-opensm-instances_configuring-an-infiniband-subnet-manager"><div class="titlepage"><div><div><h3 class="title">26.2.4. Configuring multiple OpenSM instances</h3></div></div></div><p>
					This section describes how to set up multiple instances of OpenSM.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							One or more InfiniBand ports are installed in the server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Optionally, copy the <code class="literal filename">/etc/rdma/opensm.conf</code> file to <code class="literal filename">/etc/rdma/opensm.conf.orig</code> file:
						</p><pre class="literallayout"># cp /etc/rdma/opensm.conf /etc/rdma/opensm.conf.orig</pre><p class="simpara">
							When you install an updated <code class="literal package">opensm</code> package, the <code class="literal systemitem">yum</code> utility overrides the <code class="literal filename">/etc/rdma/opensm.conf</code>. With the copy created in this step, you can compare the previous and new file to identify changes and incorporate them manually in the instance-specific <code class="literal filename">opensm.conf</code> files.
						</p></li><li class="listitem"><p class="simpara">
							Create a copy of the <code class="literal filename">/etc/rdma/opensm.conf</code> file:
						</p><pre class="literallayout"># cp /etc/rdma/opensm.conf /etc/rdma/opensm.conf.1</pre><p class="simpara">
							For each instance you create, append a unique and continuous number to the copy of the configuration file.
						</p></li><li class="listitem">
							Edit the copy you created in the previous step, and customize the settings for the instance to match your environment. For example, set the <code class="literal parameter">guid</code>, <code class="literal parameter">subnet_prefix</code>, and <code class="literal parameter">logdir</code> parameters.
						</li><li class="listitem">
							Optionally, create a <code class="literal filename">partitions.conf</code> file with a unique name specifically for this subnet and reference that file in the <code class="literal parameter">partition_config_file</code> parameter in the corresponding copy of the <code class="literal filename">opensm.conf</code> file.
						</li><li class="listitem">
							Repeat the previous steps for each instance you want to create.
						</li><li class="listitem"><p class="simpara">
							Start the <code class="literal systemitem">opensm</code> service:
						</p><pre class="literallayout"># systemctl start opensm</pre><p class="simpara">
							The <code class="literal systemitem">opensm</code> service automatically starts a unique instance for each <code class="literal filename">opensm.conf.*</code> file in the <code class="literal filename">/etc/rdma/</code> directory. If multiple <code class="literal filename">opensm.conf.*</code> files exist, the service ignores settings in the <code class="literal filename">/etc/sysconfig/opensm</code> file as well as in the base <code class="literal filename">/etc/rdma/opensm.conf</code> file.
						</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							When you install an updated <code class="literal package">opensm</code> package, the <code class="literal systemitem">yum</code> utility stores the new OpenSM configuration file as <code class="literal filename">/etc/rdma/opensm.conf.rpmnew</code>. Compare this file with your customized <code class="literal filename">/etc/rdma/opensm.conf.\*</code> files and manually incorporate the changes.
						</li></ul></div></section><section class="section" id="creating-a-partition-configuration_configuring-an-infiniband-subnet-manager"><div class="titlepage"><div><div><h3 class="title">26.2.5. Creating a partition configuration</h3></div></div></div><p>
					This section describes how to create InfiniBand partition configurations for OpenSM. Partitions enable administrators to create subnets on InfiniBand similar to Ethernet VLANs.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you define a partition with a specific speed, such as 40 Gbps, all hosts within this partition must support at least this speed. If a host does not meet the speed requirements, it cannot join the partition. Therefore, set the speed of a partition to the lowest speed supported by any host with permission to join the partition.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							One or more InfiniBand ports are installed in the server.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/rdma/partitions.conf</code> file and configure the partitions.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								All fabrics must contain the <code class="literal systemitem">0x7fff</code> partition, and all switches and all hosts must belong to that fabric.
							</p></div></div><p class="simpara">
							For example, add the following content to the file to create the <code class="literal systemitem">0x7fff</code> default partition at a reduced speed of 10 Gbps, and a partition <code class="literal systemitem">0x0002</code> with a speed of 40 Gbps:
						</p><pre class="literallayout"># For reference:
# IPv4 IANA reserved multicast addresses:
#   http://www.iana.org/assignments/multicast-addresses/multicast-addresses.txt
# IPv6 IANA reserved multicast addresses:
#   http://www.iana.org/assignments/ipv6-multicast-addresses/ipv6-multicast-addresses.xml
#
# mtu =
#   1 = 256
#   2 = 512
#   3 = 1024
#   4 = 2048
#   5 = 4096
#
# rate =
#   2  =   2.5 GBit/s
#   3  =  10   GBit/s
#   4  =  30   GBit/s
#   5  =   5   GBit/s
#   6  =  20   GBit/s
#   7  =  40   GBit/s
#   8  =  60   GBit/s
#   9  =  80   GBit/s
#   10 = 120   GBit/s

Default=0x7fff, rate=3, mtu=4, scope=2, defmember=full:
    ALL, ALL_SWITCHES=full;
Default=0x7fff, ipoib, rate=3, mtu=4, scope=2:
    mgid=ff12:401b::ffff:ffff   # IPv4 Broadcast address
    mgid=ff12:401b::1           # IPv4 All Hosts group
    mgid=ff12:401b::2           # IPv4 All Routers group
    mgid=ff12:401b::16          # IPv4 IGMP group
    mgid=ff12:401b::fb          # IPv4 mDNS group
    mgid=ff12:401b::fc          # IPv4 Multicast Link Local Name Resolution group
    mgid=ff12:401b::101         # IPv4 NTP group
    mgid=ff12:401b::202         # IPv4 Sun RPC
    mgid=ff12:601b::1           # IPv6 All Hosts group
    mgid=ff12:601b::2           # IPv6 All Routers group
    mgid=ff12:601b::16          # IPv6 MLDv2-capable Routers group
    mgid=ff12:601b::fb          # IPv6 mDNS group
    mgid=ff12:601b::101         # IPv6 NTP group
    mgid=ff12:601b::202         # IPv6 Sun RPC group
    mgid=ff12:601b::1:3         # IPv6 Multicast Link Local Name Resolution group
    ALL=full, ALL_SWITCHES=full;

ib0_2=0x0002, rate=7, mtu=4, scope=2, defmember=full:
        ALL, ALL_SWITCHES=full;
ib0_2=0x0002, ipoib, rate=7, mtu=4, scope=2:
    mgid=ff12:401b::ffff:ffff   # IPv4 Broadcast address
    mgid=ff12:401b::1           # IPv4 All Hosts group
    mgid=ff12:401b::2           # IPv4 All Routers group
    mgid=ff12:401b::16          # IPv4 IGMP group
    mgid=ff12:401b::fb          # IPv4 mDNS group
    mgid=ff12:401b::fc          # IPv4 Multicast Link Local Name Resolution group
    mgid=ff12:401b::101         # IPv4 NTP group
    mgid=ff12:401b::202         # IPv4 Sun RPC
    mgid=ff12:601b::1           # IPv6 All Hosts group
    mgid=ff12:601b::2           # IPv6 All Routers group
    mgid=ff12:601b::16          # IPv6 MLDv2-capable Routers group
    mgid=ff12:601b::fb          # IPv6 mDNS group
    mgid=ff12:601b::101         # IPv6 NTP group
    mgid=ff12:601b::202         # IPv6 Sun RPC group
    mgid=ff12:601b::1:3         # IPv6 Multicast Link Local Name Resolution group
    ALL=full, ALL_SWITCHES=full;</pre></li></ol></div></section></section></section><section class="chapter" id="getting-started-with-ipvlan_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 27. Getting started with IPVLAN</h1></div></div></div><p>
			This document describes the IPVLAN driver.
		</p><section class="section" id="ipvlan-overview_getting-started-with-ipvlan"><div class="titlepage"><div><div><h2 class="title">27.1. IPVLAN overview</h2></div></div></div><p>
				IPVLAN is a driver for a virtual network device that can be used in container environment to access the host network. IPVLAN exposes a single MAC address to the external network regardless the number of IPVLAN device created inside the host network. This means that a user can have multiple IPVLAN devices in multiple containers and the corresponding switch reads a single MAC address. IPVLAN driver is useful when the local switch imposes constraints on the total number of MAC addresses that it can manage.
			</p></section><section class="section" id="ipvlan-modes_getting-started-with-ipvlan"><div class="titlepage"><div><div><h2 class="title">27.2. IPVLAN modes</h2></div></div></div><p>
				The following modes are available for IPVLAN:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>L2 mode</strong></span>
					</p><p class="simpara">
						In IPVLAN <span class="strong strong"><strong>L2 mode</strong></span>, virtual devices receive and respond to Address Resolution Protocol (ARP) requests. The <code class="literal">netfilter</code> framework runs only inside the container that owns the virtual device. No <code class="literal">netfilter</code> chains are executed in the default namespace on the containerized traffic. Using <span class="strong strong"><strong>L2 mode</strong></span> provides good performance, but less control on the network traffic.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>L3 mode</strong></span>
					</p><p class="simpara">
						In <span class="strong strong"><strong>L3 mode</strong></span>, virtual devices process only <span class="strong strong"><strong>L3</strong></span> traffic and above. Virtual devices do not respond to ARP request and users must configure the neighbour entries for the IPVLAN IP addresses on the relevant peers manually. The egress traffic of a relevant container is landed on the <code class="literal">netfilter</code> POSTROUTING and OUTPUT chains in the default namespace while the ingress traffic is threaded in the same way as <span class="strong strong"><strong>L2 mode</strong></span>. Using <span class="strong strong"><strong>L3 mode</strong></span> provides good control but decreases the network traffic performance.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>L3S mode</strong></span>
					</p><p class="simpara">
						In <span class="strong strong"><strong>L3S mode</strong></span>, virtual devices process the same way as in <span class="strong strong"><strong>L3 mode</strong></span>, except that both egress and ingress traffics of a relevant container are landed on <code class="literal">netfilter</code> chain in the default namespace. <span class="strong strong"><strong>L3S mode</strong></span> behaves in a similar way to <span class="strong strong"><strong>L3 mode</strong></span> but provides greater control of the network.
					</p></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The IPVLAN virtual device does not receive broadcast and multicast traffic in case of <span class="strong strong"><strong>L3</strong></span> and <span class="strong strong"><strong>L3S modes</strong></span>.
				</p></div></div></section><section class="section" id="overview-of-macvlan_getting-started-with-ipvlan"><div class="titlepage"><div><div><h2 class="title">27.3. Overview of MACVLAN</h2></div></div></div><p>
				The MACVLAN driver allows to create multiple virtual network devices on top of a single NIC, each of them identified by its own unique MAC address. Packets which land on the physical NIC are demultiplexed towards the relevant MACVLAN device via MAC address of the destination. MACVLAN devices do not add any level of encapsulation.
			</p></section><section class="section" id="ipvlan-and-macvlan_getting-started-with-ipvlan"><div class="titlepage"><div><div><h2 class="title">27.4. Comparison of IPVLAN and MACVLAN</h2></div></div></div><p>
				The following table shows the major differences between MACVLAN and IPVLAN.
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885354550752" scope="col">MACVLAN</th><th align="left" valign="top" id="idm139885354549664" scope="col">IPVLAN</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885354550752"> <p>
								Uses MAC address for each MACVLAN device. The overlimit of MAC addresses of MAC table in switch might cause loosing the connectivity.
							</p>
							 </td><td align="left" valign="top" headers="idm139885354549664"> <p>
								Uses single MAC address which does not limit the number of IPVLAN devices.
							</p>
							 </td></tr><tr><td align="left" valign="top" headers="idm139885354550752"> <p>
								Netfilter rules for global namespace cannot affect traffic to or from MACVLAN device in a child namespace.
							</p>
							 </td><td align="left" valign="top" headers="idm139885354549664"> <p>
								It is possible to control traffic to or from IPVLAN device in <span class="strong strong"><strong>L3 mode</strong></span> and <span class="strong strong"><strong>L3S mode</strong></span>.
							</p>
							 </td></tr></tbody></table></div><p>
				Note that both IPVLAN and MACVLAN do not require any level of incapsulation.
			</p></section><section class="section" id="configuring-ipvlan-network_getting-started-with-ipvlan"><div class="titlepage"><div><div><h2 class="title">27.5. Configuring IPVLAN network</h2></div></div></div><section class="section" id="creating-and-configuring-the-ipvlan-device-using-iproute2_configuring-ipvlan-network"><div class="titlepage"><div><div><h3 class="title">27.5.1. Creating and configuring the IPVLAN device using iproute2</h3></div></div></div><p>
					This procedure shows how to set up the IPVLAN device using iproute2.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To create an IPVLAN device, enter the following command:
						</p><pre class="literallayout">~]# ip link add link <span class="emphasis"><em>real_NIC_device</em></span> name <span class="emphasis"><em>IPVLAN_device</em></span> type ipvlan mode l2</pre><p class="simpara">
							Note that network interface controller (NIC) is a hardware component which connects a computer to a network.
						</p><div class="example" id="idm139885354530080"><p class="title"><strong>Example 27.1. Creating an IPVLAN device</strong></p><div class="example-contents"><pre class="screen">~]# ip link add link enp0s31f6 name my_ipvlan type ipvlan mode l2
~]# ip link
47: my_ipvlan@enp0s31f6: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether e8:6a:6e:8a:a2:44 brd ff:ff:ff:ff:ff:ff</pre></div></div></li><li class="listitem"><p class="simpara">
							To assign an <code class="literal">IPv4</code> or <code class="literal">IPv6</code> address to the interface, enter the following command:
						</p><pre class="literallayout">~]# ip addr add dev <span class="emphasis"><em>IPVLAN_device</em></span> <span class="emphasis"><em>IP_address/subnet_mask_prefix</em></span></pre></li><li class="listitem"><p class="simpara">
							In case of configuring an IPVLAN device in <span class="strong strong"><strong>L3 mode</strong></span> or <span class="strong strong"><strong>L3S mode</strong></span>, make the following setups:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Configure the neighbor setup for the remote peer on the remote host:
								</p><pre class="literallayout">~]# ip neigh add dev <span class="emphasis"><em>peer_device</em></span> <span class="emphasis"><em>IPVLAN_device_IP_address</em></span> lladdr <span class="emphasis"><em>MAC_address</em></span></pre><p class="simpara">
									where <span class="emphasis"><em>MAC_address</em></span> is the MAC address of the real NIC on which an IPVLAN device is based on.
								</p></li><li class="listitem"><p class="simpara">
									Configure an IPVLAN device for <span class="strong strong"><strong>L3 mode</strong></span> with the following command:
								</p><pre class="literallayout">~]# ip neigh add dev <span class="emphasis"><em>real_NIC_device</em></span> <span class="emphasis"><em>peer_IP_address</em></span> lladdr <span class="emphasis"><em>peer_MAC_address</em></span></pre><p class="simpara">
									For <span class="strong strong"><strong>L3S mode</strong></span>:
								</p><pre class="literallayout">~]# ip route dev add <span class="emphasis"><em>real_NIC_device</em></span> <span class="emphasis"><em>peer_IP_address/32</em></span></pre><p class="simpara">
									where IP-address represents the address of the remote peer.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							To set an IPVLAN device active, enter the following command:
						</p><pre class="literallayout">~]# ip link set dev <span class="emphasis"><em>IPVLAN_device</em></span> up</pre></li><li class="listitem"><p class="simpara">
							To check if the IPVLAN device is active, execute the following command on the remote host:
						</p><pre class="literallayout">~]# ping <span class="emphasis"><em>IP_address</em></span></pre><p class="simpara">
							where the <span class="emphasis"><em>IP_address</em></span> uses the IP address of the IPVLAN device.
						</p></li></ol></div></section></section></section><section class="chapter" id="configuring-virtual-routing-and-forwarding-vrf_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 28. Configuring virtual routing and forwarding (VRF)</h1></div></div></div><p>
			With Virtual routing and forwarding (VRF), Administrators can use multiple routing tables simultaneously on the same host. For that, VRF partitions a network at layer 3. This enables the administrator to isolate traffic using separate and independent route tables per VRF domain. This technique is similar to virtual LANs (VLAN), which partitions a network at layer 2, where the operating system uses different VLAN tags to isolate traffic sharing the same physical medium.
		</p><p>
			One benefit of VRF over partitioning on layer 2 is that routing scales better considering the number of peers involved.
		</p><p>
			Red Hat Enterprise Linux uses a virtual <code class="literal systemitem">vrt</code> device for each VRF domain and adds routes to a VRF domain by enslaving existing network devices to a VRF device. Addresses and routes previously attached to the enslaved device will be moved inside the VRF domain.
		</p><p>
			Note that each VRF domain is isolated from each other.
		</p><section class="section" id="temporarily-reusing-the-same-ip-address-on-different-interfaces_configuring-virtual-routing-and-forwarding-vrf"><div class="titlepage"><div><div><h2 class="title">28.1. Temporarily reusing the same IP address on different interfaces</h2></div></div></div><p>
				The procedure in this section describes how to temporarily use the same IP address on different interfaces in one server by using the virtual routing and forwarding (VRF) feature. Use this procedure only for testing purposes, because the configuration is temporary and lost after you reboot the system.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					To enable remote peers to contact both VRF interfaces while reusing the same IP address, the network interfaces must belong to different broadcasting domains. A broadcast domain in a network is a set of nodes which receive broadcast traffic sent by any of them. In most configurations, all nodes connected to the same switch belong to the same broadcasting domain.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li><li class="listitem">
						The network interfaces are not configured.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create and configure the first VRF device:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create the VRF device and assign it to a routing table. For example, to create a VRF device named <code class="literal systemitem">blue</code> that is assigned to the <code class="literal systemitem">1001</code> routing table:
							</p><pre class="literallayout"># ip link add dev blue type vrf table 1001</pre></li><li class="listitem"><p class="simpara">
								Enable the <code class="literal systemitem">blue</code> device:
							</p><pre class="literallayout"># ip link set dev blue up</pre></li><li class="listitem"><p class="simpara">
								Assign a network device to the VRF device. For example, to add the <code class="literal systemitem">enp1s0</code> Ethernet device to the <code class="literal systemitem">blue</code> VRF device:
							</p><pre class="literallayout"># ip link set dev enp1s0 master blue</pre></li><li class="listitem"><p class="simpara">
								Enable the <code class="literal systemitem">enp1s0</code> device:
							</p><pre class="literallayout"># ip link set dev enp1s0 up</pre></li><li class="listitem"><p class="simpara">
								Assign an IP address and subnet mask to the <code class="literal systemitem">enp1s0</code> device. For example, to set it to <code class="literal systemitem">192.0.2.1/24</code>:
							</p><pre class="literallayout"># ip addr add dev enp1s0 192.0.2.1/24</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						Create and configure the next VRF device:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create the VRF device and assign it to a routing table. For example, to create a VRF device named <code class="literal systemitem">red</code> that is assigned to the <code class="literal systemitem">1002</code> routing table:
							</p><pre class="literallayout"># ip link add dev red type vrf table 1002</pre></li><li class="listitem"><p class="simpara">
								Enable the <code class="literal systemitem">red</code> device:
							</p><pre class="literallayout"># ip link set dev red up</pre></li><li class="listitem"><p class="simpara">
								Assign a network device to the VRF device. For example, to add the <code class="literal systemitem">enp7s0</code> Ethernet device to the <code class="literal systemitem">red</code> VRF device:
							</p><pre class="literallayout"># ip link set dev enp7s0 master red</pre></li><li class="listitem"><p class="simpara">
								Enable the <code class="literal systemitem">enp7s0</code> device:
							</p><pre class="literallayout"># ip link set dev enp7s0 up</pre></li><li class="listitem"><p class="simpara">
								Assign the same IP address and subnet mask to the <code class="literal systemitem">enp7s0</code> device as you used for <code class="literal systemitem">enp1s0</code> in the <code class="literal systemitem">blue</code> VRF domain:
							</p><pre class="literallayout"># ip addr add dev enp7s0 192.0.2.1/24</pre></li></ol></div></li><li class="listitem">
						Optionally, create further VRF devices as described above.
					</li></ol></div></section><section class="section" id="related_information_2"><div class="titlepage"><div><div><h2 class="title">28.2. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://www.kernel.org/doc/Documentation/networking/vrf.txt">https://www.kernel.org/doc/Documentation/networking/vrf.txt</a>
					</li></ul></div></section></section><section class="chapter" id="setting-your-routing-protocols_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 29. Setting the routing protocols for your system</h1></div></div></div><p>
			This section describes how to use the <span class="strong strong"><strong><span class="application application">Free Range Routing</span></strong></span> (<span class="strong strong"><strong>FRRouting</strong></span>, or <span class="strong strong"><strong>FRR</strong></span>) feature to enable and set the required routing protocols for your system.
		</p><section class="section" id="intro-to-frr_setting-your-routing-protocols"><div class="titlepage"><div><div><h2 class="title">29.1. Introduction to FRRouting</h2></div></div></div><p>
				<span class="strong strong"><strong><span class="application application">Free Range Routing</span></strong></span> (<span class="strong strong"><strong>FRRouting</strong></span>, or <span class="strong strong"><strong>FRR</strong></span>) is a routing protocol stack, which is provided by the <code class="literal package">frr</code> package available in the <span class="strong strong"><strong>AppStream</strong></span> repository.
			</p><p>
				<span class="strong strong"><strong><span class="application application">FRR</span></strong></span> replaces <span class="strong strong"><strong><span class="application application">Quagga</span></strong></span> that was used on previous RHEL versions. As such, <span class="strong strong"><strong><span class="application application">FRR</span></strong></span> provides TCP/IP-based routing services with support for multiple IPv4 and IPv6 routing protocols.
			</p><p>
				The supported protocols are:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Border Gateway Protocol (<span class="strong strong"><strong>BGP</strong></span>)
					</li><li class="listitem">
						Intermediate System to Intermediate System (<span class="strong strong"><strong>IS-IS</strong></span>)
					</li><li class="listitem">
						Open Shortest Path First (<span class="strong strong"><strong>OSPF</strong></span>)
					</li><li class="listitem">
						Protocol-Independent Multicast (<span class="strong strong"><strong>PIM</strong></span>)
					</li><li class="listitem">
						Routing Information Protocol (<span class="strong strong"><strong>RIP</strong></span>)
					</li><li class="listitem">
						Routing Information Protocol next generation (<span class="strong strong"><strong>RIPng</strong></span>)
					</li><li class="listitem">
						Enhanced Interior Gateway Routing Protocol (<span class="strong strong"><strong>EIGRP</strong></span>)
					</li><li class="listitem">
						Next Hop Resolution Protocol (<span class="strong strong"><strong>NHRP</strong></span>)
					</li><li class="listitem">
						Bidirectional Forwarding Detection (<span class="strong strong"><strong>BFD</strong></span>)
					</li><li class="listitem">
						Policy-based Routing (<span class="strong strong"><strong>PBR</strong></span>)
					</li></ul></div><p>
				FRR is a collection of the following services:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						zebra
					</li><li class="listitem">
						bgpd
					</li><li class="listitem">
						isisd
					</li><li class="listitem">
						ospfd
					</li><li class="listitem">
						ospf6d
					</li><li class="listitem">
						pimd
					</li><li class="listitem">
						ripd
					</li><li class="listitem">
						ripngd
					</li><li class="listitem">
						eigrpd
					</li><li class="listitem">
						nhrpd
					</li><li class="listitem">
						bfdd
					</li><li class="listitem">
						pbrd
					</li><li class="listitem">
						staticd
					</li><li class="listitem">
						fabricd
					</li></ul></div><p>
				If <code class="literal package">frr</code> is installed, the system can act as a dedicated router, which exchanges routing information with other routers in either internal or external network using the routing protocols.
			</p></section><section class="section" id="setting-up-frrouting_setting-your-routing-protocols"><div class="titlepage"><div><div><h2 class="title">29.2. Setting up FRRouting</h2></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Make sure that the <code class="literal package">frr</code> package is installed on your system:
					</li></ul></div><pre class="literallayout"># yum install frr</pre><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/frr/daemons</code> configuration file, and enable the required daemons for your system.
					</p><p class="simpara">
						For example, to enable the <code class="literal">ripd</code> daemon, include the following line:
					</p><pre class="literallayout">ripd=yes</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							The <code class="literal">zebra</code> daemon must always be enabled, so that you must set <code class="literal">zebra=yes</code> to be able to use <span class="strong strong"><strong><span class="application application">FRR</span></strong></span>.
						</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							By default, <code class="literal filename">/etc/frr/daemons</code> contains <code class="literal">[daemon_name]=no</code> entries for all daemons. Therefore, all daemons are disabled, and starting <span class="strong strong"><strong><span class="application application">FRR</span></strong></span> after a new installation of the system has no effect.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Start the <code class="literal">frr</code> service:
					</p><pre class="literallayout"># systemctl start frr</pre></li><li class="listitem"><p class="simpara">
						Optionally, you can also set <span class="strong strong"><strong><span class="application application">FRR</span></strong></span> to start automatically on boot:
					</p><pre class="literallayout"># systemctl enable frr</pre></li></ol></div></section><section class="section" id="changing-frrs-configuration_setting-your-routing-protocols"><div class="titlepage"><div><div><h2 class="title">29.3. Modifying the configuration of FRR</h2></div></div></div><p>
				This section describes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						How to enable an additional daemon after you set up <span class="strong strong"><strong><span class="application application">FRR</span></strong></span>
					</li><li class="listitem">
						How to disable a daemon after you set up <span class="strong strong"><strong><span class="application application">FRR</span></strong></span>
					</li></ul></div><h4 id="enabling_an_additional_daemon">Enabling an additional daemon</h4><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong><span class="application application">FRR</span></strong></span> is set up as described in <a class="xref" href="index.html#setting-up-frrouting_setting-your-routing-protocols" title="29.2. Setting up FRRouting">Section 29.2, “Setting up FRRouting”</a>.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To enable one or more additional daemons:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/frr/daemons</code> configuration file, and modify the line for the required daemons to state <code class="literal">yes</code> instead of <code class="literal">no</code>.
					</p><p class="simpara">
						For example, to enable the <code class="literal">ripd</code> daemon:
					</p><pre class="literallayout">ripd=yes</pre></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">frr</code> service:
					</p><pre class="literallayout"># systemctl reload frr</pre></li></ol></div><h4 id="disabling_a_daemon">Disabling a daemon</h4><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong><span class="application application">FRR</span></strong></span> is set up as described in <a class="xref" href="index.html#setting-up-frrouting_setting-your-routing-protocols" title="29.2. Setting up FRRouting">Section 29.2, “Setting up FRRouting”</a>.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To disable one or more daemons:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/frr/daemons</code> configuration file, and modify the line for the required daemons to state <code class="literal">no</code> instead of <code class="literal">yes</code>.
					</p><p class="simpara">
						For example, to disable the <code class="literal">ripd</code> daemon:
					</p><pre class="literallayout">ripd=no</pre></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">frr</code> service:
					</p><pre class="literallayout"># systemctl reload frr</pre></li></ol></div></section><section class="section" id="modifying-a-configuration-of-a-particular-daemon_setting-your-routing-protocols"><div class="titlepage"><div><div><h2 class="title">29.4. Modifying a configuration of a particular daemon</h2></div></div></div><p>
				With the default configuration, every routing daemon in <span class="strong strong"><strong><span class="application application">FRR</span></strong></span> can only act as a plain router.
			</p><p>
				For any additional configuration of a daemon, use the following procedure.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Within the <code class="literal filename">/etc/frr/</code> directory, create a configuration file for the required daemon, and name the file as follows:
					</p><pre class="literallayout">[daemon_name].conf</pre><p class="simpara">
						For example, to further configure the <code class="literal">eigrpd</code> daemon, create the <code class="literal filename">eigrpd.conf</code> file in the mentioned directory.
					</p></li><li class="listitem"><p class="simpara">
						Populate the new file with the required content.
					</p><p class="simpara">
						For configuration examples of particular <span class="strong strong"><strong><span class="application application">FRR</span></strong></span> daemons, see the <code class="literal filename">/usr/share/doc/frr/</code> directory.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal">frr</code> service:
					</p><pre class="literallayout"># systemctl reload frr</pre></li></ol></div></section></section><section class="chapter" id="providing-dhcp-services_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 30. Providing DHCP services</h1></div></div></div><p>
			The Dynamic Host Configuration Protocol (DHCP) is a network protocol that automatically assigns IP information to clients.
		</p><p>
			This section explains general information on the <code class="literal systemitem">dhcpd</code> service, as well as how to set up a DHCP server and DHCP relay.
		</p><p>
			If a procedure requires different steps for providing DHCP in IPv4 and IPv6 networks, the sections in this chapter contain procedures for both protocols.
		</p><section class="section" id="the-differences-when-using-dhcpd-for-dhcpv4-and-dhcpv6_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.1. The differences when using dhcpd for DHCPv4 and DHCPv6</h2></div></div></div><p>
				The <code class="literal systemitem">dhcpd</code> service supports providing both DHCPv4 and DHCPv6 on one server. However, you need a separate instance of <code class="literal systemitem">dhcpd</code> with separate configuration files to provide DHCP for each protocol.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">DHCPv4</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Configuration file: <code class="literal filename">/etc/dhcp/dhcpd.conf</code>
								</li><li class="listitem">
									Systemd service name: <code class="literal command">dhcpd</code>
								</li></ul></div></dd><dt><span class="term">DHCPv6</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Configuration file: <code class="literal filename">/etc/dhcp/dhcpd6.conf</code>
								</li><li class="listitem">
									Systemd service name: <code class="literal command">dhcpd6</code>
								</li></ul></div></dd></dl></div></section><section class="section" id="the-lease-database-of-the-dhcpd-service_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.2. The lease database of the dhcpd service</h2></div></div></div><p>
				A DHCP lease is the time period for which the <code class="literal systemitem">dhcpd</code> service allocates a network address to a client. The <code class="literal systemitem">dhcpd</code> service stores the DHCP leases in the following databases:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For DHCPv4: <code class="literal filename">/var/lib/dhcpd/dhcpd.leases</code>
					</li><li class="listitem">
						For DHCPv6: <code class="literal filename">/var/lib/dhcpd/dhcpd6.leases</code>
					</li></ul></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					Manually updating the database files can corrupt the databases.
				</p></div></div><p>
				The lease databases contain information about the allocated leases, such as the IP address assigned to a media access control (MAC) address or the time stamp when the lease expires. Note that all time stamps in the lease databases are in Coordinated Universal Time (UTC).
			</p><p>
				The <code class="literal systemitem">dhcpd</code> service recreates the databases periodically:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						The service renames the existing files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal filename">/var/lib/dhcpd/dhcpd.leases</code> to <code class="literal filename">/var/lib/dhcpd/dhcpd.leases~</code>
							</li><li class="listitem">
								<code class="literal filename">/var/lib/dhcpd/dhcpd6.leases</code> to <code class="literal filename">/var/lib/dhcpd/dhcpd6.leases~</code>
							</li></ul></div></li><li class="listitem">
						The service writes all known leases to the newly created <code class="literal filename">/var/lib/dhcpd/dhcpd.leases</code> and <code class="literal filename">/var/lib/dhcpd/dhcpd6.leases</code> files.
					</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about what is stored in the lease database, see the <code class="literal citetitle">dhcpd.leases(5)</code> man page.
					</li><li class="listitem">
						<a class="xref" href="index.html#restoring-a-corrupt-lease-database_providing-dhcp-services" title="30.9. Restoring a corrupt lease database">Section 30.9, “Restoring a corrupt lease database”</a>
					</li></ul></div></section><section class="section" id="dynamic-ip-address-assignment-in-ipv6-networks_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.3. Dynamic IP address assignment in IPv6 networks</h2></div></div></div><p>
				In an IPv6 network, only router advertisement messages provide information on an IPv6 default gateway. As a consequence, if you want to use DHCPv6 in subnets that require a default gateway setting, you must additionally configure a router advertisement service, such as Router Advertisement Daemon (<code class="literal systemitem">radvd</code>).
			</p><p>
				The <code class="literal systemitem">radvd</code> service uses flags in router advertisement packets to announce the availability of a DHCPv6 server.
			</p><p>
				This section compares DHCPv6 and <code class="literal systemitem">radvd</code>, and provides information about configuring <code class="literal systemitem">radvd</code>.
			</p><section class="section" id="comparison-of-dhcpv6-to-radvd_dynamic-ip-address-assignment-in-ipv6-networks"><div class="titlepage"><div><div><h3 class="title">30.3.1. Comparison of DHCPv6 to radvd</h3></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 60%; " class="col_1"><!--Empty--></col><col style="width: 20%; " class="col_2"><!--Empty--></col><col style="width: 20%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139885354835232" scope="col"> </th><th align="left" valign="top" id="idm139885359393520" scope="col">DHCPv6</th><th align="left" valign="top" id="idm139885359392432" scope="col"><code class="literal systemitem">radvd</code></th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139885354835232"> <p>
									Provides information on the default gateway
								</p>
								 </td><td align="left" valign="top" headers="idm139885359393520"> <p>
									no
								</p>
								 </td><td align="left" valign="top" headers="idm139885359392432"> <p>
									yes
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139885354835232"> <p>
									Guarantees random addresses to protect privacy
								</p>
								 </td><td align="left" valign="top" headers="idm139885359393520"> <p>
									yes
								</p>
								 </td><td align="left" valign="top" headers="idm139885359392432"> <p>
									no
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139885354835232"> <p>
									Sends further network configuration options
								</p>
								 </td><td align="left" valign="top" headers="idm139885359393520"> <p>
									yes
								</p>
								 </td><td align="left" valign="top" headers="idm139885359392432"> <p>
									no
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139885354835232"> <p>
									Maps media access control (MAC) addresses to IPv6 addresses
								</p>
								 </td><td align="left" valign="top" headers="idm139885359393520"> <p>
									yes
								</p>
								 </td><td align="left" valign="top" headers="idm139885359392432"> <p>
									no
								</p>
								 </td></tr></tbody></table></div></section><section class="section" id="configuring-the-radvd-service-for-ipv6-routers_dynamic-ip-address-assignment-in-ipv6-networks"><div class="titlepage"><div><div><h3 class="title">30.3.2. Configuring the radvd service for IPv6 routers</h3></div></div></div><p>
					The router advertisement daemon (<code class="literal systemitem">radvd</code>) sends router advertisement messages that are required for IPv6 stateless autoconfiguration. This enables users to automatically configure their addresses, settings, routes, and to choose a default router based on these advertisements.
				</p><p>
					The procedure in this section explains how to configure <code class="literal systemitem">radvd</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You are logged in as the <code class="literal systemitem">root</code> user.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Install the <code class="literal package">radvd</code> package:
						</p><pre class="literallayout"># yum install radvd</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/radvd.conf</code> file, and add the following configuration:
						</p><pre class="literallayout">interface <span class="emphasis"><em>enp1s0</em></span>
{
  AdvSendAdvert on;
  AdvManagedFlag on;
  AdvOtherConfigFlag on;

  prefix 2001:db8:0:1::/64 {
  };
};</pre><p class="simpara">
							These settings configures <code class="literal systemitem">radvd</code> to send router advertisement messages on the <code class="literal systemitem">enp1s0</code> device for the <code class="literal systemitem">2001:db8:0:1::/64</code> subnet. The <code class="literal parameter">AdvManagedFlag on</code> setting defines that the client should receive the IP address from a DHCP server, and the <code class="literal parameter">AdvOtherConfigFlag</code> parameter set to <code class="literal command">on</code> defines that clients should receive non-address information from the DHCP server as well.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, configure that <code class="literal systemitem">radvd</code> automatically starts when the system boots:
						</p><pre class="literallayout"># systemctl enable radvd</pre></li><li class="listitem"><p class="simpara">
							Start the <code class="literal systemitem">radvd</code> service:
						</p><pre class="literallayout"># systemctl start radvd</pre></li><li class="listitem"><p class="simpara">
							Optionally, display the content of router advertisement packages and the configured values <code class="literal systemitem">radvd</code> sends:
						</p><pre class="literallayout"># radvdump</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For further details about configuring <code class="literal systemitem">radvd</code>, see the <code class="literal citetitle">radvd.conf(5)</code> man page.
						</li><li class="listitem">
							For an example configuration of <code class="literal systemitem">radvd</code>, see the <code class="literal filename">/usr/share/doc/radvd/radvd.conf.example</code> file.
						</li></ul></div></section></section><section class="section" id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.4. Setting network interfaces for the DHCP servers</h2></div></div></div><p>
				By default, the <code class="literal systemitem">dhcpd</code> service processes requests only on network interfaces that have an IP address in the subnet defined in the configuration file of the service.
			</p><p>
				For example, in the following scenario, <code class="literal systemitem">dhcpd</code> listens only on the <code class="literal systemitem">enp0s1</code> network interface:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have only a <code class="literal command">subnet</code> definition for the 192.0.2.0/24 network in the <code class="literal filename">/etc/dhcp/dhcpd.conf</code> file.
					</li><li class="listitem">
						The <code class="literal systemitem">enp0s1</code> network interface is connected to the 192.0.2.0/24 subnet.
					</li><li class="listitem">
						The <code class="literal systemitem">enp7s0</code> interface is connected to a different subnet.
					</li></ul></div><p>
				Only follow the procedure in this section if the DHCP server contains multiple network interfaces connected to the same network but the service should listen only on specific interfaces.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li><li class="listitem">
						The <code class="literal package">dhcp-server</code> package is installed.
					</li></ul></div><h5 id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the <code class="literal filename">/usr/lib/systemd/system/dhcpd.service</code> file to the <code class="literal filename">/etc/systemd/system/</code> directory:
					</p><pre class="literallayout"># cp /usr/lib/systemd/system/dhcpd.service /etc/systemd/system/</pre><p class="simpara">
						Do not edit the <code class="literal filename">/usr/lib/systemd/system/dhcpd.service</code> file. Future updates of the <code class="literal package">dhcp-server</code> package can override the changes.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/systemd/system/dhcpd.service</code> file, and append the names of the interface, that <code class="literal systemitem">dhcpd</code> should listen on to the command in the <code class="literal parameter">ExecStart</code> parameter:
					</p><pre class="literallayout">ExecStart=/usr/sbin/dhcpd -f -cf /etc/dhcp/dhcpd.conf -user dhcpd -group dhcpd --no-pid $DHCPDARGS <span class="strong strong"><strong><span class="emphasis"><em>enp0s1</em></span> <span class="emphasis"><em>enp7s0</em></span></strong></span></pre><p class="simpara">
						This example configures that <code class="literal systemitem">dhcpd</code> listens only on the <code class="literal systemitem"><span class="emphasis"><em>enp0s1</em></span></code> and <code class="literal systemitem">enp7s0</code> interfaces.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">systemd</code> manager configuration:
					</p><pre class="literallayout"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl restart dhcpd.service</pre></li></ol></div><h5 id="setting-network-interfaces-for-the-dhcp-server_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the <code class="literal filename">/usr/lib/systemd/system/dhcpd6.service</code> file to the <code class="literal filename">/etc/systemd/system/</code> directory:
					</p><pre class="literallayout"># cp /usr/lib/systemd/system/dhcpd6.service /etc/systemd/system/</pre><p class="simpara">
						Do not edit the <code class="literal filename">/usr/lib/systemd/system/dhcpd6.service</code> file. Future updates of the <code class="literal package">dhcp-server</code> package can override the changes.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/systemd/system/dhcpd6.service</code> file, and append the names of the interface, that <code class="literal systemitem">dhcpd</code> should listen on to the command in the <code class="literal parameter">ExecStart</code> parameter:
					</p><pre class="literallayout">ExecStart=/usr/sbin/dhcpd -f -6 -cf /etc/dhcp/dhcpd6.conf -user dhcpd -group dhcpd --no-pid $DHCPDARGS <span class="strong strong"><strong><span class="emphasis"><em>enp0s1</em></span> <span class="emphasis"><em>enp7s0</em></span></strong></span></pre><p class="simpara">
						This example configures that <code class="literal systemitem">dhcpd</code> listens only on the <code class="literal systemitem"><span class="emphasis"><em>enp0s1</em></span></code> and <code class="literal systemitem">enp7s0</code> interfaces.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">systemd</code> manager configuration:
					</p><pre class="literallayout"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl restart dhcpd.service</pre></li></ol></div></section><section class="section" id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.5. Setting up the DHCP service for subnets directly connected to the DHCP server</h2></div></div></div><p>
				Use the following procedure if the DHCP server is directly connected to the subnet for which the server should answer DHCP requests. This is the case if a network interface of the server has an IP address of this subnet assigned.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li><li class="listitem">
						The <code class="literal package">dhcpd-server</code> package is installed.
					</li></ul></div><h5 id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Optionally, add global parameters that <code class="literal systemitem">dhcpd</code> uses as default if no other directives contain these settings:
							</p><pre class="literallayout">option domain-name "example.com";
default-lease-time 86400;</pre><p class="simpara">
								This example sets the default domain name for the connection to <code class="literal command">example.com</code>, and the default lease time to <code class="literal command">86400</code> seconds (1 day).
							</p></li><li class="listitem"><p class="simpara">
								Add the <code class="literal command">authoritative</code> statement on a new line:
							</p><pre class="literallayout">authoritative;</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Without the <code class="literal command">authoritative</code> statement, the <code class="literal systemitem">dhcpd</code> service does not answer <code class="literal command">DHCPREQUEST</code> messages with <code class="literal command">DHCPNAK</code> if a client asks for an address that is outside of the pool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								For each IPv4 subnet directly connected to an interface of the server, add a <code class="literal command">subnet</code> declaration:
							</p><pre class="literallayout">subnet 192.0.2.0 netmask 255.255.255.0 {
  range 192.0.2.20 192.0.2.100;
  option domain-name-servers 192.0.2.1;
  option routers 192.0.2.1;
  option broadcast-address 192.0.2.255;
  max-lease-time 172800;
}</pre><p class="simpara">
								This example adds a subnet declaration for the 192.0.2.0/24 network. With this configuration, the DHCP server assigns the following settings to a client that sends a DHCP request from this subnet:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										A free IPv4 address from the range defined in the <code class="literal parameter">range</code> parameter
									</li><li class="listitem">
										IP of the DNS server for this subnet: <code class="literal command">192.0.2.1</code>
									</li><li class="listitem">
										Default gateway for this subnet: <code class="literal command">192.0.2.1</code>
									</li><li class="listitem">
										Broadcast address for this subnet: <code class="literal command">192.0.2.255</code>
									</li><li class="listitem">
										The maximum lease time, after which clients in this subnet release the IP and send a new request to the server: <code class="literal command">172800</code> seconds (2 days)
									</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, configure that <code class="literal systemitem">dhcpd</code> starts automatically when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcpd</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd</pre></li></ol></div><h5 id="setting-up-the-dhcp-service-for-subnets-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd6.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Optionally, add global parameters that <code class="literal systemitem">dhcpd</code> uses as default if no other directives contain these settings:
							</p><pre class="literallayout">option dhcp6.domain-search "example.com";
default-lease-time 86400;</pre><p class="simpara">
								This example sets the default domain name for the connection to <code class="literal command">example.com</code>, and the default lease time to <code class="literal command">86400</code> seconds (1 day).
							</p></li><li class="listitem"><p class="simpara">
								Add the <code class="literal command">authoritative</code> statement on a new line:
							</p><pre class="literallayout">authoritative;</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Without the <code class="literal command">authoritative</code> statement, the <code class="literal systemitem">dhcpd</code> service does not answer <code class="literal command">DHCPREQUEST</code> messages with <code class="literal command">DHCPNAK</code> if a client asks for an address that is outside of the pool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								For each IPv6 subnet directly connected to an interface of the server, add a <code class="literal command">subnet</code> declaration:
							</p><pre class="literallayout">subnet6 2001:db8:0:1::/64 {
  range6 2001:db8:0:1::20 2001:db8:0:1::100;
  option dhcp6.name-servers 2001:db8:0:1::1;
  max-lease-time 172800;
}</pre><p class="simpara">
								This example adds a subnet declaration for the 2001:db8:0:1::/64 network. With this configuration, the DHCP server assigns the following settings to a client that sends a DHCP request from this subnet:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										A free IPv6 address from the range defined in the <code class="literal parameter">range6</code> parameter.
									</li><li class="listitem">
										The IP of the DNS server for this subnet is <code class="literal command">2001:db8:0:1::1</code>.
									</li><li class="listitem"><p class="simpara">
										The maximum lease time, after which clients in this subnet release the IP and send a new request to the server is <code class="literal command">172800</code> seconds (2 days).
									</p><p class="simpara">
										Note that IPv6 requires uses router advertisement messages to identify the default gateway.
									</p></li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, configure that <code class="literal systemitem">dhcpd6</code> starts automatically when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcpd6</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd6</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of all parameters you can set in <code class="literal filename">/etc/dhcp/dhcpd.conf</code> and <code class="literal filename">/etc/dhcp/dhcpd6.conf</code>, see the <code class="literal citetitle">dhcp-options(5)</code> man page.
					</li><li class="listitem">
						For further details about the <code class="literal command">authoritative</code> statement, see <code class="literal citetitle">The authoritative statement</code> section in the <code class="literal citetitle">dhcpd.conf(5)</code> man page.
					</li><li class="listitem">
						For example configurations, see the <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> and <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> files.
					</li><li class="listitem">
						For details about configuring the <code class="literal systemitem">radvd</code> service for IPv6 router advertisement, see <a class="xref" href="index.html#configuring-the-radvd-service-for-ipv6-routers_dynamic-ip-address-assignment-in-ipv6-networks" title="30.3.2. Configuring the radvd service for IPv6 routers">Section 30.3.2, “Configuring the radvd service for IPv6 routers”</a>
					</li></ul></div></section><section class="section" id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.6. Setting up the DHCP service for subnets that are not directly connected to the DHCP server</h2></div></div></div><p>
				Use the following procedure if the DHCP server is not directly connected to the subnet for which the server should answer DHCP requests. This is the case if a DHCP relay agent forwards requests to the DHCP server, because none of the DHCP server’s interfaces is directly connected to the subnet the server should serve.
			</p><p>
				Depending on whether you want to provide DHCP for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li><li class="listitem">
						The <code class="literal package">dhcpd-server</code> package is installed.
					</li></ul></div><h5 id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Optionally, add global parameters that <code class="literal systemitem">dhcpd</code> uses as default if no other directives contain these settings:
							</p><pre class="literallayout">option domain-name "example.com";
default-lease-time 86400;</pre><p class="simpara">
								This example sets the default domain name for the connection to <code class="literal command">example.com</code>, and the default lease time to <code class="literal command">86400</code> seconds (1 day).
							</p></li><li class="listitem"><p class="simpara">
								Add the <code class="literal command">authoritative</code> statement on a new line:
							</p><pre class="literallayout">authoritative;</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Without the <code class="literal command">authoritative</code> statement, the <code class="literal systemitem">dhcpd</code> service does not answer <code class="literal command">DHCPREQUEST</code> messages with <code class="literal command">DHCPNAK</code> if a client asks for an address that is outside of the pool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Add a <code class="literal command">shared-network</code> declaration, such as the following, for IPv4 subnets that are not directly connected to an interface of the server:
							</p><pre class="literallayout">shared-network <span class="emphasis"><em>example</em></span> {
  option domain-name-servers 192.0.2.1;
  ...

  subnet 192.0.2.0 netmask 255.255.255.0 {
    range 192.0.2.20 192.0.2.100;
    option routers 192.0.2.1;
  }

  subnet 198.51.100.0 netmask 255.255.255.0 {
    range 198.51.100.20 198.51.100.100;
    option routers 198.51.100.1;
  }
  ...
}</pre><p class="simpara">
								This example adds a shared network declaration, that contains a <code class="literal command">subnet</code> declaration for both the 192.0.2.0/24 and 198.51.100.0/24 networks. With this configuration, the DHCP server assigns the following settings to a client that sends a DHCP request from one of these subnets:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										The IP of the DNS server for clients from both subnets is: <code class="literal command">192.0.2.1</code>.
									</li><li class="listitem">
										A free IPv4 address from the range defined in the <code class="literal parameter">range</code> parameter, depending on from which subnet the client sent the request.
									</li><li class="listitem">
										The default gateway is either <code class="literal command">192.0.2.1</code> or <code class="literal command">198.51.100.1</code> depending on from which subnet the client sent the request.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Add a <code class="literal command">subnet</code> declaration for the subnet the server is directly connected to and that is used to reach the remote subnets specified in <code class="literal command">shared-network</code> above:
							</p><pre class="literallayout">subnet 203.0.113.0 netmask 255.255.255.0 {
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If the server does not provide DHCP service to this subnet, the <code class="literal command">subnet</code> declaration must be empty as shown in the example. Without a declaration for the directly connected subnet, <code class="literal systemitem">dhcpd</code> does not start.
								</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, configure that <code class="literal systemitem">dhcpd</code> starts automatically when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcpd</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd</pre></li></ol></div><h5 id="setting-up-the-dhcp-service-for-subnets-that-are-not-directly-connected-to-the-dhcp-server_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd6.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Optionally, add global parameters that <code class="literal systemitem">dhcpd</code> uses as default if no other directives contain these settings:
							</p><pre class="literallayout">option dhcp6.domain-search "example.com";
default-lease-time 86400;</pre><p class="simpara">
								This example sets the default domain name for the connection to <code class="literal command">example.com</code>, and the default lease time to <code class="literal command">86400</code> seconds (1 day).
							</p></li><li class="listitem"><p class="simpara">
								Add the <code class="literal command">authoritative</code> statement on a new line:
							</p><pre class="literallayout">authoritative;</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
									Without the <code class="literal command">authoritative</code> statement, the <code class="literal systemitem">dhcpd</code> service does not answer <code class="literal command">DHCPREQUEST</code> messages with <code class="literal command">DHCPNAK</code> if a client asks for an address that is outside of the pool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Add a <code class="literal command">shared-network</code> declaration, such as the following, for IPv6 subnets that are not directly connected to an interface of the server:
							</p><pre class="literallayout">shared-network <span class="emphasis"><em>example</em></span> {
  option domain-name-servers 2001:db8:0:1::1:1
  ...

  subnet6 2001:db8:0:1::1:0/120 {
    range6 2001:db8:0:1::1:20 2001:db8:0:1::1:100
  }

  subnet6 2001:db8:0:1::2:0/120 {
    range6 2001:db8:0:1::2:20 2001:db8:0:1::2:100
  }
  ...
}</pre><p class="simpara">
								This example adds a shared network declaration that contains a <code class="literal command">subnet6</code> declaration for both the 2001:db8:0:1::1:0/120 and 2001:db8:0:1::2:0/120 networks. With this configuration, the DHCP server assigns the following settings to a client that sends a DHCP request from one of these subnets:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										The IP of the DNS server for clients from both subnets is <code class="literal command">2001:db8:0:1::1:1</code>.
									</li><li class="listitem"><p class="simpara">
										A free IPv6 address from the range defined in the <code class="literal parameter">range6</code> parameter, depending on from which subnet the client sent the request.
									</p><p class="simpara">
										Note that IPv6 requires uses router advertisement messages to identify the default gateway.
									</p></li></ul></div></li><li class="listitem"><p class="simpara">
								Add a <code class="literal command">subnet6</code> declaration for the subnet the server is directly connected to and that is used to reach the remote subnets specified in <code class="literal command">shared-network</code> above:
							</p><pre class="literallayout">subnet6 2001:db8:0:1::50:0/120 {
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If the server does not provide DHCP service to this subnet, the <code class="literal command">subnet6</code> declaration must be empty as shown in the example. Without a declaration for the directly connected subnet, <code class="literal systemitem">dhcpd</code> does not start.
								</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Optionally, configure that <code class="literal systemitem">dhcpd6</code> starts automatically when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcpd6</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd6</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of all parameters you can set in <code class="literal filename">/etc/dhcp/dhcpd.conf</code> and <code class="literal filename">/etc/dhcp/dhcpd6.conf</code>, see the <code class="literal citetitle">dhcp-options(5)</code> man page.
					</li><li class="listitem">
						For further details about the <code class="literal command">authoritative</code> statement, see <code class="literal citetitle">The authoritative statement</code> section in the <code class="literal citetitle">dhcpd.conf(5)</code> man page.
					</li><li class="listitem">
						For example configurations, see the <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> and <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> files.
					</li><li class="listitem">
						For details about configuring the <code class="literal systemitem">radvd</code> service for IPv6 router advertisement, see <a class="xref" href="index.html#configuring-the-radvd-service-for-ipv6-routers_dynamic-ip-address-assignment-in-ipv6-networks" title="30.3.2. Configuring the radvd service for IPv6 routers">Section 30.3.2, “Configuring the radvd service for IPv6 routers”</a>
					</li><li class="listitem">
						<a class="xref" href="index.html#setting-up-a-dhcp-relay-agent_providing-dhcp-services" title="30.10. Setting up a DHCP relay agent">Section 30.10, “Setting up a DHCP relay agent”</a>
					</li></ul></div></section><section class="section" id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.7. Assigning a static address to a host using DHCP</h2></div></div></div><p>
				Using a <code class="literal parameter">host</code> declaration, you can configure the DHCP server to assign a fixed IP address to a media access control (MAC) address of a host. For example, use this method to always assign the same IP address to a server or network device.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you configure a fixed IP address for a MAC address, the IP address must be outside of the address pool you specified in the <code class="literal parameter">fixed-address</code> and <code class="literal parameter">fixed-address6</code> parameters.
				</p></div></div><p>
				Depending on whether you want to configure fixed addresses for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal systemitem">dhcpd</code> service is configured and running.
					</li><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li></ul></div><h5 id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add a <code class="literal parameter">host</code> declaration:
							</p><pre class="literallayout">host server.example.com {
	hardware ethernet 52:54:00:72:2f:6e;
	fixed-address 192.0.2.130;
}</pre><p class="simpara">
								This example configures the DHCP server to always assigns the <code class="literal systemitem">192.0.2.130</code> IP address to the host with the <code class="literal systemitem">52:54:00:72:2f:6e</code> MAC address.
							</p><p class="simpara">
								The <code class="literal systemitem">dhcpd</code> service identifies systems by the MAC address specified in the <code class="literal parameter">fixed-address</code> parameter, and not by the name in the <code class="literal parameter">host</code> declaration. As a consequence, you can set this name to any string that does not match other <code class="literal parameter">host</code> declarations. To configure the same system for multiple networks, use a different name, otherwise, <code class="literal systemitem">dhcpd</code> fails to start.
							</p></li><li class="listitem">
								Optionally, add further settings to the <code class="literal parameter">host</code> declaration that are specific for this host.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd</pre></li></ol></div><h5 id="assigning-a-static-address-to-a-host-using-dhcp_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd6.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add a <code class="literal parameter">host</code> declaration:
							</p><pre class="literallayout">host server.example.com {
	hardware ethernet 52:54:00:72:2f:6e;
	fixed-address6 2001:db8:0:1::200;
}</pre><p class="simpara">
								This example configures the DHCP server to always assign the <code class="literal systemitem">2001:db8:0:1::20</code> IP address to the host with the <code class="literal systemitem">52:54:00:72:2f:6e</code> MAC address.
							</p><p class="simpara">
								The <code class="literal systemitem">dhcpd</code> service identifies systems by the MAC address specified in the <code class="literal parameter">fixed-address6</code> parameter, and not by the name in the <code class="literal parameter">host</code> declaration. As a consequence, you can set this name to any string, as long as it is unique to other <code class="literal parameter">host</code> declarations. To configure the same system for multiple networks, use a different name because, otherwise, <code class="literal systemitem">dhcpd</code> fails to start.
							</p></li><li class="listitem">
								Optionally, add further settings to the <code class="literal parameter">host</code> declaration that are specific for this host.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd6</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of all parameters you can set in <code class="literal filename">/etc/dhcp/dhcpd.conf</code> and <code class="literal filename">/etc/dhcp/dhcpd6.conf</code>, see the <code class="literal citetitle">dhcp-options(5)</code> man page.
					</li><li class="listitem">
						For example configurations, see the <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> and <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> files.
					</li></ul></div></section><section class="section" id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.8. Using a group declaration to apply parameters to multiple hosts, subnets, and shared networks at the same time</h2></div></div></div><p>
				Using a <code class="literal parameter">group</code> declaration, you can apply the same parameters to multiple hosts, subnets, and shared networks.
			</p><p>
				Note that the procedure in this section describes using a <code class="literal parameter">group</code> declaration for hosts, but the steps are the same for subnets and shared networks.
			</p><p>
				Depending on whether you want to configure a group for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal systemitem">dhcpd</code> service is configured and running.
					</li><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li></ul></div><h5 id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add a <code class="literal parameter">group</code> declaration:
							</p><pre class="literallayout">group {
  option domain-name-servers 192.0.2.1;

  host server1.example.com {
    hardware ethernet 52:54:00:72:2f:6e;
    fixed-address 192.0.2.130;
  }

  host server2.example.com {
    hardware ethernet 52:54:00:1b:f3:cf;
    fixed-address 192.0.2.140;
  }
}</pre><p class="simpara">
								This <code class="literal parameter">group</code> definition groups two <code class="literal parameter">host</code> entries. The <code class="literal systemitem">dhcpd</code> service applies the value set in the <code class="literal parameter">option domain-name-servers</code> parameter to both hosts in the group.
							</p></li><li class="listitem">
								Optionally, add further settings to the <code class="literal parameter">group</code> declaration that are specific for these hosts.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd</pre></li></ol></div><h5 id="using-a-group-declaration-to-apply-parameters-to-multiple-hosts-subnets-and-shared-networks-at-the-same-time_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/dhcp/dhcpd6.conf</code> file:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Add a <code class="literal parameter">group</code> declaration:
							</p><pre class="literallayout">group {
  option dhcp6.domain-search "example.com";

  host server1.example.com {
    hardware ethernet 52:54:00:72:2f:6e;
    fixed-address 2001:db8:0:1::200;
  }

  host server2.example.com {
    hardware ethernet 52:54:00:1b:f3:cf;
    fixed-address 2001:db8:0:1::ba3;
  }
}</pre><p class="simpara">
								This <code class="literal parameter">group</code> definition groups two <code class="literal parameter">host</code> entries. The <code class="literal systemitem">dhcpd</code> service applies the value set in the <code class="literal parameter">option dhcp6.domain-search</code> parameter to both hosts in the group.
							</p></li><li class="listitem">
								Optionally, add further settings to the <code class="literal parameter">group</code> declaration that are specific for these hosts.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Restart the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd6</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of all parameters you can set in <code class="literal filename">/etc/dhcp/dhcpd.conf</code> and <code class="literal filename">/etc/dhcp/dhcpd6.conf</code>, see the <code class="literal citetitle">dhcp-options(5)</code> man page.
					</li><li class="listitem">
						For example configurations, see the <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd.conf.example</code> and <code class="literal filename">/usr/share/doc/dhcp-server/dhcpd6.conf.example</code> files.
					</li></ul></div></section><section class="section" id="restoring-a-corrupt-lease-database_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.9. Restoring a corrupt lease database</h2></div></div></div><p>
				If the DHCP server logs an error that is related to the lease database, such as <code class="literal command">Corrupt lease file - possible data loss!</code>,you can restore the lease database from the copy the <code class="literal systemitem">dhcpd</code> service created. Note that this copy might not reflect the latest status of the database.
			</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
					If you remove the lease database instead of replacing it with a backup, you lose all information about the currently assigned leases. As a consequence, the DHCP server could assign leases to clients that have been previously assigned to other hosts and are not expired yet. This leads to IP conflicts.
				</p></div></div><p>
				Depending on whether you want to restore the DHCPv4, DHCPv6, or both databases, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#restoring-a-corrupt-lease-database_providing-dhcp-services_ipv4" title="Restoring the DHCPv4 lease database">Restoring the DHCPv4 lease database</a>
					</li><li class="listitem">
						<a class="link" href="index.html#restoring-a-corrupt-lease-database_providing-dhcp-services_ipv6" title="Restoring the DHCPv6 lease database">Restoring the DHCPv6 lease database</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li><li class="listitem">
						The lease database is corrupt.
					</li></ul></div><h5 id="restoring-a-corrupt-lease-database_providing-dhcp-services_ipv4">Restoring the DHCPv4 lease database</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Stop the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl stop dhcpd</pre></li><li class="listitem"><p class="simpara">
						Rename the corrupt lease database:
					</p><pre class="literallayout"># mv /var/lib/dhcpd/dhcpd.leases /var/lib/dhcpd/dhcpd.leases.corrupt</pre></li><li class="listitem"><p class="simpara">
						Restore the copy of the lease database that the <code class="literal systemitem">dhcp</code> service created when it refreshed the lease database:
					</p><pre class="literallayout"># cp -p /var/lib/dhcpd/dhcpd.leases~ /var/lib/dhcpd/dhcpd.leases</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							If you have a more recent backup of the lease database, restore this backup instead.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd</pre></li></ol></div><h5 id="restoring-a-corrupt-lease-database_providing-dhcp-services_ipv6">Restoring the DHCPv6 lease database</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Stop the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl stop dhcpd6</pre></li><li class="listitem"><p class="simpara">
						Rename the corrupt lease database:
					</p><pre class="literallayout"># mv /var/lib/dhcpd/dhcpd6.leases /var/lib/dhcpd/dhcpd6.leases.corrupt</pre></li><li class="listitem"><p class="simpara">
						Restore the copy of the lease database that the <code class="literal systemitem">dhcp</code> service created when it refreshed the lease database:
					</p><pre class="literallayout"># cp -p /var/lib/dhcpd/dhcpd6.leases~ /var/lib/dhcpd/dhcpd6.leases</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							If you have a more recent backup of the lease database, restore this backup instead.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcpd6</code> service:
					</p><pre class="literallayout"># systemctl start dhcpd6</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#the-lease-database-of-the-dhcpd-service_providing-dhcp-services" title="30.2. The lease database of the dhcpd service">Section 30.2, “The lease database of the dhcpd service”</a>
					</li></ul></div></section><section class="section" id="setting-up-a-dhcp-relay-agent_providing-dhcp-services"><div class="titlepage"><div><div><h2 class="title">30.10. Setting up a DHCP relay agent</h2></div></div></div><p>
				The DHCP Relay Agent (<code class="literal systemitem">dhcrelay</code>) enables the relay of DHCP and BOOTP requests from a subnet with no DHCP server on it to one or more DHCP servers on other subnets. When a DHCP client requests information, the DHCP Relay Agent forwards the request to the list of DHCP servers specified. When a DHCP server returns a reply, the DHCP Relay Agent forwards this request to the client.
			</p><p>
				Depending on whether you want to set up a DHCP relay for IPv4, IPv6, or both protocols, see the procedure for:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="index.html#setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv4" title="For IPv4 networks">IPv4 networks</a>
					</li><li class="listitem">
						<a class="link" href="index.html#setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv6" title="For IPv6 networks">IPv6 networks</a>
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as the <code class="literal systemitem">root</code> user.
					</li></ul></div><h5 id="setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv4">For IPv4 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal package">dhcp-relay</code> package:
					</p><pre class="literallayout"># yum install dhcp-relay</pre></li><li class="listitem"><p class="simpara">
						Copy the <code class="literal filename">/lib/systemd/system/dhcrelay.service</code> file to the <code class="literal filename">/etc/systemd/system/</code> directory:
					</p><pre class="literallayout"># cp /lib/systemd/system/dhcrelay.service /etc/systemd/system/</pre><p class="simpara">
						Do not edit the <code class="literal filename">/usr/lib/systemd/system/dhcrelay.service</code> file. Future updates of the <code class="literal package">dhcp-relay</code> package can override the changes.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/systemd/system/dhcrelay.service</code> file, and append the <code class="literal parameter">-i <span class="emphasis"><em>interface</em></span></code> parameter, together with a list of IP addresses of DHCPv4 servers that are responsible for the subnet:
					</p><pre class="literallayout">ExecStart=/usr/sbin/dhcrelay -d --no-pid <span class="strong strong"><strong>-i <span class="emphasis"><em>enp1s0</em></span> <span class="emphasis"><em>192.0.2.1</em></span></strong></span></pre><p class="simpara">
						With these additional parameters, <code class="literal systemitem">dhcrelay</code> listens for DHCPv4 requests on the <code class="literal systemitem">enp1s0</code> interface and forwards them to the DHCP server with the IP <code class="literal systemitem">192.0.2.1</code>.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">systemd</code> manager configuration:
					</p><pre class="literallayout"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Optionally, configure that the <code class="literal systemitem">dhcrelay</code> service starts when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcrelay.service</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcrelay</code> service:
					</p><pre class="literallayout"># systemctl start dhcrelay.service</pre></li></ol></div><h5 id="setting-up-a-dhcp-relay-agent_providing-dhcp-services_ipv6">For IPv6 networks</h5><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Install the <code class="literal package">dhcp-relay</code> package:
					</p><pre class="literallayout"># yum install dhcp-relay</pre></li><li class="listitem"><p class="simpara">
						Copy the <code class="literal filename">/lib/systemd/system/dhcrelay.service</code> file to the <code class="literal filename">/etc/systemd/system/</code> directory and name the file <code class="literal filename">dhcrelay6.service</code>:
					</p><pre class="literallayout"># cp /lib/systemd/system/dhcrelay.service /etc/systemd/system/dhcrelay6.service</pre><p class="simpara">
						Do not edit the <code class="literal filename">/usr/lib/systemd/system/dhcrelay.service</code> file. Future updates of the <code class="literal package">dhcp-relay</code> package can override the changes.
					</p></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal filename">/etc/systemd/system/dhcrelay6.service</code> file, and append the <code class="literal parameter">-l <span class="emphasis"><em>receiving_interface</em></span></code> and <code class="literal parameter">-u <span class="emphasis"><em>outgoing_interface</em></span></code> parameters:
					</p><pre class="literallayout">ExecStart=/usr/sbin/dhcrelay -d --no-pid <span class="strong strong"><strong>-l <span class="emphasis"><em>enp1s0</em></span> -u <span class="emphasis"><em>enp7s0</em></span></strong></span></pre><p class="simpara">
						With these additional parameters, <code class="literal systemitem">dhcrelay</code> listens for DHCPv6 requests on the <code class="literal systemitem">enp1s0</code> interface and forwards them to the network connected to the <code class="literal systemitem">enp7s0</code> interface.
					</p></li><li class="listitem"><p class="simpara">
						Reload the <code class="literal systemitem">systemd</code> manager configuration:
					</p><pre class="literallayout"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
						Optionally, configure that the <code class="literal systemitem">dhcrelay6</code> service starts when the system boots:
					</p><pre class="literallayout"># systemctl enable dhcrelay6.service</pre></li><li class="listitem"><p class="simpara">
						Start the <code class="literal systemitem">dhcrelay6</code> service:
					</p><pre class="literallayout"># systemctl start dhcrelay6.service</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about <code class="literal systemitem">dhcrelay</code>, see the <code class="literal citetitle">dhcrelay(8)</code> man page.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#the-differences-when-using-dhcpd-for-dhcpv4-and-dhcpv6_providing-dhcp-services" title="30.1. The differences when using dhcpd for DHCPv4 and DHCPv6">Section 30.1, “The differences when using dhcpd for DHCPv4 and DHCPv6”</a>
					</li></ul></div></section></section><section class="chapter" id="using-and-configuring-firewalls_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 31. Using and configuring firewalls</h1></div></div></div><p>
			A <span class="emphasis"><em>firewall</em></span> is a way to protect machines from any unwanted traffic from outside. It enables users to control incoming network traffic on host machines by defining a set of <span class="emphasis"><em>firewall rules</em></span>. These rules are used to sort the incoming traffic and either block it or allow through.
		</p><section class="section" id="getting-started-with-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.1. Getting started with <code class="literal">firewalld</code></h2></div></div></div><section class="section" id="firewalld_getting-started-with-firewalld"><div class="titlepage"><div><div><h3 class="title">31.1.1. firewalld</h3></div></div></div><p>
					<code class="literal">firewalld</code> is a firewall service daemon that provides a dynamic customizable host-based firewall with a <code class="literal">D-Bus</code> interface. Being dynamic, it enables creating, changing, and deleting the rules without the necessity to restart the firewall daemon each time the rules are changed.
				</p><p>
					<code class="literal">firewalld</code> uses the concepts of <span class="emphasis"><em>zones</em></span> and <span class="emphasis"><em>services</em></span>, that simplify the traffic management. Zones are predefined sets of rules. Network interfaces and sources can be assigned to a zone. The traffic allowed depends on the network your computer is connected to and the security level this network is assigned. Firewall services are predefined rules that cover all necessary settings to allow incoming traffic for a specific service and they apply within a zone.
				</p><p>
					Services use one or more <span class="emphasis"><em>ports</em></span> or <span class="emphasis"><em>addresses</em></span> for network communication. Firewalls filter communication based on ports. To allow network traffic for a service, its ports must be <span class="emphasis"><em>open</em></span>. <code class="literal">firewalld</code> blocks all traffic on ports that are not explicitly set as open. Some zones, such as <span class="emphasis"><em>trusted</em></span>, allow all traffic by default.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">firewalld(1)</code> man page
						</li></ul></div></section><section class="section" id="firewalld-zones_getting-started-with-firewalld"><div class="titlepage"><div><div><h3 class="title">31.1.2. Zones</h3></div></div></div><p>
					⁠<code class="literal">firewalld</code> can be used to separate networks into different zones according to the level of trust that the user has decided to place on the interfaces and traffic within that network. A connection can only be part of one zone, but a zone can be used for many network connections.
				</p><p>
					<code class="literal application">NetworkManager</code> notifies <code class="literal">firewalld</code> of the zone of an interface. You can assign zones to interfaces with:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal application">NetworkManager</code>
						</li><li class="listitem">
							<code class="literal application">firewall-config</code> tool
						</li><li class="listitem">
							<code class="literal command">firewall-cmd</code> command-line tool
						</li><li class="listitem">
							The RHEL web console
						</li></ul></div><p>
					The latter three can only edit the appropriate <code class="literal application">NetworkManager</code> configuration files. If you change the zone of the interface using the web console, <code class="literal command">firewall-cmd</code> or <code class="literal application">firewall-config</code>, the request is forwarded to <code class="literal application">NetworkManager</code> and is not handled by ⁠<code class="literal">firewalld</code>.
				</p><p>
					The predefined zones are stored in the <code class="literal">/usr/lib/firewalld/zones/</code> directory and can be instantly applied to any available network interface. These files are copied to the <code class="literal">/etc/firewalld/zones/</code> directory only after they are modified. The default settings of the predefined zones are as follows:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal option">block</code></span></dt><dd>
								Any incoming network connections are rejected with an icmp-host-prohibited message for <code class="literal">IPv4</code> and icmp6-adm-prohibited for <code class="literal">IPv6</code>. Only network connections initiated from within the system are possible.
							</dd><dt><span class="term"><code class="literal option">dmz</code></span></dt><dd>
								For computers in your demilitarized zone that are publicly-accessible with limited access to your internal network. Only selected incoming connections are accepted.
							</dd><dt><span class="term"><code class="literal option">drop</code></span></dt><dd>
								Any incoming network packets are dropped without any notification. Only outgoing network connections are possible.
							</dd><dt><span class="term"><code class="literal option">external</code></span></dt><dd>
								For use on external networks with masquerading enabled, especially for routers. You do not trust the other computers on the network to not harm your computer. Only selected incoming connections are accepted.
							</dd><dt><span class="term"><code class="literal option">home</code></span></dt><dd>
								For use at home when you mostly trust the other computers on the network. Only selected incoming connections are accepted.
							</dd><dt><span class="term"><code class="literal option">internal</code></span></dt><dd>
								For use on internal networks when you mostly trust the other computers on the network. Only selected incoming connections are accepted.
							</dd><dt><span class="term"><code class="literal option">public</code></span></dt><dd>
								For use in public areas where you do not trust other computers on the network. Only selected incoming connections are accepted.
							</dd><dt><span class="term"><code class="literal option">trusted</code></span></dt><dd>
								All network connections are accepted.
							</dd><dt><span class="term"><code class="literal option">work</code></span></dt><dd>
								For use at work where you mostly trust the other computers on the network. Only selected incoming connections are accepted.
							</dd></dl></div><p>
					One of these zones is set as the <span class="emphasis"><em>default</em></span> zone. When interface connections are added to <code class="literal application">NetworkManager</code>, they are assigned to the default zone. On installation, the default zone in <code class="literal">firewalld</code> is set to be the <code class="literal option">public</code> zone. The default zone can be changed.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The network zone names have been chosen to be self-explanatory and to allow users to quickly make a reasonable decision. To avoid any security problems, review the default zone configuration and disable any unnecessary services according to your needs and risk assessments.
					</p></div></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
						` <code class="literal">firewalld.zone(5)</code> man page
					</p></div></section><section class="section" id="predefined-services_getting-started-with-firewalld"><div class="titlepage"><div><div><h3 class="title">31.1.3. Predefined services</h3></div></div></div><p>
					A service can be a list of local ports, protocols, source ports, and destinations, as well as a list of firewall helper modules automatically loaded if a service is enabled. Using services saves users time because they can achieve several tasks, such as opening ports, defining protocols, enabling packet forwarding and more, in a single step, rather than setting up everything one after another.
				</p><p>
					Service configuration options and generic file information are described in the <code class="literal">firewalld.service(5)</code> man page. The services are specified by means of individual XML configuration files, which are named in the following format: <code class="literal"><span class="emphasis"><em>service-name</em></span>.xml</code>. Protocol names are preferred over service or application names in <code class="literal">firewalld</code>.
				</p><p>
					Services can be added and removed using the graphical <code class="literal application">firewall-config</code> tool, <code class="literal command">firewall-cmd</code>, and <code class="literal command">firewall-offline-cmd</code>.
				</p><p>
					Alternatively, you can edit the XML files in the <code class="literal">/etc/firewalld/services/</code> directory. If a service is not added or changed by the user, then no corresponding XML file is found in <code class="literal">/etc/firewalld/services/</code>. The files in the <code class="literal">/usr/lib/firewalld/services/</code> directory can be used as templates if you want to add or change a service.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">firewalld.service(5)</code> man page
						</li></ul></div></section></section><section class="section" id="installing-the-firewall-config-gui-configuration-tool_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.2. Installing the <code class="literal application">firewall-config</code> GUI configuration tool</h2></div></div></div><p>
				To use the <code class="literal application">firewall-config</code> GUI configuration tool, install the <code class="literal package">firewall-config</code> package.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># yum install firewall-config</pre><p class="simpara">
						Alternatively, in <code class="literal application">GNOME, use the <span class="keycap"><strong>Super</strong></span> key and type `Software</code> to launch the <code class="literal application">Software Sources</code> application. Type <code class="literal">firewall</code> to the search box, which appears after selecting the search button in the top-right corner. Select the <code class="literal">Firewall</code> item from the search results, and click on the <span class="guibutton">Install</span> button.
					</p></li><li class="listitem">
						To run <code class="literal application">firewall-config</code>, use either the <code class="literal command">firewall-config</code> command or press the <span class="keycap"><strong>Super</strong></span> key to enter the <code class="literal">Activities Overview</code>, type <code class="literal">firewall</code>, and press <span class="keycap"><strong>Enter</strong></span>.
					</li></ol></div></section><section class="section" id="viewing-the-current-status-and-settings-of-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.3. Viewing the current status and settings of <code class="literal">firewalld</code></h2></div></div></div><section class="section" id="viewing-the-current-status-of-firewalld_viewing-the-current-status-and-settings-of-firewalld"><div class="titlepage"><div><div><h3 class="title">31.3.1. Viewing the current status of <code class="literal">firewalld</code></h3></div></div></div><p>
					The firewall service, <code class="literal">firewalld</code>, is installed on the system by default. Use the <code class="literal">firewalld</code> CLI interface to check that the service is running.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To see the status of the service:
						</p><pre class="screen"># firewall-cmd --state</pre></li><li class="listitem"><p class="simpara">
							For more information about the service status, use the <code class="literal command">systemctl status</code> sub-command:
						</p><pre class="screen"># systemctl status firewalld
firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor pr
   Active: active (running) since Mon 2017-12-18 16:05:15 CET; 50min ago
     Docs: man:firewalld(1)
 Main PID: 705 (firewalld)
    Tasks: 2 (limit: 4915)
   CGroup: /system.slice/firewalld.service
           └─705 /usr/bin/python3 -Es /usr/sbin/firewalld --nofork --nopid</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
						It is important to know how <code class="literal">firewalld</code> is set up and which rules are in force before you try to edit the settings. To display the firewall settings, see <a class="xref" href="index.html#viewing-current-firewalld-settings_viewing-the-current-status-and-settings-of-firewalld" title="31.3.2. Viewing current firewalld settings">Section 31.3.2, “Viewing current firewalld settings”</a>
					</p></div></section><section class="section" id="viewing-current-firewalld-settings_viewing-the-current-status-and-settings-of-firewalld"><div class="titlepage"><div><div><h3 class="title">31.3.2. Viewing current firewalld settings</h3></div></div></div><section class="section" id="viewing-allowed-services-using-GUI_viewing-the-current-status-and-settings-of-firewalld"><div class="titlepage"><div><div><h4 class="title">31.3.2.1. Viewing allowed services using GUI</h4></div></div></div><p>
						To view the list of services using the graphical <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool, press the <span class="keycap"><strong>Super</strong></span> key to enter the Activities Overview, type <code class="literal command">firewall</code>, and press <span class="keycap"><strong>Enter</strong></span>. The <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool appears. You can now view the list of services under the <code class="literal">Services</code> tab.
					</p><p>
						Alternatively, to start the graphical firewall configuration tool using the command-line, enter the following command:
					</p><pre class="screen">$ <code class="literal command">firewall-config</code></pre><p>
						The <code class="literal">Firewall Configuration</code> window opens. Note that this command can be run as a normal user, but you are prompted for an administrator password occasionally.
					</p></section><section class="section" id="viewing-firewalld-settings-using-CLI_viewing-the-current-status-and-settings-of-firewalld"><div class="titlepage"><div><div><h4 class="title">31.3.2.2. Viewing <code class="literal">firewalld</code> settings using CLI</h4></div></div></div><p>
						With the CLI client, it is possible to get different views of the current firewall settings. The <code class="literal option">--list-all</code> option shows a complete overview of the <code class="literal">firewalld</code> settings.
					</p><p>
						<code class="literal">firewalld</code> uses zones to manage the traffic. If a zone is not specified by the <code class="literal option">--zone</code> option, the command is effective in the default zone assigned to the active network interface and connection.
					</p><p>
						To list all the relevant information for the default zone:
					</p><pre class="screen"># firewall-cmd --list-all
public
  target: default
  icmp-block-inversion: no
  interfaces:
  sources:
  services: ssh dhcpv6-client
  ports:
  protocols:
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:</pre><p>
						To specify the zone for which to display the settings, add the <code class="literal option">--zone=<span class="emphasis"><em>zone-name</em></span></code> argument to the <code class="literal command">firewall-cmd --list-all</code> command, for example:
					</p><pre class="screen"># firewall-cmd --list-all --zone=home
home
  target: default
  icmp-block-inversion: no
  interfaces:
  sources:
  services: ssh mdns samba-client dhcpv6-client
... [trimmed for clarity]</pre><p>
						To see the settings for particular information, such as services or ports, use a specific option. See the <code class="literal">firewalld</code> manual pages or get a list of the options using the command help:
					</p><pre class="screen"># firewall-cmd --help

Usage: firewall-cmd [OPTIONS...]

General Options
  -h, --help           Prints a short help text and exists
  -V, --version        Print the version string of firewalld
  -q, --quiet          Do not print status messages

Status Options
  --state              Return and print firewalld state
  --reload             Reload firewall and keep state information
... [trimmed for clarity]</pre><p>
						For example, to see which services are allowed in the current zone:
					</p><pre class="screen"># firewall-cmd --list-services
ssh dhcpv6-client</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Listing the settings for a certain subpart using the CLI tool can sometimes be difficult to interpret. For example, you allow the <code class="literal">SSH</code> service and <code class="literal">firewalld</code> opens the necessary port (22) for the service. Later, if you list the allowed services, the list shows the <code class="literal">SSH</code> service, but if you list open ports, it does not show any. Therefore, it is recommended to use the <code class="literal option">--list-all</code> option to make sure you receive a complete information.
						</p></div></div></section></section></section><section class="section" id="starting-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.4. Starting firewalld</h2></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To start <code class="literal">firewalld</code>, enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># systemctl unmask firewalld
# systemctl start firewalld</pre></li><li class="listitem"><p class="simpara">
						To ensure <code class="literal">firewalld</code> starts automatically at system start, enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># systemctl enable firewalld</pre></li></ol></div></section><section class="section" id="stopping-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.5. Stopping firewalld</h2></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To stop <code class="literal">firewalld</code>, enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># systemctl stop firewalld</pre></li><li class="listitem"><p class="simpara">
						To prevent <code class="literal">firewalld</code> from starting automatically at system start:
					</p><pre class="screen"># systemctl disable firewalld</pre></li><li class="listitem"><p class="simpara">
						To make sure firewalld is not started by accessing the <code class="literal">firewalld</code> <code class="literal">D-Bus</code> interface and also if other services require <code class="literal">firewalld</code>:
					</p><pre class="screen"># systemctl mask firewalld</pre></li></ol></div></section><section class="section" id="runtime-and-permanent-settings_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.6. Runtime and permanent settings</h2></div></div></div><p>
				Any changes committed in <span class="emphasis"><em>runtime</em></span> mode only apply while <code class="literal">firewalld</code> is running. When <code class="literal">firewalld</code> is restarted, the settings revert to their <span class="emphasis"><em>permanent</em></span> values.
			</p><p>
				To make the changes persistent across reboots, apply them again using the <code class="literal option">--permanent</code> option. Alternatively, to make changes persistent while <code class="literal">firewalld</code> is running, use the <code class="literal option">--runtime-to-permanent</code> <code class="literal command">firewall-cmd</code> option.
			</p><p>
				If you set the rules while <code class="literal">firewalld</code> is running using only the <code class="literal option">--permanent</code> option, they do not become effective before <code class="literal">firewalld</code> is restarted. However, restarting <code class="literal">firewalld</code> closes all open ports and stops the networking traffic.
			</p><div class="formalpara"><p class="title"><strong>Modifying settings in runtime and permanent configuration using CLI</strong></p><p>
					Using the CLI, you do not modify the firewall settings in both modes at the same time. You only modify either runtime or permanent mode. To modify the firewall settings in the permanent mode, use the <code class="literal option">--permanent</code> option with the <code class="literal command">firewall-cmd</code> command.
				</p></div><pre class="screen"># firewall-cmd --permanent &lt;other options&gt;</pre><p>
				Without this option, the command modifies runtime mode.
			</p><p>
				To change settings in both modes, you can use two methods:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Change runtime settings and then make them permanent as follows:
					</p><pre class="screen"># firewall-cmd &lt;other options&gt;
# firewall-cmd --runtime-to-permanent</pre></li><li class="listitem"><p class="simpara">
						Set permanent settings and reload the settings into runtime mode:
					</p><pre class="screen"># firewall-cmd --permanent &lt;other options&gt;
# firewall-cmd --reload</pre></li></ol></div><p>
				The first method allows you to test the settings before you apply them to the permanent mode.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					It is possible, especially on remote systems, that an incorrect setting results in a user locking themselves out of a machine. To prevent such situations, use the <code class="literal option">--timeout</code> option. After a specified amount of time, any change reverts to its previous state. Using this options excludes the <code class="literal option">--permanent</code> option.
				</p><p>
					For example, to add the <code class="literal">SSH</code> service for 15 minutes:
				</p><pre class="screen"># firewall-cmd --add-service=ssh --timeout 15m</pre></div></div></section><section class="section" id="verifying-the-permanent-firewalld-configuration_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.7. Verifying the permanent firewalld configuration</h2></div></div></div><p>
				In certain situations, for example after manually editing <code class="literal systemitem">firewalld</code> configuration files, administrators want to verify that the changes are correct. This section describes how to verify the permanent configuration of the <code class="literal systemitem">firewalld</code> service.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal systemitem">firewalld</code> service is running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Verify the permanent configuration of the <code class="literal systemitem">firewalld</code> service:
					</p><pre class="literallayout"># firewall-cmd --check-config
success</pre><p class="simpara">
						If the permanent configuration is valid, the command returns <code class="literal command">success</code>. In other cases, the command returns an error with further details, such as the following:
					</p><pre class="literallayout"># firewall-cmd --check-config
Error: INVALID_PROTOCOL: 'public.xml': 'tcpx' not from {'tcp'|'udp'|'sctp'|'dccp'}</pre></li></ol></div></section><section class="section" id="controlling-network-traffic-using-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.8. Controlling network traffic using <code class="literal">firewalld</code></h2></div></div></div><section class="section" id="disabling-all-traffic-in-case-of-emergency-using-cli_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.1. Disabling all traffic in case of emergency using CLI</h3></div></div></div><p>
					In an emergency situation, such as a system attack, it is possible to disable all network traffic and cut off the attacker.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To immediately disable networking traffic, switch panic mode on:
						</p><pre class="screen"># firewall-cmd --panic-on</pre></li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Enabling panic mode stops all networking traffic. From this reason, it should be used only when you have the physical access to the machine or if you are logged in using a serial console.
					</p></div></div><p>
					Switching off panic mode reverts the firewall to its permanent settings. To switch panic mode off:
				</p><pre class="screen"># firewall-cmd --panic-off</pre><p>
					To see whether panic mode is switched on or off, use:
				</p><pre class="screen"># firewall-cmd --query-panic</pre></section><section class="section" id="controlling-traffic-with-predefined-services-using-cli_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.2. Controlling traffic with predefined services using CLI</h3></div></div></div><p>
					The most straightforward method to control traffic is to add a predefined service to <code class="literal">firewalld</code>. This opens all necessary ports and modifies other settings according to the <span class="emphasis"><em>service definition file</em></span>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Check that the service is not already allowed:
						</p><pre class="screen"># firewall-cmd --list-services
ssh dhcpv6-client</pre></li><li class="listitem"><p class="simpara">
							List all predefined services:
						</p><pre class="screen"># firewall-cmd --get-services
RH-Satellite-6 amanda-client amanda-k5-client bacula bacula-client bitcoin bitcoin-rpc bitcoin-testnet bitcoin-testnet-rpc ceph ceph-mon cfengine condor-collector ctdb dhcp dhcpv6 dhcpv6-client dns docker-registry ...
[trimmed for clarity]</pre></li><li class="listitem"><p class="simpara">
							Add the service to the allowed services:
						</p><pre class="screen"># firewall-cmd --add-service=&lt;service-name&gt;</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></section><section class="section" id="controlling-traffic-with-predefined-services-using-gui_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.3. Controlling traffic with predefined services using GUI</h3></div></div></div><p>
					To enable or disable a predefined or custom service:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool and select the network zone whose services are to be configured.
						</li><li class="listitem">
							Select the <code class="literal">Services</code> tab.
						</li><li class="listitem">
							Select the check box for each type of service you want to trust or clear the check box to block a service.
						</li></ol></div><p>
					To edit a service:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool.
						</li><li class="listitem">
							Select <code class="literal">Permanent</code> from the menu labeled <code class="literal">Configuration</code>. Additional icons and menu buttons appear at the bottom of the <span class="guibutton">Services</span> window.
						</li><li class="listitem">
							Select the service you want to configure.
						</li></ol></div><p>
					The <code class="literal">Ports</code>, <code class="literal">Protocols</code>, and <code class="literal">Source Port</code> tabs enable adding, changing, and removing of ports, protocols, and source port for the selected service. The modules tab is for configuring <span class="strong strong"><strong><span class="application application">Netfilter</span></strong></span> helper modules. The <code class="literal">Destination</code> tab enables limiting traffic to a particular destination address and Internet Protocol (<code class="literal">IPv4</code> or <code class="literal">IPv6</code>).
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						It is not possible to alter service settings in <code class="literal">Runtime</code> mode.
					</p></div></div></section><section class="section" id="adding-new-services_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.4. Adding new services</h3></div></div></div><p>
					Services can be added and removed using the graphical <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool, <code class="literal command">firewall-cmd</code>, and <code class="literal command">firewall-offline-cmd</code>. Alternatively, you can edit the XML files in <code class="literal">/etc/firewalld/services/</code>. If a service is not added or changed by the user, then no corresponding XML file are found in <code class="literal">/etc/firewalld/services/</code>. The files <code class="literal">/usr/lib/firewalld/services/</code> can be used as templates if you want to add or change a service.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To add a new service in a terminal, use <code class="literal command">firewall-cmd</code>, or <code class="literal command">firewall-offline-cmd</code> in case of not active <code class="literal">firewalld</code>.
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enter the following command to add a new and empty service:
						</p><pre class="screen">$ <code class="literal command">firewall-cmd --new-service=<span class="emphasis"><em>service-name</em></span> --permanent</code></pre></li><li class="listitem"><p class="simpara">
							To add a new service using a local file, use the following command:
						</p><pre class="screen">$ <code class="literal command">firewall-cmd --new-service-from-file=<span class="emphasis"><em>service-name</em></span>.xml --permanent</code></pre><p class="simpara">
							You can change the service name with the additional <code class="literal option">--name=<span class="emphasis"><em>service-name</em></span></code> option.
						</p></li><li class="listitem"><p class="simpara">
							As soon as service settings are changed, an updated copy of the service is placed into <code class="literal">/etc/firewalld/services/</code>.
						</p><p class="simpara">
							As <code class="literal">root</code>, you can enter the following command to copy a service manually:
						</p><pre class="screen"># cp /usr/lib/firewalld/services/service-name.xml /etc/firewalld/services/service-name.xml</pre></li></ol></div><p>
					<code class="literal">firewalld</code> loads files from <code class="literal">/usr/lib/firewalld/services</code> in the first place. If files are placed in <code class="literal">/etc/firewalld/services</code> and they are valid, then these will override the matching files from <code class="literal">/usr/lib/firewalld/services</code>. The overridden files in <code class="literal">/usr/lib/firewalld/services</code> are used as soon as the matching files in <code class="literal">/etc/firewalld/services</code> have been removed or if <code class="literal">firewalld</code> has been asked to load the defaults of the services. This applies to the permanent environment only. A reload is needed to get these fallbacks also in the runtime environment.
				</p></section><section class="section" id="controlling-ports-using-cli_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.5. Controlling ports using CLI</h3></div></div></div><p>
					Ports are logical devices that enable an operating system to receive and distinguish network traffic and forward it accordingly to system services. These are usually represented by a daemon that listens on the port, that is it waits for any traffic coming to this port.
				</p><p>
					Normally, system services listen on standard ports that are reserved for them. The <code class="literal">httpd</code> daemon, for example, listens on port 80. However, system administrators by default configure daemons to listen on different ports to enhance security or for other reasons.
				</p><section class="section" id="opening-a-port_controlling-ports-using-cli"><div class="titlepage"><div><div><h4 class="title">31.8.5.1. Opening a port</h4></div></div></div><p>
						Through open ports, the system is accessible from the outside, which represents a security risk. Generally, keep ports closed and only open them if they are required for certain services.
					</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							To get a list of open ports in the current zone:
						</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								List all allowed ports:
							</p><pre class="screen"># firewall-cmd --list-ports</pre></li><li class="listitem"><p class="simpara">
								Add a port to the allowed ports to open it for incoming traffic:
							</p><pre class="screen"># firewall-cmd --add-port=port-number/port-type</pre></li><li class="listitem"><p class="simpara">
								Make the new settings persistent:
							</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div><p>
						The port types are either <code class="literal">tcp</code>, <code class="literal">udp</code>, <code class="literal">sctp</code>, or <code class="literal">dccp</code>. The type must match the type of network communication.
					</p></section><section class="section" id="closing-a-port_controlling-ports-using-cli"><div class="titlepage"><div><div><h4 class="title">31.8.5.2. Closing a port</h4></div></div></div><p>
						When an open port is no longer needed, close that port in <code class="literal">firewalld</code>. It is highly recommended to close all unnecessary ports as soon as they are not used because leaving a port open represents a security risk.
					</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							To close a port, remove it from the list of allowed ports:
						</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								List all allowed ports:
							</p><pre class="screen"># firewall-cmd --list-ports
[WARNING]
====
This command will only give you a list of ports that have been opened as ports. You will not be able to see any open ports that have been opened as a service. Therefore, you should consider using the --list-all option instead of --list-ports.
====</pre></li><li class="listitem"><p class="simpara">
								Remove the port from the allowed ports to close it for the incoming traffic:
							</p><pre class="screen"># firewall-cmd --remove-port=port-number/port-type</pre></li><li class="listitem"><p class="simpara">
								Make the new settings persistent:
							</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></section></section><section class="section" id="sec-Opening_Ports_using_GUI_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.6. Opening ports using GUI</h3></div></div></div><p>
					To permit traffic through the firewall to a certain port:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool and select the network zone whose settings you want to change.
						</li><li class="listitem">
							Select the <code class="literal">Ports</code> tab and click the <span class="guibutton">Add</span> button on the right-hand side. The <code class="literal">Port and Protocol</code> window opens.
						</li><li class="listitem">
							Enter the port number or range of ports to permit.
						</li><li class="listitem">
							Select <code class="literal">tcp</code> or <code class="literal">udp</code> from the list.
						</li></ol></div></section><section class="section" id="sec-Controlling_Traffic_with_Protocols_using_GUI_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.7. Controlling traffic with protocols using GUI</h3></div></div></div><p>
					To permit traffic through the firewall using a certain protocol:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool and select the network zone whose settings you want to change.
						</li><li class="listitem">
							Select the <code class="literal">Protocols</code> tab and click the <code class="literal">Add</code> button on the right-hand side. The <code class="literal">Protocol</code> window opens.
						</li><li class="listitem">
							Either select a protocol from the list or select the <code class="literal">Other Protocol</code> check box and enter the protocol in the field.
						</li></ol></div></section><section class="section" id="sec-Opening_Source_Ports_using_GUI_controlling-network-traffic-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.8.8. Opening source ports using GUI</h3></div></div></div><p>
					To permit traffic through the firewall from a certain port:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Start the firewall-config tool and select the network zone whose settings you want to change.
						</li><li class="listitem">
							Select the <code class="literal">Source Port</code> tab and click the <code class="literal">Add</code> button on the right-hand side. The <code class="literal">Source Port</code> window opens.
						</li><li class="listitem">
							Enter the port number or range of ports to permit. Select <code class="literal">tcp</code> or <code class="literal">udp</code> from the list.
						</li></ol></div></section></section><section class="section" id="working-with-firewalld-zones_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.9. Working with firewalld zones</h2></div></div></div><p>
				Zones represent a concept to manage incoming traffic more transparently. The zones are connected to networking interfaces or assigned a range of source addresses. You manage firewall rules for each zone independently, which enables you to define complex firewall settings and apply them to the traffic.
			</p><section class="section" id="listing-zones_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.1. Listing zones</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To see which zones are available on your system:
						</p><pre class="screen"># firewall-cmd --get-zones</pre><p class="simpara">
							The <code class="literal command">firewall-cmd --get-zones</code> command displays all zones that are available on the system, but it does not show any details for particular zones.
						</p></li><li class="listitem"><p class="simpara">
							To see detailed information for all zones:
						</p><pre class="screen"># firewall-cmd --list-all-zones</pre></li><li class="listitem"><p class="simpara">
							To see detailed information for a specific zone:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --list-all</pre></li></ol></div></section><section class="section" id="modifying-firewalld-settings-for-a-certain-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.2. Modifying firewalld settings for a certain zone</h3></div></div></div><p>
					The <a class="xref" href="index.html#controlling-traffic-with-predefined-services-using-cli_controlling-network-traffic-using-firewalld" title="31.8.2. Controlling traffic with predefined services using CLI">Section 31.8.2, “Controlling traffic with predefined services using CLI”</a> and <a class="xref" href="index.html#controlling-ports-using-cli_controlling-network-traffic-using-firewalld" title="31.8.5. Controlling ports using CLI">Section 31.8.5, “Controlling ports using CLI”</a> explain how to add services or modify ports in the scope of the current working zone. Sometimes, it is required to set up rules in a different zone.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							To work in a different zone, use the <code class="literal option">--zone=<span class="emphasis"><em>zone-name</em></span></code> option. For example, to allow the <code class="literal">SSH</code> service in the zone <span class="emphasis"><em>public</em></span>:
						</li></ol></div><pre class="screen"># firewall-cmd --add-service=ssh --zone=public</pre></section><section class="section" id="changing-the-default-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.3. Changing the default zone</h3></div></div></div><p>
					System administrators assign a zone to a networking interface in its configuration files. If an interface is not assigned to a specific zone, it is assigned to the default zone. After each restart of the <code class="literal">firewalld</code> service, <code class="literal">firewalld</code> loads the settings for the default zone and makes it active.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To set up the default zone:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the current default zone:
						</p><pre class="screen"># firewall-cmd --get-default-zone</pre></li><li class="listitem"><p class="simpara">
							Set the new default zone:
						</p><pre class="screen"># firewall-cmd --set-default-zone zone-name</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Following this procedure, the setting is a permanent setting, even without the <code class="literal option">--permanent</code> option.
					</p></div></div></section><section class="section" id="assigning-a-network-interface-to-a-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.4. Assigning a network interface to a zone</h3></div></div></div><p>
					It is possible to define different sets of rules for different zones and then change the settings quickly by changing the zone for the interface that is being used. With multiple interfaces, a specific zone can be set for each of them to distinguish traffic that is coming through them.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To assign the zone to a specific interface:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the active zones and the interfaces assigned to them:
						</p><pre class="screen"># firewall-cmd --get-active-zones</pre></li><li class="listitem"><p class="simpara">
							Assign the interface to a different zone:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --change-interface=&lt;interface-name&gt;</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You do not have to use the <code class="literal option">--permanent</code> option to make the setting persistent across restarts. If you set a new default zone, the setting becomes permanent.
					</p></div></div></section><section class="section" id="assigning-a-default-zone-to-a-network-connection_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.5. Assigning a default zone to a network connection</h3></div></div></div><p>
					When the connection is managed by <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span>, it must be aware of a zone that it uses. For every network connection, a zone can be specified, which provides the flexibility of various firewall settings according to the location of the computer with portable devices. Thus, zones and settings can be specified for different locations, such as company or home.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To set a default zone for an Internet connection, use either the <span class="strong strong"><strong><span class="application application">NetworkManager</span></strong></span> GUI or edit the <code class="literal">/etc/sysconfig/network-scripts/ifcfg-<span class="emphasis"><em>connection-name</em></span></code> file and add a line that assigns a zone to this connection:
						</p><pre class="screen">ZONE=<span class="emphasis"><em>zone-name</em></span></pre></li></ol></div></section><section class="section" id="creating-a-new-zone_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.6. Creating a new zone</h3></div></div></div><p>
					To use custom zones, create a new zone and use it just like a predefined zone. New zones require the <code class="literal option">--permanent</code> option, otherwise the command does not work.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To create a new zone:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new zone:
						</p><pre class="screen"># firewall-cmd --new-zone=zone-name</pre></li><li class="listitem"><p class="simpara">
							Check if the new zone is added to your permanent settings:
						</p><pre class="screen"># firewall-cmd --get-zones</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></section><section class="section" id="zone-configuration-files_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.7. Zone configuration files</h3></div></div></div><p>
					Zones can also be created using a <span class="emphasis"><em>zone configuration file</em></span>. This approach can be helpful when you need to create a new zone, but want to reuse the settings from a different zone and only alter them a little.
				</p><p>
					A <code class="literal">firewalld</code> zone configuration file contains the information for a zone. These are the zone description, services, ports, protocols, icmp-blocks, masquerade, forward-ports and rich language rules in an XML file format. The file name has to be <code class="literal"><span class="emphasis"><em>zone-name</em></span>.xml</code> where the length of <span class="emphasis"><em>zone-name</em></span> is currently limited to 17 chars. The zone configuration files are located in the <code class="literal">/usr/lib/firewalld/zones/</code> and <code class="literal">/etc/firewalld/zones/</code> directories.
				</p><p>
					The following example shows a configuration that allows one service (<code class="literal">SSH</code>) and one port range, for both the <code class="literal">TCP</code> and <code class="literal">UDP</code> protocols:
				</p><pre class="screen">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;zone&gt;
  &lt;short&gt;My zone&lt;/short&gt;
  &lt;description&gt;Here you can describe the characteristic features of the zone.&lt;/description&gt;
  &lt;service name="ssh"/&gt;
  &lt;port port="1025-65535" protocol="tcp"/&gt;
  &lt;port port="1025-65535" protocol="udp"/&gt;
&lt;/zone&gt;</pre><p>
					To change settings for that zone, add or remove sections to add ports, forward ports, services, and so on.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information, see the <code class="literal">firewalld.zone</code> manual pages.
						</li></ul></div></section><section class="section" id="using-zone-targets-to-set-default-behavior-for-incoming-traffic_working-with-firewalld-zones"><div class="titlepage"><div><div><h3 class="title">31.9.8. Using zone targets to set default behavior for incoming traffic</h3></div></div></div><p>
					For every zone, you can set a default behavior that handles incoming traffic that is not further specified. Such behaviour is defined by setting the target of the zone. There are three options - <code class="literal">default</code>, <code class="literal">ACCEPT</code>, <code class="literal">REJECT</code>, and <code class="literal">DROP</code>. By setting the target to <code class="literal">ACCEPT</code>, you accept all incoming packets except those disabled by a specific rule. If you set the target to <code class="literal">REJECT</code> or <code class="literal">DROP</code>, you disable all incoming packets except those that you have allowed in specific rules. When packets are rejected, the source machine is informed about the rejection, while there is no information sent when the packets are dropped.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To set a target for a zone:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List the information for the specific zone to see the default target:
						</p><pre class="screen">$ <code class="literal command">firewall-cmd --zone=<span class="emphasis"><em>zone-name</em></span> --list-all</code></pre></li><li class="listitem"><p class="simpara">
							Set a new target in the zone:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --set-target=&lt;default|ACCEPT|REJECT|DROP&gt;</pre></li></ol></div></section></section><section class="section" id="using-zones-to-manage-incoming-traffic-depending-on-a-source_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.10. Using zones to manage incoming traffic depending on a source</h2></div></div></div><section class="section" id="sec-Using_Zones_to_Manage_Incoming_Traffic_Depending_on_Source_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.1. Using zones to manage incoming traffic depending on a source</h3></div></div></div><p>
					You can use zones to manage incoming traffic based on its source. That enables you to sort incoming traffic and route it through different zones to allow or disallow services that can be reached by that traffic.
				</p><p>
					If you add a source to a zone, the zone becomes active and any incoming traffic from that source will be directed through it. You can specify different settings for each zone, which is applied to the traffic from the given sources accordingly. You can use more zones even if you only have one network interface.
				</p></section><section class="section" id="adding-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.2. Adding a source</h3></div></div></div><p>
					To route incoming traffic into a specific source, add the source to that zone. The source can be an IP address or an IP mask in the Classless Inter-domain Routing (CIDR) notation.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To set the source in the current zone:
						</p><pre class="screen"># firewall-cmd --add-source=&lt;source&gt;</pre></li><li class="listitem"><p class="simpara">
							To set the source IP address for a specific zone:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --add-source=&lt;source&gt;</pre></li></ul></div><p>
					The following procedure allows all incoming traffic from <span class="emphasis"><em>192.168.2.15</em></span> in the <code class="literal">trusted</code> zone:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all available zones:
						</p><pre class="screen"># firewall-cmd --get-zones</pre></li><li class="listitem"><p class="simpara">
							Add the source IP to the trusted zone in the permanent mode:
						</p><pre class="screen"># firewall-cmd --zone=trusted --add-source=192.168.2.15</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></section><section class="section" id="removing-a-source_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.3. Removing a source</h3></div></div></div><p>
					Removing a source from the zone cuts off the traffic coming from it.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List allowed sources for the required zone:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --list-sources</pre></li><li class="listitem"><p class="simpara">
							Remove the source from the zone permanently:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --remove-source=&lt;source&gt;</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></section><section class="section" id="adding-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.4. Adding a source port</h3></div></div></div><p>
					To enable sorting the traffic based on a port of origin, specify a source port using the <code class="literal option">--add-source-port</code> option. You can also combine this with the <code class="literal option">--add-source</code> option to limit the traffic to a certain IP address or IP range.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To add a source port:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --add-source-port=&lt;port-name&gt;/&lt;tcp|udp|sctp|dccp&gt;</pre></li></ol></div></section><section class="section" id="removing-a-source-port_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.5. Removing a source port</h3></div></div></div><p>
					By removing a source port you disable sorting the traffic based on a port of origin.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To remove a source port:
						</p><pre class="screen"># firewall-cmd --zone=zone-name --remove-source-port=&lt;port-name&gt;/&lt;tcp|udp|sctp|dccp&gt;</pre></li></ol></div></section><section class="section" id="using-zones-and-sources-to-allow-a-service-for-only-a-specific-domain_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.6. Using zones and sources to allow a service for only a specific domain</h3></div></div></div><p>
					To allow traffic from a specific network to use a service on a machine, use zones and source. The following procedure allows traffic from <span class="emphasis"><em>192.168.1.0/24</em></span> to be able to reach the <span class="emphasis"><em>HTTP</em></span> service while any other traffic is blocked.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List all available zones:
						</p><pre class="screen"># firewall-cmd --get-zones
block dmz drop external home internal public trusted work</pre></li><li class="listitem"><p class="simpara">
							Add the source to the trusted zone to route the traffic originating from the source through the zone:
						</p><pre class="screen"># firewall-cmd --zone=trusted --add-source=192.168.1.0/24</pre></li><li class="listitem"><p class="simpara">
							Add the <span class="emphasis"><em>http</em></span> service in the trusted zone:
						</p><pre class="screen"># firewall-cmd --zone=trusted -add-service=http</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li><li class="listitem"><p class="simpara">
							Check that the trusted zone is active and that the service is allowed in it:
						</p><pre class="screen"># firewall-cmd --zone=trusted --list-all
trusted (active)
target: ACCEPT
sources: 192.168.1.0/24
services: http</pre></li></ol></div></section><section class="section" id="configuring-traffic-accepted-by-a-zone-based-on-a-protocol_using-zones-to-manage-incoming-traffic-depending-on-a-source"><div class="titlepage"><div><div><h3 class="title">31.10.7. Configuring traffic accepted by a zone based on a protocol</h3></div></div></div><p>
					You can allow incoming traffic to be accepted by a zone based on a protocol. All traffic using the specified protocol is accepted by a zone, in which you can apply further rules and filtering.
				</p><section class="section" id="adding-a-protocol-to-a-zone_configuring-traffic-accepted-by-a-zone-based-on-a-protocol"><div class="titlepage"><div><div><h4 class="title">31.10.7.1. Adding a protocol to a zone</h4></div></div></div><p>
						By adding a protocol to a certain zone, you allow all traffic with this protocol to be accepted by this zone.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To add a protocol to a zone:
							</p><pre class="screen"># firewall-cmd --zone=zone-name --add-protocol=port-name/tcp|udp|sctp|dccp|igmp</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							To receive multicast traffic, use the <code class="literal">igmp</code> value with the <code class="literal option">--add-protocol</code> option.
						</p></div></div></section><section class="section" id="removing-a-protocol-from-a-zone_configuring-traffic-accepted-by-a-zone-based-on-a-protocol"><div class="titlepage"><div><div><h4 class="title">31.10.7.2. Removing a protocol from a zone</h4></div></div></div><p>
						By removing a protocol from a certain zone, you stop accepting all traffic based on this protocol by the zone.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To remove a protocol from a zone:
							</p><pre class="screen"># firewall-cmd --zone=zone-name --remove-protocol=port-name/tcp|udp|sctp|dccp|igmp</pre></li></ol></div></section></section></section><section class="section" id="configuring-ip-address-masquerading_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.11. Configuring IP address masquerading</h2></div></div></div><p>
				The following procedure describes how to enable IP masquerading on your system. IP masquerading hides individual machines behind a gateway when accessing the Internet.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To check if IP masquerading is enabled (for example, for the <code class="literal">external</code> zone), enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># firewall-cmd --zone=external --query-masquerade</pre><p class="simpara">
						The command prints <code class="literal">yes</code> with exit status <code class="literal">0</code> if enabled. It prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise. If <code class="literal option">zone</code> is omitted, the default zone will be used.
					</p></li><li class="listitem"><p class="simpara">
						To enable IP masquerading, enter the following command as <code class="literal">root</code>:
					</p><pre class="screen"># firewall-cmd --zone=external --add-masquerade</pre></li><li class="listitem">
						To make this setting persistent, repeat the command adding the <code class="literal option">--permanent</code> option.
					</li></ol></div><p>
				To disable IP masquerading, enter the following command as <code class="literal">root</code>:
			</p><pre class="screen"># firewall-cmd --zone=external --remove-masquerade --permanent</pre></section><section class="section" id="port-forwarding_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.12. Port forwarding</h2></div></div></div><p>
				Redirecting ports using this method only works for IPv4-based traffic. For IPv6 redirecting setup, you must use rich rules.
			</p><p>
				To redirect to an external system, it is necessary to enable masquerading. For more information, see <a class="link" href="index.html#configuring-ip-address-masquerading_using-and-configuring-firewalls" title="31.11. Configuring IP address masquerading">Configuring IP address masquerading</a>.
			</p><section class="section" id="adding-a-port-to-redirect_port-forwarding"><div class="titlepage"><div><div><h3 class="title">31.12.1. Adding a port to redirect</h3></div></div></div><p>
					Using <code class="literal">firewalld</code>, you can set up ports redirection so that any incoming traffic that reaches a certain port on your system is delivered to another internal port of your choice or to an external port on another machine.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Before you redirect traffic from one port to another port, or another address, you have to know three things: which port the packets arrive at, what protocol is used, and where you want to redirect them.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To redirect a port to another port:
					</p></div><pre class="screen"># firewall-cmd --add-forward-port=port=port-number:proto=tcp|udp|sctp|dccp:toport=port-number</pre><p>
					To redirect a port to another port at a different IP address:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add the port to be forwarded:
						</p><pre class="screen"># firewall-cmd --add-forward-port=port=port-number:proto=tcp|udp:toport=port-number:toaddr=IP/mask</pre></li><li class="listitem"><p class="simpara">
							Enable masquerade:
						</p><pre class="screen"># firewall-cmd --add-masquerade</pre></li></ol></div></section><section class="section" id="redirecting-tcp-port-80-to-port-88-on-the-same-machine_port-forwarding"><div class="titlepage"><div><div><h3 class="title">31.12.2. Redirecting TCP port 80 to port 88 on the same machine</h3></div></div></div><p>
					Follow the steps to redirect the TCP port 80 to port 88.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Redirect the port 80 to port 88 for TCP traffic:
						</p><pre class="screen"># firewall-cmd --add-forward-port=port=80:proto=tcp:toport=88</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li><li class="listitem"><p class="simpara">
							Check that the port is redirected:
						</p><pre class="screen"># firewall-cmd --list-all</pre></li></ol></div></section><section class="section" id="removing-a-redirected-port_port-forwarding"><div class="titlepage"><div><div><h3 class="title">31.12.3. Removing a redirected port</h3></div></div></div><p>
					To remove a redirected port:
				</p><pre class="screen">~]# firewall-cmd --remove-forward-port=port=port-number:proto=&lt;tcp|udp&gt;:toport=port-number:toaddr=&lt;IP/mask&gt;</pre><p>
					To remove a forwarded port redirected to a different address, use the following procedure.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Remove the forwarded port:
						</p><pre class="screen">~]# firewall-cmd --remove-forward-port=port=port-number:proto=&lt;tcp|udp&gt;:toport=port-number:toaddr=&lt;IP/mask&gt;</pre></li><li class="listitem"><p class="simpara">
							Disable masquerade:
						</p><pre class="screen">~]# firewall-cmd --remove-masquerade</pre></li></ol></div></section><section class="section" id="removing-tcp-port-80-forwarded-to-port-88-on-the-same-machine_port-forwarding"><div class="titlepage"><div><div><h3 class="title">31.12.4. Removing TCP port 80 forwarded to port 88 on the same machine</h3></div></div></div><p>
					To remove the port redirection:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							List redirected ports:
						</p><pre class="screen">~]# firewall-cmd --list-forward-ports
port=80:proto=tcp:toport=88:toaddr=</pre></li><li class="listitem"><p class="simpara">
							Remove the redirected port from the firewall::
						</p><pre class="screen">~]# firewall-cmd  --remove-forward-port=port=80:proto=tcp:toport=88:toaddr=</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen">~]# firewall-cmd --runtime-to-permanent</pre></li></ol></div></section></section><section class="section" id="managing-icmp-requests_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.13. Managing ICMP requests</h2></div></div></div><p>
				The <code class="literal">Internet Control Message Protocol</code> (<code class="literal">ICMP</code>) is a supporting protocol that is used by various network devices to send error messages and operational information indicating a connection problem, for example, that a requested service is not available. <code class="literal">ICMP</code> differs from transport protocols such as TCP and UDP because it is not used to exchange data between systems.
			</p><p>
				Unfortunately, it is possible to use the <code class="literal">ICMP</code> messages, especially <code class="literal">echo-request</code> and <code class="literal">echo-reply</code>, to reveal information about your network and misuse such information for various kinds of fraudulent activities. Therefore, <code class="literal">firewalld</code> enables blocking the <code class="literal">ICMP</code> requests to protect your network information.
			</p><section class="section" id="listing-and-blocking-icmp-requests_managing-icmp-requests"><div class="titlepage"><div><div><h3 class="title">31.13.1. Listing and blocking ICMP requests</h3></div></div></div><div class="formalpara"><p class="title"><strong>Listing <code class="literal">ICMP</code> requests</strong></p><p>
						The <code class="literal">ICMP</code> requests are described in individual XML files that are located in the <code class="literal">/usr/lib/firewalld/icmptypes/</code> directory. You can read these files to see a description of the request. The <code class="literal command">firewall-cmd</code> command controls the <code class="literal">ICMP</code> requests manipulation.
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To list all available <code class="literal">ICMP</code> types:
						</p><pre class="screen"># firewall-cmd --get-icmptypes</pre></li><li class="listitem"><p class="simpara">
							The <code class="literal">ICMP</code> request can be used by IPv4, IPv6, or by both protocols. To see for which protocol the <code class="literal">ICMP</code> request is used:
						</p><pre class="screen"># firewall-cmd --info-icmptype=&lt;icmptype&gt;</pre></li><li class="listitem"><p class="simpara">
							The status of an <code class="literal">ICMP</code> request shows <code class="literal">yes</code> if the request is currently blocked or <code class="literal">no</code> if it is not. To see if an <code class="literal">ICMP</code> request is currently blocked:
						</p><pre class="screen"># firewall-cmd --query-icmp-block=&lt;icmptype&gt;</pre></li></ul></div><div class="formalpara"><p class="title"><strong>Blocking or unblocking <code class="literal">ICMP</code> requests</strong></p><p>
						When your server blocks <code class="literal">ICMP</code> requests, it does not provide the information that it normally would. However, that does not mean that no information is given at all. The clients receive information that the particular <code class="literal">ICMP</code> request is being blocked (rejected). Blocking the <code class="literal">ICMP</code> requests should be considered carefully, because it can cause communication problems, especially with IPv6 traffic.
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To see if an <code class="literal">ICMP</code> request is currently blocked:
						</p><pre class="screen"># firewall-cmd --query-icmp-block=&lt;icmptype&gt;</pre></li><li class="listitem"><p class="simpara">
							To block an <code class="literal">ICMP</code> request:
						</p><pre class="screen"># firewall-cmd --add-icmp-block=&lt;icmptype&gt;</pre></li><li class="listitem"><p class="simpara">
							To remove the block for an <code class="literal">ICMP</code> request:
						</p><pre class="screen"># firewall-cmd --remove-icmp-block=&lt;icmptype&gt;</pre></li></ul></div><div class="formalpara"><p class="title"><strong>Blocking <code class="literal">ICMP</code> requests without providing any information at all</strong></p><p>
						Normally, if you block <code class="literal">ICMP</code> requests, clients know that you are blocking it. So, a potential attacker who is sniffing for live IP addresses is still able to see that your IP address is online. To hide this information completely, you have to drop all <code class="literal">ICMP</code> requests.
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							To block and drop all <code class="literal">ICMP</code> requests:
						</li></ul></div><div class="informalexample"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the target of your zone to <code class="literal">DROP</code>:
						</p><pre class="screen"># firewall-cmd --set-target=DROP</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div><p>
					Now, all traffic, including <code class="literal">ICMP</code> requests, is dropped, except traffic which you have explicitly allowed.
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							To block and drop certain <code class="literal">ICMP</code> requests and allow others:
						</li></ul></div><div class="informalexample"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the target of your zone to <code class="literal">DROP</code>:
						</p><pre class="screen"># firewall-cmd --set-target=DROP</pre></li><li class="listitem"><p class="simpara">
							Add the ICMP block inversion to block all <code class="literal">ICMP</code> requests at once:
						</p><pre class="screen"># firewall-cmd --add-icmp-block-inversion</pre></li><li class="listitem"><p class="simpara">
							Add the ICMP block for those <code class="literal">ICMP</code> requests that you want to allow:
						</p><pre class="screen"># firewall-cmd --add-icmp-block=&lt;icmptype&gt;</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div><p>
					The <span class="emphasis"><em>block inversion</em></span> inverts the setting of the <code class="literal">ICMP</code> requests blocks, so all requests, that were not previously blocked, are blocked. Those that were blocked are not blocked. Which means that if you need to unblock a request, you must use the blocking command.
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							To revert the block inversion to a fully permissive setting:
						</li></ul></div><div class="informalexample"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Set the target of your zone to <code class="literal">default</code> or <code class="literal">ACCEPT</code>:
						</p><pre class="screen"># firewall-cmd --set-target=default</pre></li><li class="listitem"><p class="simpara">
							Remove all added blocks for <code class="literal">ICMP</code> requests:
						</p><pre class="screen"># firewall-cmd --remove-icmp-block=&lt;icmptype&gt;</pre></li><li class="listitem"><p class="simpara">
							Remove the <code class="literal">ICMP</code> block inversion:
						</p><pre class="screen"># firewall-cmd --remove-icmp-block-inversion</pre></li><li class="listitem"><p class="simpara">
							Make the new settings persistent:
						</p><pre class="screen"># firewall-cmd --runtime-to-permanent</pre></li></ol></div></div></section><section class="section" id="configuring-the-icmp-filter-using-gui_managing-icmp-requests"><div class="titlepage"><div><div><h3 class="title">31.13.2. Configuring the ICMP filter using GUI</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							To enable or disable an <code class="literal">ICMP</code> filter, start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool and select the network zone whose messages are to be filtered. Select the <code class="literal">ICMP Filter</code> tab and select the check box for each type of <code class="literal">ICMP</code> message you want to filter. Clear the check box to disable a filter. This setting is per direction and the default allows everything.
						</li><li class="listitem">
							To edit an <code class="literal">ICMP</code> type, start the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool and select <code class="literal">Permanent</code> mode from the menu labeled <code class="literal">Configuration</code>. Additional icons appear at the bottom of the <span class="guibutton">Services</span> window. Select <span class="guibutton">Yes</span> in the following dialog to enable masquerading and to make forwarding to another machine working.
						</li><li class="listitem">
							To enable inverting the <code class="literal">ICMP Filter</code>, click the <code class="literal">Invert Filter</code> check box on the right. Only marked <code class="literal">ICMP</code> types are now accepted, all other are rejected. In a zone using the DROP target, they are dropped.
						</li></ul></div></section></section><section class="section" id="setting-and-controlling-ip-sets-using-firewalld_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.14. Setting and controlling IP sets using <code class="literal">firewalld</code></h2></div></div></div><p>
				To see the list of IP set types supported by <code class="literal">firewalld</code>, enter the following command as root.
			</p><pre class="screen">~]# firewall-cmd --get-ipset-types
hash:ip hash:ip,mark hash:ip,port hash:ip,port,ip hash:ip,port,net hash:mac hash:net hash:net,iface hash:net,net hash:net,port hash:net,port,net</pre><section class="section" id="configuring-ip-set-options-using-cli_setting-and-controlling-ip-sets-using-firewalld"><div class="titlepage"><div><div><h3 class="title">31.14.1. Configuring IP set options using CLI</h3></div></div></div><p>
					IP sets can be used in <code class="literal">firewalld</code> zones as sources and also as sources in rich rules. In Red Hat Enterprise Linux, the preferred method is to use the IP sets created with <code class="literal">firewalld</code> in a direct rule.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To list the IP sets known to <code class="literal">firewalld</code> in the permanent environment, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --get-ipsets</pre></li><li class="listitem"><p class="simpara">
							To add a new IP set, use the following command using the permanent environment as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --new-ipset=test --type=hash:net
success</pre><p class="simpara">
							The previous command creates a new IP set with the name <span class="emphasis"><em>test</em></span> and the <code class="literal option">hash:net</code> type for <code class="literal">IPv4</code>. To create an IP set for use with <code class="literal">IPv6</code>, add the <code class="literal option">--option=family=inet6</code> option. To make the new setting effective in the runtime environment, reload <code class="literal">firewalld</code>.
						</p></li><li class="listitem"><p class="simpara">
							List the new IP set with the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --get-ipsets
test</pre></li><li class="listitem"><p class="simpara">
							To get more information about the IP set, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --info-ipset=test
test
type: hash:net
options:
entries:</pre><p class="simpara">
							Note that the IP set does not have any entries at the moment.
						</p></li><li class="listitem"><p class="simpara">
							To add an entry to the <span class="emphasis"><em>test</em></span> IP set, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --ipset=<span class="emphasis"><em>test</em></span> --add-entry=<span class="emphasis"><em>192.168.0.1</em></span>
success</pre><p class="simpara">
							The previous command adds the IP address <span class="emphasis"><em>192.168.0.1</em></span> to the IP set.
						</p></li><li class="listitem"><p class="simpara">
							To get the list of current entries in the IP set, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --ipset=test --get-entries
192.168.0.1</pre></li><li class="listitem"><p class="simpara">
							Generate a file containing a list of IP addresses, for example:
						</p><pre class="screen"># cat &gt; iplist.txt &lt;&lt;EOL
192.168.0.2
192.168.0.3
192.168.1.0/24
192.168.2.254
EOL</pre><p class="simpara">
							The file with the list of IP addresses for an IP set should contain an entry per line. Lines starting with a hash, a semi-colon, or empty lines are ignored.
						</p></li><li class="listitem"><p class="simpara">
							To add the addresses from the <span class="emphasis"><em>iplist.txt</em></span> file, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --ipset=<span class="emphasis"><em>test</em></span> --add-entries-from-file=<span class="emphasis"><em>iplist.txt</em></span>
success</pre></li><li class="listitem"><p class="simpara">
							To see the extended entries list of the IP set, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --ipset=<span class="emphasis"><em>test</em></span> --get-entries
192.168.0.1
192.168.0.2
192.168.0.3
192.168.1.0/24
192.168.2.254</pre></li><li class="listitem"><p class="simpara">
							To remove the addresses from the IP set and to check the updated entries list, use the following commands as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --ipset=<span class="emphasis"><em>test</em></span> --remove-entries-from-file=<span class="emphasis"><em>iplist.txt</em></span>
success
# firewall-cmd --permanent --ipset=test --get-entries
192.168.0.1</pre></li><li class="listitem"><p class="simpara">
							You can add the IP set as a source to a zone to handle all traffic coming in from any of the addresses listed in the IP set with a zone. For example, to add the <span class="emphasis"><em>test</em></span> IP set as a source to the <span class="emphasis"><em>drop</em></span> zone to drop all packets coming from all entries listed in the <span class="emphasis"><em>test</em></span> IP set, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --permanent --zone=drop --add-source=ipset:test
success</pre><p class="simpara">
							The <code class="literal option">ipset:</code> prefix in the source shows <code class="literal">firewalld</code> that the source is an IP set and not an IP address or an address range.
						</p></li></ul></div><p>
					Only the creation and removal of IP sets is limited to the permanent environment, all other IP set options can be used also in the runtime environment without the <code class="literal option">--permanent</code> option.
				</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
						Red Hat does not recommend using IP sets that are not managed through <code class="literal">firewalld</code>. To use such IP sets, a permanent direct rule is required to reference the set, and a custom service must be added to create these IP sets. This service needs to be started before firewalld starts, otherwise <code class="literal">firewalld</code> is not able to add the direct rules using these sets. You can add permanent direct rules with the <code class="literal">/etc/firewalld/direct.xml</code> file.
					</p></div></div></section></section><section class="section" id="prioritizing-rich-rules_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.15. Prioritizing rich rules</h2></div></div></div><p>
				By default, rich rules are organized based on their rule action. For example, <code class="literal command">deny</code> rules have precedence over <code class="literal command">allow</code> rules. The <code class="literal parameter">priority</code> parameter in rich rules provides administrators fine-grained control over rich rules and their execution order.
			</p><section class="section" id="how-the-priority-parameter-organizes-rules-into-different-chains_prioritizing-rich-rules"><div class="titlepage"><div><div><h3 class="title">31.15.1. How the priority parameter organizes rules into different chains</h3></div></div></div><p>
					You can set the <code class="literal parameter">priority</code> parameter in a rich rule to any number between <code class="literal command">-32768</code> and <code class="literal command">32767</code>, and lower values have higher precedence.
				</p><p>
					The <code class="literal systemitem">firewalld</code> service organizes rules based on their priority value into different chains:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Priority lower than 0: the rule is redirected into a chain with the <code class="literal command">_pre</code> suffix.
						</li><li class="listitem">
							Priority higher than 0: the rule is redirected into a chain with the <code class="literal command">_post</code> suffix.
						</li><li class="listitem">
							Priority equals 0: based on the action, the rule is redirected into a chain with the <code class="literal command">_log</code>, <code class="literal command">_deny</code>, or <code class="literal command">_allow</code> the action.
						</li></ul></div><p>
					Inside these sub-chains, <code class="literal systemitem">firewalld</code> sorts the rules based on their priority value.
				</p></section><section class="section" id="setting-the-priority-of-a-rich-rule_prioritizing-rich-rules"><div class="titlepage"><div><div><h3 class="title">31.15.2. Setting the priority of a rich rule</h3></div></div></div><p>
					The procedure describes an example of how to create a rich rule that uses the <code class="literal parameter">priority</code> parameter to log all traffic that is not allowed or denied by other rules. You can use this rule to flag unexpected traffic.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a rich rule with a very low precedence to log all traffic that has not been matched by other rules:
						</p><pre class="literallayout"># firewall-cmd --add-rich-rule='rule priority=32767 log prefix="UNEXPECTED: " limit value="5/m"'</pre><p class="simpara">
							The command additionally limits the number of log entries to <code class="literal command">5</code> per minute.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, display the <code class="literal systemitem">nftables</code> rule that the command in the previous step created:
						</p><pre class="literallayout"># nft list chain inet firewalld filter_IN_public_post
table inet firewalld {
  chain filter_IN_public_post {
    log prefix "UNEXPECTED: " limit rate 5/minute
  }
}</pre></li></ol></div></section></section><section class="section" id="configuring-firewall-lockdown_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.16. Configuring firewall lockdown</h2></div></div></div><p>
				Local applications or services are able to change the firewall configuration if they are running as <code class="literal">root</code> (for example, <span class="strong strong"><strong><span class="application application">libvirt</span></strong></span>). With this feature, the administrator can lock the firewall configuration so that either no applications or only applications that are added to the lockdown whitelist are able to request firewall changes. The lockdown settings default to disabled. If enabled, the user can be sure that there are no unwanted configuration changes made to the firewall by local applications or services.
			</p><section class="section" id="configuring-lockdown-with-the-command-line-client_configuring-firewall-lockdown"><div class="titlepage"><div><div><h3 class="title">31.16.1. Configuring lockdown with using CLI</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To query whether lockdown is enabled, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --query-lockdown</pre><p class="simpara">
							The command prints <code class="literal">yes</code> with exit status <code class="literal">0</code> if lockdown is enabled. It prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise.
						</p></li><li class="listitem"><p class="simpara">
							To enable lockdown, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --lockdown-on</pre></li><li class="listitem"><p class="simpara">
							To disable lockdown, use the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --lockdown-off</pre></li></ul></div></section><section class="section" id="configuring-lockdown-whitelist-options-with-the-command-line-client_configuring-firewall-lockdown"><div class="titlepage"><div><div><h3 class="title">31.16.2. Configuring lockdown whitelist options using CLI</h3></div></div></div><p>
					The lockdown whitelist can contain commands, security contexts, users and user IDs. If a command entry on the whitelist ends with an asterisk "*", then all command lines starting with that command will match. If the "*" is not there then the absolute command including arguments must match.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The context is the security (SELinux) context of a running application or service. To get the context of a running application use the following command:
						</p><pre class="screen">$ <code class="literal command">ps -e --context</code></pre><p class="simpara">
							That command returns all running applications. Pipe the output through the <span class="strong strong"><strong><span class="application application">grep</span></strong></span> tool to get the application of interest. For example:
						</p><pre class="screen">$ ps -e --context | grep example_program</pre></li><li class="listitem"><p class="simpara">
							To list all command lines that are on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --list-lockdown-whitelist-commands</pre></li><li class="listitem"><p class="simpara">
							To add a command <span class="emphasis"><em>command</em></span> to the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --add-lockdown-whitelist-command='/usr/bin/python3 -Es /usr/bin/command'</pre></li><li class="listitem"><p class="simpara">
							To remove a command <span class="emphasis"><em>command</em></span> from the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --remove-lockdown-whitelist-command='/usr/bin/python3 -Es /usr/bin/command'</pre></li><li class="listitem"><p class="simpara">
							To query whether the command <span class="emphasis"><em>command</em></span> is on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --query-lockdown-whitelist-command='/usr/bin/python3 -Es /usr/bin/command'</pre><p class="simpara">
							The command prints <code class="literal">yes</code> with exit status <code class="literal">0</code> if true. It prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise.
						</p></li><li class="listitem"><p class="simpara">
							To list all security contexts that are on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --list-lockdown-whitelist-contexts</pre></li><li class="listitem"><p class="simpara">
							To add a context <span class="emphasis"><em>context</em></span> to the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --add-lockdown-whitelist-context=context</pre></li><li class="listitem"><p class="simpara">
							To remove a context <span class="emphasis"><em>context</em></span> from the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --remove-lockdown-whitelist-context=context</pre></li><li class="listitem"><p class="simpara">
							To query whether the context <span class="emphasis"><em>context</em></span> is on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --query-lockdown-whitelist-context=context</pre><p class="simpara">
							Prints <code class="literal">yes</code> with exit status <code class="literal">0</code>, if true, prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise.
						</p></li><li class="listitem"><p class="simpara">
							To list all user IDs that are on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --list-lockdown-whitelist-uids</pre></li><li class="listitem"><p class="simpara">
							To add a user ID <span class="emphasis"><em>uid</em></span> to the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --add-lockdown-whitelist-uid=uid</pre></li><li class="listitem"><p class="simpara">
							To remove a user ID <span class="emphasis"><em>uid</em></span> from the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --remove-lockdown-whitelist-uid=uid</pre></li><li class="listitem"><p class="simpara">
							To query whether the user ID <span class="emphasis"><em>uid</em></span> is on the whitelist, enter the following command:
						</p><pre class="screen">$ <code class="literal command">firewall-cmd --query-lockdown-whitelist-uid=<span class="emphasis"><em>uid</em></span></code></pre><p class="simpara">
							Prints <code class="literal">yes</code> with exit status <code class="literal">0</code>, if true, prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise.
						</p></li><li class="listitem"><p class="simpara">
							To list all user names that are on the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --list-lockdown-whitelist-users</pre></li><li class="listitem"><p class="simpara">
							To add a user name <span class="emphasis"><em>user</em></span> to the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --add-lockdown-whitelist-user=user</pre></li><li class="listitem"><p class="simpara">
							To remove a user name <span class="emphasis"><em>user</em></span> from the whitelist, enter the following command as <code class="literal">root</code>:
						</p><pre class="screen"># firewall-cmd --remove-lockdown-whitelist-user=user</pre></li><li class="listitem"><p class="simpara">
							To query whether the user name <span class="emphasis"><em>user</em></span> is on the whitelist, enter the following command:
						</p><pre class="screen">$ <code class="literal command">firewall-cmd --query-lockdown-whitelist-user=<span class="emphasis"><em>user</em></span></code></pre><p class="simpara">
							Prints <code class="literal">yes</code> with exit status <code class="literal">0</code>, if true, prints <code class="literal">no</code> with exit status <code class="literal">1</code> otherwise.
						</p></li></ul></div></section><section class="section" id="configuring-lockdown-whitelist-options-with-configuration-files_configuring-firewall-lockdown"><div class="titlepage"><div><div><h3 class="title">31.16.3. Configuring lockdown whitelist options using configuration files</h3></div></div></div><p>
					The default whitelist configuration file contains the <code class="literal application">NetworkManager</code> context and the default context of <code class="literal application">libvirt</code>. The user ID 0 is also on the list.
				</p><pre class="screen">&lt;?xml version="1.0" encoding="utf-8"?&gt;
	&lt;whitelist&gt;
	  &lt;selinux context="system_u:system_r:NetworkManager_t:s0"/&gt;
	  &lt;selinux context="system_u:system_r:virtd_t:s0-s0:c0.c1023"/&gt;
	  &lt;user id="0"/&gt;
	&lt;/whitelist&gt;</pre><p>
					Following is an example whitelist configuration file enabling all commands for the <code class="literal command">firewall-cmd</code> utility, for a user called <span class="emphasis"><em>user</em></span> whose user ID is <code class="literal">815</code>:
				</p><pre class="screen">&lt;?xml version="1.0" encoding="utf-8"?&gt;
	&lt;whitelist&gt;
	  &lt;command name="/usr/libexec/platform-python -s /bin/firewall-cmd*"/&gt;
	  &lt;selinux context="system_u:system_r:NetworkManager_t:s0"/&gt;
	  &lt;user id="815"/&gt;
	  &lt;user name="user"/&gt;
	&lt;/whitelist&gt;</pre><p>
					This example shows both <code class="literal option">user id</code> and <code class="literal option">user name</code>, but only one option is required. Python is the interpreter and is prepended to the command line. You can also use a specific command, for example:
				</p><pre class="screen"><code class="literal command">/usr/bin/python3 /bin/firewall-cmd --lockdown-on</code></pre><p>
					In that example, only the <code class="literal command">--lockdown-on</code> command is allowed.
				</p><p>
					In Red Hat Enterprise Linux, all utilities are placed in the <code class="literal">/usr/bin/</code> directory and the <code class="literal">/bin/</code> directory is sym-linked to the <code class="literal">/usr/bin/</code> directory. In other words, although the path for <code class="literal command">firewall-cmd</code> when entered as <code class="literal">root</code> might resolve to <code class="literal command">/bin/firewall-cmd</code>, <code class="literal command">/usr/bin/firewall-cmd</code> can now be used. All new scripts should use the new location. But be aware that if scripts that run as <code class="literal">root</code> are written to use the <code class="literal command">/bin/firewall-cmd</code> path, then that command path must be whitelisted in addition to the <code class="literal command">/usr/bin/firewall-cmd</code> path traditionally used only for non-<code class="literal">root</code> users.
				</p><p>
					The <code class="literal">*</code> at the end of the name attribute of a command means that all commands that start with this string match. If the <code class="literal">*</code> is not there then the absolute command including arguments must match.
				</p></section></section><section class="section" id="log-for-denied-packets_using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.17. Log for denied packets</h2></div></div></div><p>
				With the <code class="literal option">LogDenied</code> option in the <code class="literal">firewalld</code>, it is possible to add a simple logging mechanism for denied packets. These are the packets that are rejected or dropped. To change the setting of the logging, edit the <code class="literal">/etc/firewalld/firewalld.conf</code> file or use the command-line or GUI configuration tool.
			</p><p>
				If <code class="literal option">LogDenied</code> is enabled, logging rules are added right before the reject and drop rules in the INPUT, FORWARD and OUTPUT chains for the default rules and also the final reject and drop rules in zones. The possible values for this setting are: <code class="literal">all</code>, <code class="literal">unicast</code>, <code class="literal">broadcast</code>, <code class="literal">multicast</code>, and <code class="literal">off</code>. The default setting is <code class="literal">off</code>. With the <code class="literal">unicast</code>, <code class="literal">broadcast</code>, and <code class="literal">multicast</code> setting, the <code class="literal">pkttype</code> match is used to match the link-layer packet type. With <code class="literal">all</code>, all packets are logged.
			</p><p>
				To list the actual <code class="literal option">LogDenied</code> setting with firewall-cmd, use the following command as <code class="literal">root</code>:
			</p><pre class="screen"># firewall-cmd --get-log-denied
off</pre><p>
				To change the <code class="literal option">LogDenied</code> setting, use the following command as <code class="literal">root</code>:
			</p><pre class="screen"># firewall-cmd --set-log-denied=all
success</pre><p>
				To change the <code class="literal option">LogDenied</code> setting with the <code class="literal">firewalld</code> GUI configuration tool, start <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span>, click the <code class="literal">Options</code> menu and select <code class="literal">Change Log Denied</code>. The <code class="literal option">LogDenied</code> window appears. Select the new <code class="literal option">LogDenied</code> setting from the menu and click OK.
			</p></section><section class="section" id="related-information-using-and-configuring-firewalls"><div class="titlepage"><div><div><h2 class="title">31.18. Related information</h2></div></div></div><p>
				The following sources of information provide additional resources regarding <code class="literal">firewalld</code>.
			</p><h4 id="installed_documentation">Installed documentation</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">firewalld(1)</code> man page — describes command options for <code class="literal">firewalld</code>.
					</li><li class="listitem">
						<code class="literal">firewalld.conf(5)</code> man page — contains information to configure <code class="literal">firewalld</code>.
					</li><li class="listitem">
						<code class="literal">firewall-cmd(1)</code> man page — describes command options for the <code class="literal">firewalld</code> command-line client.
					</li><li class="listitem">
						<code class="literal">firewall-config(1)</code> man page — describes settings for the <span class="strong strong"><strong><span class="application application">firewall-config</span></strong></span> tool.
					</li><li class="listitem">
						<code class="literal">firewall-offline-cmd(1)</code> man page — describes command options for the <code class="literal">firewalld</code> offline command-line client.
					</li><li class="listitem">
						<code class="literal">firewalld.icmptype(5)</code> man page — describes XML configuration files for <code class="literal">ICMP</code> filtering.
					</li><li class="listitem">
						<code class="literal">firewalld.ipset(5)</code> man page — describes XML configuration files for the <code class="literal">firewalld</code> <code class="literal">IP</code> sets.
					</li><li class="listitem">
						<code class="literal">firewalld.service(5)</code> man page — describes XML configuration files for <span class="strong strong"><strong><span class="application application">firewalld service</span></strong></span>.
					</li><li class="listitem">
						<code class="literal">firewalld.zone(5)</code> man page — describes XML configuration files for <code class="literal">firewalld</code> zone configuration.
					</li><li class="listitem">
						<code class="literal">firewalld.direct(5)</code> man page — describes the <code class="literal">firewalld</code> direct interface configuration file.
					</li><li class="listitem">
						<code class="literal">firewalld.lockdown-whitelist(5)</code> man page — describes the <code class="literal">firewalld</code> lockdown whitelist configuration file.
					</li><li class="listitem">
						<code class="literal">firewalld.richlanguage(5)</code> man page — describes the <code class="literal">firewalld</code> rich language rule syntax.
					</li><li class="listitem">
						<code class="literal">firewalld.zones(5)</code> man page — general description of what zones are and how to configure them.
					</li><li class="listitem">
						<code class="literal">firewalld.dbus(5)</code> man page — describes the <code class="literal">D-Bus</code> interface of <code class="literal">firewalld</code>.
					</li></ul></div><h4 id="online_documentation">Online documentation</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="http://www.firewalld.org/">http://www.firewalld.org/</a> — <code class="literal">firewalld</code> home page.
					</li></ul></div></section></section><section class="chapter" id="getting-started-with-nftables_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 32. Getting started with nftables</h1></div></div></div><p>
			The <code class="literal">nftables</code> framework enables administrators to configure packet-filtering rules used by the Linux kernel firewall.
		</p><section class="section" id="introduction-to-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.1. Introduction to nftables</h2></div></div></div><p>
				The <code class="literal">nftables</code> framework provides packet classification facilities and it is the designated successor to the <code class="literal">iptables</code>, <code class="literal">ip6tables</code>, <code class="literal">arptables</code>, and <code class="literal">ebtables</code> tools. It offers numerous improvements in convenience, features, and performance over previous packet-filtering tools, most notably:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						lookup tables instead of linear processing
					</li><li class="listitem">
						a single framework for both the <code class="literal">IPv4</code> and <code class="literal">IPv6</code> protocols
					</li><li class="listitem">
						rules all applied atomically instead of fetching, updating, and storing a complete rule set
					</li><li class="listitem">
						support for debugging and tracing in the rule set (<code class="literal">nftrace</code>) and monitoring trace events (in the <code class="literal">nft</code> tool)
					</li><li class="listitem">
						more consistent and compact syntax, no protocol-specific extensions
					</li><li class="listitem">
						a Netlink API for third-party applications
					</li></ul></div><p>
				Similarly to <code class="literal">iptables</code>, <code class="literal">nftables</code> use tables for storing chains. The chains contain individual rules for performing actions. The <code class="literal">nft</code> tool replaces all tools from the previous packet-filtering frameworks. The <code class="literal">libnftnl</code> library can be used for low-level interaction with <code class="literal">nftables</code> Netlink API over the <code class="literal">libmnl</code> library.
			</p><p>
				Effect of the modules on the <code class="literal">nftables</code> rules set can be observed using the <code class="literal">nft</code> list rule set command. Since these tools add tables, chains, rules, sets, and other objects to the <code class="literal">nftables</code> rule set, be aware that <code class="literal">nftables</code> rule-set operations, such as the <code class="literal">nft flush ruleset</code> command, might affect rule sets installed using the formerly separate legacy commands.
			</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">nft(8)</code> man page provides a comprehensive reference documentation for configuring and inspecting packet filtering with nftables using the <code class="literal">nft</code> command-line tool.
					</li></ul></div></section><section class="section" id="when-to-use-firewalld-nftables-or-iptables_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.2. When to use firewalld, nftables, or iptables</h2></div></div></div><p>
				The following is a brief overview in which scenario you should use one of the following utilities:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal systemitem">firewalld</code>: Use the <code class="literal systemitem">firewalld</code> utility to configure a firewall on workstations. The utility is easy to use and covers the typical use cases for this scenario.
					</li><li class="listitem">
						<code class="literal systemitem">nftables</code>: Use the <code class="literal systemitem">nftables</code> utility to set up complex firewalls, such as for a whole network.
					</li><li class="listitem">
						<code class="literal systemitem">iptables</code>: The <code class="literal systemitem">iptables</code> utility is deprecated in Red Hat Enterprise Linux 8. Use instead <code class="literal systemitem">nftables</code>.
					</li></ul></div></section><section class="section" id="converting-iptables-rules-to-nftables-rules_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.3. Converting iptables rules to nftables rules</h2></div></div></div><p>
				Red Hat Enterprise Linux 8 provides the <code class="literal">iptables-translate</code> and <code class="literal">ip6tables-translate</code> tools to convert existing <code class="literal">iptables</code> or <code class="literal">ip6tables</code> rules into the equivalent ones for <code class="literal">nftables</code>.
			</p><p>
				Note that some extensions lack translation support. If such an extension exists, the tool prints the untranslated rule prefixed with the <code class="literal">#</code> sign. For example:
			</p><pre class="screen"># iptables-translate -A INPUT -j CHECKSUM --checksum-fill
nft # -A INPUT -j CHECKSUM --checksum-fill</pre><p>
				Additionally, users can use the <code class="literal">iptables-restore-translate</code> and <code class="literal">ip6tables-restore-translate</code> tools to translate a dump of rules. Note that before that, users can use the <code class="literal">iptables-save</code> or <code class="literal">ip6tables-save</code> commands to print a dump of current rules. For example:
			</p><pre class="screen"># iptables-save &gt;/tmp/iptables.dump
# iptables-restore-translate -f /tmp/iptables.dump

# Translated by iptables-restore-translate v1.8.0 on Wed Oct 17 17:00:13 2018
add table ip nat
...</pre><p>
				For more information and a list of possible options and values, enter the <code class="literal command">iptables-translate --help</code> command.
			</p></section><section class="section" id="writing-and-executing-nftables-scripts_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.4. Writing and executing nftables scripts</h2></div></div></div><p>
				The <code class="literal systemitem">nftables</code> framework provides a native scripting environment that brings a major benefit over using shell scripts to maintain firewall rules: the execution of scripts is atomic. This means that the system either applies the whole script or prevents the execution if an error occurs. This guarantees that the firewall is always in a consistent state.
			</p><p>
				Additionally, the <code class="literal systemitem">nftables</code> script environment enables administrators to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						add comments
					</li><li class="listitem">
						define variables
					</li><li class="listitem">
						include other rule set files
					</li></ul></div><p>
				This section explains how to use these features, as well as creating and executing <code class="literal systemitem">nftables</code> scripts.
			</p><p>
				When you install the <code class="literal package">nftables</code> package, Red Hat Enterprise Linux automatically creates <code class="literal filename">*.nft</code> scripts in the <code class="literal filename">/etc/nftables/</code> directory. These scripts contain commands that create tables and empty chains for different purposes. You can either extend these files or write your scripts.
			</p><section class="section" id="the-required-script-header-in-nftables-script_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.1. The required script header in nftables script</h3></div></div></div><p>
					Similar to other scripts, <code class="literal systemitem">nftables</code> scripts require a shebang sequence in the first line of the script that sets the interpreter directive.
				</p><p>
					An <code class="literal systemitem">nftables</code> script must always start with the following line:
				</p><pre class="literallayout">#!/usr/sbin/nft -f</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If you omit the <code class="literal parameter">-f</code> parameter, the <code class="literal command">nft</code> utility does not read the script and displays <code class="literal command">Error: syntax error, unexpected newline, expecting string</code>.
					</p></div></div></section><section class="section" id="supported-nftables-script-formats_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.2. Supported nftables script formats</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> scripting environment supports scripts in the following formats:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You can write a script in the same format as the <code class="literal command">nft list ruleset</code> command displays the rule set:
						</p><pre class="literallayout">#!/usr/sbin/nft -f

# Flush the rule set
flush ruleset

table inet example_table {
  chain example_chain {
    # Chain for incoming packets that drops all packets that
    # are not explicitly allowed by any rule in this chain
    type filter hook input priority 0; policy drop;

    # Accept connections to port 22 (ssh)
    tcp dport ssh accept
  }
}</pre></li><li class="listitem"><p class="simpara">
							You can use the same syntax for commands as in <code class="literal command">nft</code> commands:
						</p><pre class="literallayout">#!/usr/sbin/nft -f

# Flush the rule set
flush ruleset

# Create a table
add table inet example_table

# Create a chain for incoming packets that drops all packets
# that are not explicitly allowed by any rule in this chain
add chain inet example_table example_chain { type filter hook input priority 0 ; policy drop ; }

# Add a rule that accepts connections to port 22 (ssh)
add rule inet example_table example_chain tcp dport ssh accept</pre></li></ul></div></section><section class="section" id="running-nftables-scripts_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.3. Running nftables scripts</h3></div></div></div><p>
					To run an <code class="literal systemitem">nftables</code> script, the script must be executable. Only if the script is included in another script, it does not require to be executable. The procedure describes how to make a script executable and run the script.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The procedure of this section assumes that you stored an <code class="literal systemitem">nftables</code> script in the <code class="literal filename">/etc/nftables/example_firewall.nft</code> file.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Steps that are required only once:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Optionally, set the owner of the script to <code class="literal systemitem">root</code>:
								</p><pre class="literallayout"># chown root <span class="emphasis"><em>/etc/nftables/example_firewall.nft</em></span></pre></li><li class="listitem"><p class="simpara">
									Make the script executable for the owner:
								</p><pre class="literallayout"># chmod u+x <span class="emphasis"><em>/etc/nftables/example_firewall.nft</em></span></pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Run the script:
						</p><pre class="literallayout"># <span class="emphasis"><em>/etc/nftables/example_firewall.nft</em></span></pre><p class="simpara">
							If no output is displayed, the system executed the script successfully.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Even if <code class="literal systemitem">nft</code> executes the script successfully, incorrectly placed rules, missing parameters, or other problems in the script can cause that the firewall behaves not as expected.
							</p></div></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For details about setting the owner of a file, see the <code class="literal citetitle">chown(1)</code> man page.
						</li><li class="listitem">
							For details about setting permissions of a file, see the <code class="literal citetitle">chmod(1)</code> man page.
						</li><li class="listitem">
							<a class="xref" href="index.html#automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts" title="32.4.7. Automatically loading nftables rules when the system boots">Section 32.4.7, “Automatically loading nftables rules when the system boots”</a>
						</li></ul></div></section><section class="section" id="using-comments-in-nftables-scripts_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.4. Using comments in nftables scripts</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> scripting environment interprets everything to the right of a <code class="literal command">#</code> character as a comment.
				</p><div class="example" id="idm139885359243296"><p class="title"><strong>Example 32.1. Comments in an nftables script</strong></p><div class="example-contents"><p>
						Comments can start at the beginning of a line, as well as next to a command:
					</p><pre class="literallayout">...
# Flush the rule set
flush ruleset

add table inet example_table  # Create a table
...</pre></div></div></section><section class="section" id="using-variables-in-an-nftables-script_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.5. Using variables in an nftables script</h3></div></div></div><p>
					To define a variable in an <code class="literal systemitem">nftables</code> script, use the <code class="literal command">define</code> keyword. You can store single values and anonymous sets in a variable. For more complex scenarios, use sets or verdict maps.
				</p><h5 id="variables_with_a_single_value">Variables with a single value</h5><p>
					The following example defines a variable named <code class="literal parameter">INET_DEV</code> with the value <code class="literal command">enp1s0</code>:
				</p><pre class="literallayout">define INET_DEV = <span class="emphasis"><em>enp1s0</em></span></pre><p>
					You can use the variable in the script by writing the <code class="literal command">$</code> sign followed by the variable name:
				</p><pre class="literallayout">...
add rule inet example_table example_chain iifname <span class="strong strong"><strong>$INET_DEV</strong></span> tcp dport ssh accept
...</pre><h5 id="variables_that_contain_an_anonymous_set">Variables that contain an anonymous set</h5><p>
					The following example defines a variable that contains an anonymous set:
				</p><pre class="literallayout">define DNS_SERVERS = { <span class="emphasis"><em>192.0.2.1</em></span>, <span class="emphasis"><em>192.0.2.2</em></span> }</pre><p>
					You can use the variable in the script by writing the <code class="literal command">$</code> sign followed by the variable name:
				</p><pre class="literallayout">add rule inet example_table example_chain ip daddr <span class="strong strong"><strong>$DNS_SERVERS</strong></span> accept</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Note that curly braces have special semantics when you use them in a rule because they indicate that the variable represents a set.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For details about sets, see <a class="xref" href="index.html#using-sets-in-nftables-commands_getting-started-with-nftables" title="32.11. Using sets in nftables commands">Section 32.11, “Using sets in nftables commands”</a>.
						</li><li class="listitem">
							For details about verdict maps, see <a class="xref" href="index.html#using-verdict-maps-in-nftables-commands_getting-started-with-nftables" title="32.12. Using verdict maps in nftables commands">Section 32.12, “Using verdict maps in nftables commands”</a>.
						</li></ul></div></section><section class="section" id="including-files-in-an-nftables-script_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.6. Including files in an nftables script</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> scripting environment enables administrators to include other scripts by using the <code class="literal command">include</code> statement.
				</p><p>
					If you specify only a file name without an absolute or relative path, <code class="literal systemitem">nftables</code> includes files from the default search path, which is set to <code class="literal filename">/etc</code> on Red Hat Enterprise Linux.
				</p><div class="example" id="idm139885359211200"><p class="title"><strong>Example 32.2. Including files from the default search directory</strong></p><div class="example-contents"><p>
						To include a file from the default search directory:
					</p><pre class="literallayout">include "example.nft"</pre></div></div><div class="example" id="idm139885359208896"><p class="title"><strong>Example 32.3. Including all *.nft files from a directory</strong></p><div class="example-contents"><p>
						To include all files ending in <code class="literal filename">*.nft</code> that are stored in the <code class="literal filename">/etc/nftables/rulesets/</code> directory:
					</p><pre class="literallayout">include "/etc/nftables/rulesets/*.nft"</pre><p>
						Note that the <code class="literal command">include</code> statement does not match files beginning with a dot.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							For further details, see the <code class="literal citetitle">Include files</code> section in the <code class="literal citetitle">nft(8)</code> man page.
						</li></ul></div></section><section class="section" id="automatically-loading-nftables-rules-when-the-system-boots_writing-and-executing-nftables-scripts"><div class="titlepage"><div><div><h3 class="title">32.4.7. Automatically loading nftables rules when the system boots</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> systemd service loads firewall scripts that are included in the <code class="literal filename">/etc/sysconfig/nftables.conf</code> file. This section explains how to load firewall rules when the system boots.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal systemitem">nftables</code> scripts are stored in the <code class="literal filename">/etc/nftables/</code> directory.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the <code class="literal filename">/etc/sysconfig/nftables.conf</code> file.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If you enhance <code class="literal filename">*.nft</code> scripts created in <code class="literal filename">/etc/nftables/</code> when you installed the <code class="literal package">nftables</code> package, uncomment the <code class="literal command">include</code> statement for these scripts.
								</li><li class="listitem"><p class="simpara">
									If you write scripts from scratch, add <code class="literal command">include</code> statements to include these scripts. For example, to load the <code class="literal filename">/etc/nftables/<span class="emphasis"><em>example</em></span>.nft</code> script when the <code class="literal systemitem">nftables</code> service starts, add:
								</p><pre class="literallayout">include "/etc/nftables/<span class="emphasis"><em>example</em></span>.nft"</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Enable the <code class="literal systemitem">nftables</code> service.
						</p><pre class="literallayout"># systemctl enable nftables</pre></li><li class="listitem"><p class="simpara">
							Optionally, start the <code class="literal systemitem">nftables</code> service to load the firewall rules without rebooting the system:
						</p><pre class="literallayout"># systemctl start nftables</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#supported-nftables-script-formats_writing-and-executing-nftables-scripts" title="32.4.2. Supported nftables script formats">Section 32.4.2, “Supported nftables script formats”</a>
						</li></ul></div></section></section><section class="section" id="displaying-nftables-rule-sets_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.5. Displaying nftables rule sets</h2></div></div></div><p>
				Rule sets of <code class="literal systemitem">nftables</code> contain tables, chains, and rules. This section explains how to display these rule sets.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To display all rule sets, enter:
					</p><pre class="literallayout"># nft list ruleset
table inet <span class="emphasis"><em>example_table</em></span> {
  chain <span class="emphasis"><em>example_chain</em></span> {
    <span class="emphasis"><em>type filter hook input priority 0; policy accept;</em></span>
    <span class="emphasis"><em>tcp dport http accept</em></span>
    <span class="emphasis"><em>tcp dport ssh accept</em></span>
  }
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							By default, <code class="literal systemitem">nftables</code> does not pre-create tables. As a consequence, displaying the rule set on a host without any tables, the <code class="literal command">nft list ruleset</code> command shows no output.
						</p></div></div></li></ol></div></section><section class="section" id="creating-an-nftables-table_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.6. Creating an nftables table</h2></div></div></div><p>
				A table in <code class="literal systemitem">nftables</code> is a name space that contains a collection of chains, rules, sets, and other objects. This section explains how to create a table.
			</p><p>
				Each table must have an address family defined. The address family of a table defines what address types the table processes. You can set one of the following address families when you create a table:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal command">ip</code>: Matches only IPv4 packets. This is the default if you do not specify an address family.
					</li><li class="listitem">
						<code class="literal command">ip6</code>: Matches only IPv6 packets.
					</li><li class="listitem">
						<code class="literal command">inet</code>: Matches both IPv4 and IPv6 packets.
					</li><li class="listitem">
						<code class="literal command">arp</code>: Matches IPv4 address resolution protocol (ARP) packets.
					</li><li class="listitem">
						<code class="literal command">bridge</code>: Matches packets that traverse a bridge device.
					</li><li class="listitem">
						<code class="literal command">netdev</code>: Matches packets from ingress.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal command">nft add table</code> command to create a new table. For example, to create a table named <code class="literal command">example_table</code> that processes IPv4 and IPv6 packets:
					</p><pre class="literallayout"># nft add table inet example_table</pre></li><li class="listitem"><p class="simpara">
						Optionally, list all tables in the rule set:
					</p><pre class="literallayout"># nft list tables
table inet example_table</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about address families, see the <code class="literal citetitle">Address families</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li><li class="listitem">
						For details on other actions you can run on tables, see the <code class="literal citetitle">Tables</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li></ul></div></section><section class="section" id="creating-an-nftables-chain_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.7. Creating an nftables chain</h2></div></div></div><p>
				Chains are containers for rules. The following two rule types exists:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Base chain: You can use base chains as an entry point for packets from the networking stack.
					</li><li class="listitem">
						Regular chain: You can use regular chains as a <code class="literal command">jump</code> target and to better organize rules.
					</li></ul></div><p>
				The procedure describes how to add a base chain to an existing table.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The table to which you want to add the new chain exists.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal command">nft add chain</code> command to create a new chain. For example, to create a chain named <code class="literal command">example_chain</code> in <code class="literal command">example_table</code>:
					</p><pre class="literallayout"># nft add chain inet <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> { type <span class="emphasis"><em>filter</em></span> hook <span class="emphasis"><em>input</em></span> priority <span class="emphasis"><em>0</em></span> \; policy accept \; }</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							To avoid that the shell interprets the semicolons as the end of the command, you must escape the semicolons with a backslash.
						</p></div></div><p class="simpara">
						This chain filters incoming packets. The <code class="literal parameter">priority</code> parameter specifies the order in which <code class="literal systemitem">nftables</code> processes chains with the same hook value. A lower priority value has precedence over higher ones. The <code class="literal parameter">policy</code> parameter sets the default action for rules in this chain. Note that if you are logged in to the server remotely and you set the default policy to <code class="literal command">drop</code>, you are disconnected immediately if no other rule allows the remote access.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, display all chains:
					</p><pre class="literallayout"># nft list chains
table inet example_table {
  chain example_chain {
    type filter hook input priority 0; policy accept;
  }
}</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about address families, see the <code class="literal citetitle">Address families</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li><li class="listitem">
						For details on other actions you can run on chains, see the <code class="literal citetitle">Chains</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li></ul></div></section><section class="section" id="adding-a-rule-to-an-nftables-chain_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.8. Adding a rule to an nftables chain</h2></div></div></div><p>
				This section explains how to add a rule to an existing <code class="literal systemitem">nftables</code> chain. By default, the <code class="literal command">nftables add rule</code> command appends a new rule to the end of the chain.
			</p><p>
				If you instead want to insert a rule at the beginning of chain, see <a class="xref" href="index.html#inserting-a-rule-into-an-nftables-chain_getting-started-with-nftables" title="32.9. Inserting a rule into an nftables chain">Section 32.9, “Inserting a rule into an nftables chain”</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The chain to which you want to add the rule exists.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To add a new rule, use the <code class="literal command">nft add rule</code> command. For example, to add a rule to the <code class="literal systemitem">example_chain</code> in the <code class="literal systemitem">example_table</code> that allows TCP traffic on port 22:
					</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> <span class="emphasis"><em>accept</em></span></pre><p class="simpara">
						Instead of the port number, you can alternatively specify the name of the service. In the example, you could use <code class="literal command">ssh</code> instead of the port number <code class="literal command">22</code>. Note that a service name is resolved to a port number based on its entry in the <code class="literal filename">/etc/services</code> file.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, display all chains and their rules in <code class="literal systemitem">example_table</code>:
					</p><pre class="literallayout"># nft list table inet example_table
table inet example_table {
  chain example_chain {
    type filter hook input priority 0; policy accept;
    ...
    tcp dport ssh accept
  }
}</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about address families, see the <code class="literal citetitle">Address families</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li><li class="listitem">
						For details on other actions you can run on rules, see the <code class="literal citetitle">Rules</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li></ul></div></section><section class="section" id="inserting-a-rule-into-an-nftables-chain_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.9. Inserting a rule into an nftables chain</h2></div></div></div><p>
				This section explains how to insert a rule at the beginning of an existing <code class="literal systemitem">nftables</code> chain using the <code class="literal command">nftables insert rule</code> command. If you instead want to add a rule to the end of a chain, see <a class="xref" href="index.html#adding-a-rule-to-an-nftables-chain_getting-started-with-nftables" title="32.8. Adding a rule to an nftables chain">Section 32.8, “Adding a rule to an nftables chain”</a>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The chain to which you want to add the rule exists.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To insert a new rule, use the <code class="literal command">nft insert rule</code> command. For example, to insert a rule to the <code class="literal systemitem">example_chain</code> in the <code class="literal systemitem">example_table</code> that allows TCP traffic on port 22:
					</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> <span class="emphasis"><em>accept</em></span></pre><p class="simpara">
						You can alternatively specify the name of the service instead of the port number. In the example, you could use <code class="literal command">ssh</code> instead of the port number <code class="literal command">22</code>. Note that a service name is resolved to a port number based on its entry in the <code class="literal filename">/etc/services</code> file.
					</p></li><li class="listitem"><p class="simpara">
						Optionally, display all chains and their rules in <code class="literal systemitem">example_table</code>:
					</p><pre class="literallayout"># nft list table inet example_table
table inet example_table {
  chain example_chain {
    type filter hook input priority 0; policy accept;
    tcp dport ssh accept
    ...
  }
}</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						For further details about address families, see the <code class="literal citetitle">Address families</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li><li class="listitem">
						For details on other actions you can run on rules, see the <code class="literal citetitle">Rules</code> section in the <code class="literal citetitle">nft(8)</code> man page.
					</li></ul></div></section><section class="section" id="configuring-nat-using-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.10. Configuring NAT using nftables</h2></div></div></div><p>
				With <code class="literal systemitem">nftables</code>, you can configure the following network address translation (NAT) types:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Masquerading
					</li><li class="listitem">
						Source NAT (SNAT)
					</li><li class="listitem">
						Destination NAT (DNAT)
					</li></ul></div><section class="section" id="the-different-nat-types-masquerading-source-nat-and-destination-nat_configuring-nat-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.10.1. The different NAT types: masquerading, source NAT, and destination NAT</h3></div></div></div><p>
					These are the different network address translation (NAT) types:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Masquerading and source NAT (SNAT)</span></dt><dd><p class="simpara">
								Use one of these NAT types to change the source IP address of packets. For example, internet providers do not route reserved IP ranges, such as <code class="literal systemitem">10.0.0.0/8</code>. If you use reserved IP ranges in your network and users should be able to reach servers on the internet, map the source IP address of packets from these ranges to a public IP address.
							</p><p class="simpara">
								Both masquerading and SNAT are very similar. The differences are:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Masquerading automatically uses the IP address of the outgoing interface. Therefore, use masquerading if the outgoing interface uses a dynamic IP address.
									</li><li class="listitem">
										SNAT sets the source IP address of packets to a specified IP and does not dynamically look up the IP of the outgoing interface. Therefore, SNAT is faster than masquerading. Use SNAT if the outgoing interface uses a fixed IP address.
									</li></ul></div></dd><dt><span class="term">Destination NAT (DNAT)</span></dt><dd>
								Use this NAT type to route incoming traffic to a different host. For example, if your web server uses an IP address from a reserved IP range and is, therefore, not directly accessible from the internet, you can set a DNAT rule on the router to redirect incoming traffic to this server.
							</dd></dl></div></section><section class="section" id="configuring-masquerading-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.10.2. Configuring masquerading using nftables</h3></div></div></div><p>
					Masquerading enables a router to dynamically change the source IP of packets sent through an interface to the IP address of the interface. This means that if the interface gets a new IP assigned, <code class="literal systemitem">nftables</code> automatically uses the new IP when replacing the source IP.
				</p><p>
					The following procedure describes how to replace the source IP of packets leaving the host through the <code class="literal systemitem">ens3</code> interface to the IP set on <code class="literal systemitem">ens3</code>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># nft add table nat</pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal systemitem">prerouting</code> and <code class="literal systemitem">postrouting</code> chains to the table:
						</p><pre class="literallayout"># nft -- add chain nat prerouting { type nat hook prerouting priority -100 \; }
# nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal systemitem">prerouting</code> chain, the <code class="literal systemitem">nftables</code> framework requires this chain to match incoming packet replies.
							</p></div></div><p class="simpara">
							Note that you must pass the <code class="literal option">--</code> option to the <code class="literal command">nft</code> command to avoid that the shell interprets the negative priority value as an option of the <code class="literal command">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">postrouting</code> chain that matches outgoing packets on the <code class="literal systemitem">ens3</code> interface:
						</p><pre class="literallayout"># nft add rule nat postrouting oifname "<span class="emphasis"><em>ens3</em></span>" masquerade</pre></li></ol></div></section><section class="section" id="configuring-source-nat-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.10.3. Configuring source NAT using nftables</h3></div></div></div><p>
					On a router, Source NAT (SNAT) enables you to change the IP of packets sent through an interface to a specific IP address.
				</p><p>
					The following procedure describes how to replace the source IP of packets leaving the router through the <code class="literal systemitem">ens3</code> interface to <code class="literal systemitem">192.0.2.1</code>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># nft add table nat</pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal systemitem">prerouting</code> and <code class="literal systemitem">postrouting</code> chains to the table:
						</p><pre class="literallayout"># nft -- add chain nat prerouting { type nat hook prerouting priority -100 \; }
# nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal systemitem">postrouting</code> chain, the <code class="literal systemitem">nftables</code> framework requires this chain to match outgoing packet replies.
							</p></div></div><p class="simpara">
							Note that you must pass the <code class="literal option">--</code> option to the <code class="literal command">nft</code> command to avoid that the shell interprets the negative priority value as an option of the <code class="literal command">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">postrouting</code> chain that replaces the source IP of outgoing packets through <code class="literal systemitem">ens3</code> with <code class="literal systemitem">192.0.2.1</code>:
						</p><pre class="literallayout"># nft add rule nat postrouting oifname "<span class="emphasis"><em>ens3</em></span>" snat to <span class="emphasis"><em>192.0.2.1</em></span></pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables" title="32.13.2. Forwarding incoming packets on a specific local port to a different host">Section 32.13.2, “Forwarding incoming packets on a specific local port to a different host”</a>
						</li></ul></div></section><section class="section" id="configuring-destination-nat-using-nftables_configuring-nat-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.10.4. Configuring destination NAT using nftables</h3></div></div></div><p>
					Destination NAT enables you to redirect traffic on a router to a host that is not directly accessible from the internet.
				</p><p>
					The following procedure describes how to redirect incoming traffic sent to port <code class="literal systemitem">80</code> and <code class="literal systemitem">443</code> of the router to the host with the <code class="literal systemitem">192.0.2.1</code> IP address.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table:
						</p><pre class="literallayout"># nft add table nat</pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal systemitem">prerouting</code> and <code class="literal systemitem">postrouting</code> chains to the table:
						</p><pre class="literallayout"># nft -- add chain nat prerouting { type nat hook prerouting priority -100 \; }
# nft add chain nat postrouting { type nat hook postrouting priority 100 \; }</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								Even if you do not add a rule to the <code class="literal systemitem">postrouting</code> chain, the <code class="literal systemitem">nftables</code> framework requires this chain to match outgoing packet replies.
							</p></div></div><p class="simpara">
							Note that you must pass the <code class="literal option">--</code> option to the <code class="literal command">nft</code> command to avoid that the shell interprets the negative priority value as an option of the <code class="literal command">nft</code> command.
						</p></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">prerouting</code> chain that redirects incoming traffic on the <code class="literal systemitem">ens3</code> interface sent to port <code class="literal systemitem">80</code> and <code class="literal systemitem">443</code> to the host with the <code class="literal systemitem">192.0.2.1</code> IP:
						</p><pre class="literallayout"># nft add rule nat prerouting iifname <span class="emphasis"><em>ens3</em></span> tcp dport { 80, 443 } dnat to 192.0.2.1</pre></li><li class="listitem"><p class="simpara">
							Depending on your environment, add either a SNAT or masquerading rule to change the source address:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									If the <code class="literal systemitem">ens3</code> interface used dynamic IP addresses, add a masquerading rule:
								</p><pre class="literallayout"># nft add rule nat postrouting oifname "ens3" masquerade</pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal systemitem">ens3</code> interface uses a static IP address, add a SNAT rule. For example, if the <code class="literal systemitem">ens3</code> uses the <code class="literal systemitem">198.51.100.1</code> IP address:
								</p><pre class="literallayout">nft add rule nat postrouting oifname "ens3" snat to 198.51.100.1</pre></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="xref" href="index.html#the-different-nat-types-masquerading-source-nat-and-destination-nat_configuring-nat-using-nftables" title="32.10.1. The different NAT types: masquerading, source NAT, and destination NAT">Section 32.10.1, “The different NAT types: masquerading, source NAT, and destination NAT”</a>
						</li></ul></div></section></section><section class="section" id="using-sets-in-nftables-commands_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.11. Using sets in nftables commands</h2></div></div></div><p>
				The <code class="literal systemitem">nftables</code> framework natively supports sets. You can use sets, for example, if a rule should match multiple IP addresses, port numbers, interfaces, or any other match criteria.
			</p><section class="section" id="using-anonymous-sets-in-nftables_using-sets-in-nftables-commands"><div class="titlepage"><div><div><h3 class="title">32.11.1. Using an anonymous sets in nftables</h3></div></div></div><p>
					An anonymous set contain comma-separated values enclosed in curly brackets, such as <code class="literal command">{ 22, 80, 443 }</code>, that you use directly in a rule. You can also use anonymous sets also for IP addresses or any other match criteria.
				</p><p>
					The drawback of anonymous sets is that if you want to change the set, you must replace the rule. For a dynamic solution, use named sets as described in <a class="xref" href="index.html#using-named-sets-in-nftables_using-sets-in-nftables-commands" title="32.11.2. Using named sets in nftables">Section 32.11.2, “Using named sets in nftables”</a>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal systemitem">example_chain</code> chain and the <code class="literal systemitem">example_table</code> table in the <code class="literal systemitem">inet</code> family exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							For example, to add a rule to <code class="literal systemitem">example_chain</code> in <code class="literal systemitem">example_table</code> that allows incoming traffic to port <code class="literal command">22</code>, <code class="literal command">80</code>, and <code class="literal command">443</code>:
						</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> tcp dport { 22, 80, 443 } accept</pre></li><li class="listitem"><p class="simpara">
							Optionally, display all chains and their rules in <code class="literal systemitem">example_table</code>:
						</p><pre class="literallayout"># nft list table inet example_table
table inet example_table {
  chain example_chain {
    type filter hook input priority 0; policy accept;
    tcp dport { ssh, http, https } accept
  }
}</pre></li></ol></div></section><section class="section" id="using-named-sets-in-nftables_using-sets-in-nftables-commands"><div class="titlepage"><div><div><h3 class="title">32.11.2. Using named sets in nftables</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> framework supports mutable named sets. A named set is a list or range of elements that you can use in multiple rules within a table. Another benefit over anonymous sets is that you can update a named set without replacing the rules that use the set.
				</p><p>
					When you create a named set, you must specify the type of elements the set contains. You can set the following types:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal command">ipv4_addr</code> for a set that contains IPv4 addresses or ranges, such as <code class="literal command">192.0.2.1</code> or <code class="literal command">192.0.2.0/24</code>.
						</li><li class="listitem">
							<code class="literal command">ipv6_addr</code> for a set that contains IPv6 addresses or ranges, such as <code class="literal command">2001:db8::1</code> or <code class="literal command">2001:db8::1/24</code>.
						</li><li class="listitem">
							<code class="literal command">ether_addr</code> for a set that contains a list of media access control (MAC) addresses, such as <code class="literal command">52:54:00:6b:66:42</code>.
						</li><li class="listitem">
							<code class="literal command">inet_proto</code> for a set that contains a list of internet protocol types, such as <code class="literal command">tcp</code>.
						</li><li class="listitem">
							<code class="literal command">inet_service</code> for a set that contains a list of internet services, such as <code class="literal command">ssh</code>.
						</li><li class="listitem">
							<code class="literal command">mark</code> for a set that contains a list of packet marks. Packet marks can be any positive 32-bit integer value (<code class="literal command">0</code> to <code class="literal command">2147483647</code>].
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal systemitem">example_chain</code> chain and the <code class="literal systemitem">example_table</code> table exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create an empty set. The following examples create a set for IPv4 addresses:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To create a set that can store multiple individual IPv4 addresses:
								</p><pre class="literallayout"># nft add set <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { type ipv4_addr \; }</pre></li><li class="listitem"><p class="simpara">
									To create a set that can store IPv4 address ranges:
								</p><pre class="literallayout"># nft add set <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { type ipv4_addr \; flags interval \; }</pre></li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								To avoid that the shell interprets the semicolons as the end of the command, you must escape the semicolons with a backslash.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Optionally, create rules that use the set. For example, the following command adds a rule to the <code class="literal systemitem">example_chain</code> in the <code class="literal systemitem">example_table</code> that will drop all packets from IPv4 addresses in <code class="literal systemitem">example_set</code>.
						</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> ip saddr @<span class="emphasis"><em>example_set</em></span> drop</pre><p class="simpara">
							Because <code class="literal systemitem">example_set</code> is still empty, the rule has currently no effect.
						</p></li><li class="listitem"><p class="simpara">
							Add IPv4 addresses to <code class="literal systemitem">example_set</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If you create a set that stores individual IPv4 addresses, enter:
								</p><pre class="literallayout"># nft add element <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { <span class="emphasis"><em>192.0.2.1, 192.0.2.2</em></span> }</pre></li><li class="listitem"><p class="simpara">
									If you create a set that stores IPv4 ranges, enter:
								</p><pre class="literallayout"># nft add element <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_set</em></span> { <span class="emphasis"><em>192.0.2.0-192.0.2.255</em></span> }</pre><p class="simpara">
									When you specify an IP address range, you can alternatively use the Classless Inter-Domain Routing (CIDR) notation, such as <code class="literal command">192.0.2.0/24</code> in the above example.
								</p></li></ul></div></li></ol></div></section><section class="section" id="related_information_3"><div class="titlepage"><div><div><h3 class="title">32.11.3. Related information</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For further details about sets, see the <code class="literal citetitle">Sets</code> section in the <code class="literal citetitle">nft(8)</code> man page.
						</li></ul></div></section></section><section class="section" id="using-verdict-maps-in-nftables-commands_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.12. Using verdict maps in nftables commands</h2></div></div></div><p>
				Verdict maps, which are also known as dictionaries, enable <code class="literal systemitem">nft</code> to perform an action based on packet information by mapping match criteria to an action.
			</p><section class="section" id="using-literal-maps-in-nftables_using-verdict-maps-in-nftables-commands"><div class="titlepage"><div><div><h3 class="title">32.12.1. Using literal maps in nftables</h3></div></div></div><p>
					A literal map is a <code class="literal command">{ <span class="emphasis"><em>match_criteria</em></span> : <span class="emphasis"><em>action</em></span> }</code> statement that you use directly in a rule. The statement can contain multiple comma-separated mappings.
				</p><p>
					The drawback of a literal map is that if you want to change the map, you must replace the rule. For a dynamic solution, use named verdict maps as described in <a class="xref" href="index.html#using-mutable-verdict-maps-in-nftables_using-verdict-maps-in-nftables-commands" title="32.12.2. Using mutable verdict maps in nftables">Section 32.12.2, “Using mutable verdict maps in nftables”</a>.
				</p><p>
					The example describes how to use a literal map to route both TCP and UDP packets of the IPv4 and IPv6 protocol to different chains to count incoming TCP and UDP packets separately.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal systemitem">example_table</code>:
						</p><pre class="literallayout"># nft add table inet example_table</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal systemitem">tcp_packets</code> chain in <code class="literal systemitem">example_table</code>:
						</p><pre class="literallayout"># nft add chain inet example_table tcp_packets</pre></li><li class="listitem"><p class="simpara">
							Add a rule to <code class="literal systemitem">tcp_packets</code> that counts the traffic in this chain:
						</p><pre class="literallayout"># nft add rule inet example_table tcp_packets counter</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal systemitem">udp_packets</code> chain in <code class="literal systemitem">example_table</code>
						</p><pre class="literallayout"># nft add chain inet example_table udp_packets</pre></li><li class="listitem"><p class="simpara">
							Add a rule to <code class="literal systemitem">udp_packets</code> that counts the traffic in this chain:
						</p><pre class="literallayout"># nft add rule inet example_table udp_packets counter</pre></li><li class="listitem"><p class="simpara">
							Create a chain for incoming traffic. For example, to create a chain named <code class="literal systemitem">incoming_traffic</code> in <code class="literal systemitem">example_table</code> that filters incoming traffic:
						</p><pre class="literallayout"># nft add chain inet example_table incoming_traffic { type filter hook input priority 0 \; }</pre></li><li class="listitem"><p class="simpara">
							Add a rule with a literal map to <code class="literal systemitem">incoming_traffic</code>:
						</p><pre class="literallayout"># nft add rule inet example_table incoming_traffic ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }</pre><p class="simpara">
							The literal map distinguishes the packets and sends them to the different counter chains based on their protocol.
						</p></li><li class="listitem"><p class="simpara">
							To list the traffic counters, display <code class="literal systemitem">example_table</code>:
						</p><pre class="literallayout"># nft list table inet example_table
table inet example_table {
  chain tcp_packets {
    <span class="strong strong"><strong>counter packets 36379 bytes 2103816</strong></span>
  }

  chain udp_packets {
    <span class="strong strong"><strong>counter packets 10 bytes 1559</strong></span>
  }

  chain incoming_traffic {
    type filter hook input priority 0; policy accept;
    ip protocol vmap { tcp : jump tcp_packets, udp : jump udp_packets }
  }
}</pre><p class="simpara">
							The counters in the <code class="literal systemitem">tcp_packets</code> and <code class="literal systemitem">udp_packets</code> chain display both the number of received packets and bytes.
						</p></li></ol></div></section><section class="section" id="using-mutable-verdict-maps-in-nftables_using-verdict-maps-in-nftables-commands"><div class="titlepage"><div><div><h3 class="title">32.12.2. Using mutable verdict maps in nftables</h3></div></div></div><p>
					The <code class="literal systemitem">nftables</code> framework supports mutable verdict maps. You can use these maps in multiple rules within a table. Another benefit over literal maps is that you can update a mutable map without replacing the rules that use it.
				</p><p>
					When you create a mutable verdict map, you must specify the type of elements
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal command">ipv4_addr</code> for a map whose match part contains an IPv4 address, such as <code class="literal command">192.0.2.1</code>.
						</li><li class="listitem">
							<code class="literal command">ipv6_addr</code> for a map whose match part contains an IPv6 address, such as <code class="literal command">2001:db8::1</code>.
						</li><li class="listitem">
							<code class="literal command">ether_addr</code> for a map whose match part contains a media access control (MAC) address, such as <code class="literal command">52:54:00:6b:66:42</code>.
						</li><li class="listitem">
							<code class="literal command">inet_proto</code> for a map whose match part contains an internet protocol type, such as <code class="literal command">tcp</code>.
						</li><li class="listitem">
							<code class="literal command">inet_service</code> for a map whose match part contains an internet services name port number, such as <code class="literal command">ssh</code> or <code class="literal command">22</code>.
						</li><li class="listitem">
							<code class="literal command">mark</code> for a map whose match part contains a packet mark. A packet mark can be any positive 32-bit integer value (<code class="literal command">0</code> to <code class="literal command">2147483647</code>.
						</li><li class="listitem">
							<code class="literal command">counter</code> for a map whose match part contains a counter value. The counter value can be any positive 64-bit integer value.
						</li><li class="listitem">
							<code class="literal command">quota</code> for a map whose match part contains a quota value. The quota value can be any positive 64-bit integer value.
						</li></ul></div><p>
					The example describes how to allow or drop incoming packets based on their source IP address. Using a mutable verdict map, you require only a single rule to configure this scenario while the IP addresses and actions are dynamically stored in the map. The procedure also describes how to add and remove entries from the map.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table. For example, to create a table named <code class="literal systemitem">example_table</code> that processes IPv4 packets:
						</p><pre class="literallayout"># nft add table ip example_table</pre></li><li class="listitem"><p class="simpara">
							Create a chain. For example, to create a chain named <code class="literal systemitem">example_chain</code> in <code class="literal systemitem">example_table</code>:
						</p><pre class="literallayout"># nft add chain ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> { type filter hook <span class="emphasis"><em>input</em></span> priority 0 \; }</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								To avoid that the shell interprets the semicolons as the end of the command, you must escape the semicolons with a backslash.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Create an empty map. For example, to create a map for IPv4 addresses:
						</p><pre class="literallayout"># nft add map ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { type ipv4_addr : verdict \; }</pre></li><li class="listitem"><p class="simpara">
							Create rules that use the map. For example, the following command adds a rule to <code class="literal systemitem">example_chain</code> in <code class="literal systemitem">example_table</code> that applies actions to IPv4 addresses which are both defined in <code class="literal systemitem">example_map</code>:
						</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> ip saddr vmap @<span class="emphasis"><em>example_map</em></span></pre></li><li class="listitem"><p class="simpara">
							Add IPv4 addresses and corresponding actions to <code class="literal systemitem">example_map</code>:
						</p><pre class="literallayout"># nft add element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.1 : accept, 192.0.2.2 : drop }</pre><p class="simpara">
							This example defines the mappings of IPv4 addresses to actions. In combination with the rule created above, the firewall accepts packet from <code class="literal systemitem">192.0.2.1</code> and drops packets from <code class="literal systemitem">192.0.2.2</code>.
						</p></li><li class="listitem"><p class="simpara">
							Optionally, enhance the map by adding another IP address and action statement:
						</p><pre class="literallayout"># nft add element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.3 : accept }</pre></li><li class="listitem"><p class="simpara">
							Optionally, remove an entry from the map:
						</p><pre class="literallayout"># nft delete element ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_map</em></span> { 192.0.2.1 }</pre></li><li class="listitem"><p class="simpara">
							Optionally, display the rule set:
						</p><pre class="literallayout"># nft list ruleset
table ip example_table {
  map example_map {
    type ipv4_addr : verdict
    elements = { 192.0.2.2 : drop, 192.0.2.3 : accept }
  }

  chain example_chain {
    type filter hook input priority 0; policy accept;
    ip saddr vmap @example_map
  }
}</pre></li></ol></div></section><section class="section" id="related_information_4"><div class="titlepage"><div><div><h3 class="title">32.12.3. Related information</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For further details about verdict maps, see the <code class="literal citetitle">Maps</code> section in the <code class="literal citetitle">nft(8)</code> man page.
						</li></ul></div></section></section><section class="section" id="configuring-port-forwarding-using-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.13. Configuring port forwarding using nftables</h2></div></div></div><p>
				Port forwarding enables administrators to forward packets sent to a specific destination port to a different local or remote port.
			</p><p>
				For example, if your web server does not have a public IP address, you can set a port forwarding rule on your firewall that forwards incoming packets on port <code class="literal systemitem">80</code> and <code class="literal systemitem">443</code> on the firewall to the web server. With this firewall rule, users on the internet can access the web server using the IP or host name of the firewall.
			</p><section class="section" id="forwarding-incoming-packets-to-a-different-local-port_configuring-port-forwarding-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.13.1. Forwarding incoming packets to a different local port</h3></div></div></div><p>
					This section describes an example of how to forward incoming IPv4 packets on port <code class="literal systemitem">8022</code> to port <code class="literal systemitem">22</code> on the local system.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table named <code class="literal systemitem">nat</code> with the <code class="literal systemitem">ip</code> address family:
						</p><pre class="literallayout"># nft add table ip <span class="emphasis"><em>nat</em></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal systemitem">prerouting</code> and <code class="literal systemitem">postrouting</code> chains to the table:
						</p><pre class="literallayout"># nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \; }</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Pass the <code class="literal option">--</code> option to the <code class="literal command">nft</code> command to avoid that the shell interprets the negative priority value as an option of the <code class="literal command">nft</code> command.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">prerouting</code> chain that redirects incoming packets on port <code class="literal systemitem">8022</code> to the local port <code class="literal systemitem">22</code>:
						</p><pre class="literallayout"># nft add rule ip nat prerouting tcp dport 8022 redirect to :22</pre></li></ol></div></section><section class="section" id="forwarding-incoming-packets-on-a-specific-local-port-to-a-different-host_configuring-port-forwarding-using-nftables"><div class="titlepage"><div><div><h3 class="title">32.13.2. Forwarding incoming packets on a specific local port to a different host</h3></div></div></div><p>
					You can use a destination network address translation (DNAT) rule to forward incoming packets on a local port to a remote host. This enables users on the internet to access a service that runs on a host with a private IP address.
				</p><p>
					The procedure describes how to forward incoming IPv4 packets on the local port <code class="literal systemitem">443</code> to the same port number on the remote system with the <code class="literal systemitem">192.0.2.1</code> IP address.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisite</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You are logged in as the <code class="literal systemitem">root</code> user on the system that should forward the packets.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a table named <code class="literal systemitem">nat</code> with the <code class="literal systemitem">ip</code> address family:
						</p><pre class="literallayout"># nft add table ip <span class="emphasis"><em>nat</em></span></pre></li><li class="listitem"><p class="simpara">
							Add the <code class="literal systemitem">prerouting</code> and <code class="literal systemitem">postrouting</code> chains to the table:
						</p><pre class="literallayout"># nft -- add chain ip nat prerouting { type nat hook prerouting priority -100 \; }
# nft add chain ip nat postrouting { type nat hook postrouting priority 100 \; }</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Pass the <code class="literal option">--</code> option to the <code class="literal command">nft</code> command to avoid that the shell interprets the negative priority value as an option of the <code class="literal command">nft</code> command.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">prerouting</code> chain that redirects incoming packets on port <code class="literal systemitem">443</code> to the same port on <code class="literal systemitem">192.0.2.1</code>:
						</p><pre class="literallayout"># nft add rule ip nat prerouting tcp dport 443 dnat to 192.0.2.1</pre></li><li class="listitem"><p class="simpara">
							Add a rule to the <code class="literal systemitem">postrouting</code> chain to masquerade outgoing traffic:
						</p><pre class="literallayout"># nft add rule ip daddr 192.0.2.1 masquerade</pre></li><li class="listitem"><p class="simpara">
							Enable packet forwarding:
						</p><pre class="literallayout"># echo "sysctl net.ipv4.ip_forward=1" &gt; /etc/sysctl.d/95-IPv4-forwarding.conf
# sysctl -p /etc/sysctl.d/95-IPv4-forwarding.conf</pre></li></ol></div></section></section><section class="section" id="limiting-the-number-of-connections-using-nftables_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.14. Limiting the number of connections using nftables</h2></div></div></div><p>
				The <code class="literal command">ct count</code> parameter of the <code class="literal systemitem">nft</code> utility enables administrators to limit the number of connections. The procedure describes a basic example of how to limit incoming connections.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						The base <code class="literal systemitem">example_chain</code> in <code class="literal systemitem">example_table</code> exists.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add a rule that allows only two simultaneous connections to the SSH port (22) from an IPv4 address and rejects all further connections from the same IP:
					</p><pre class="literallayout"># nft add rule ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> tcp dport ssh meter <span class="emphasis"><em>example_meter</em></span> { ip saddr ct count over 2 } counter reject</pre></li><li class="listitem"><p class="simpara">
						Optionally, display the meter created in the previous step:
					</p><pre class="literallayout"># nft list meter ip <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_meter</em></span>
table ip <span class="emphasis"><em>example_table</em></span> {
  meter <span class="emphasis"><em>example_meter</em></span> {
    type ipv4_addr
    size 65535
    elements = { <span class="strong strong"><strong>192.0.2.1</strong></span> : ct count over 2 , <span class="strong strong"><strong>192.0.2.2</strong></span> : ct count over 2  }
  }
}</pre><p class="simpara">
						The <code class="literal command">elements</code> entry displays addresses that currently match the rule. In this example, <code class="literal command">elements</code> lists IP addresses that have active connections to the SSH port. Note that the output does not display the number of active connections or if connections were rejected.
					</p></li></ol></div></section><section class="section" id="blocking-ip-addresses-that-attempt-more-than-ten-new-incoming-tcp-connections-within-one-minute_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.15. Blocking IP addresses that attempt more than ten new incoming TCP connections within one minute</h2></div></div></div><p>
				The <code class="literal systemitem">nftables</code> framework enables administrators to dynamically update sets. This section explains how you use this feature to temporarily block hosts that are establishing more than ten IPv4 TCP connections within one minute. After five minutes, <code class="literal systemitem">nftables</code> automatically removes the IP address from the blacklist.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the <code class="literal systemitem">filter</code> table with the <code class="literal systemitem">ip</code> address family:
					</p><pre class="literallayout"># nft add table ip <span class="emphasis"><em>filter</em></span></pre></li><li class="listitem"><p class="simpara">
						Add the <code class="literal systemitem">input</code> chain to the <code class="literal systemitem">filter</code> table:
					</p><pre class="literallayout"># nft add chain ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>input</em></span> { type filter hook input priority 0 \; }</pre></li><li class="listitem"><p class="simpara">
						Add a set named <code class="literal systemitem">blacklist</code> to the <code class="literal systemitem">filter</code> table:
					</p><pre class="literallayout"># nft add set ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>blacklist</em></span> { type ipv4_addr \; flags dynamic, timeout \; timeout 5m \; }</pre><p class="simpara">
						This command creates a dynamic set for IPv4 addresses. The <code class="literal parameter">timeout 5m</code> parameter defines that <code class="literal systemitem">nftables</code> automatically removes entries after 5 minutes from the set.
					</p></li><li class="listitem"><p class="simpara">
						Add a rule that automatically adds the source IP address of hosts that attempt to establish more than ten new TCP connections within one minute to the <code class="literal systemitem">blacklist</code> set:
					</p><pre class="literallayout"># nft add rule ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>input</em></span> ip protocol tcp ct state new, untracked limit rate over 10/minute add @<span class="emphasis"><em>blacklist</em></span> { ip saddr }</pre></li><li class="listitem"><p class="simpara">
						Add a rule that drops all connections from IP addresses in the <code class="literal systemitem">blacklist</code> set:
					</p><pre class="literallayout"># nft add rule ip <span class="emphasis"><em>filter</em></span> <span class="emphasis"><em>input</em></span> ip saddr @<span class="emphasis"><em>blacklist</em></span> drop</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="xref" href="index.html#using-named-sets-in-nftables_using-sets-in-nftables-commands" title="32.11.2. Using named sets in nftables">Section 32.11.2, “Using named sets in nftables”</a>
					</li></ul></div></section><section class="section" id="debugging-nftables-rules_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.16. Debugging nftables rules</h2></div></div></div><p>
				The <code class="literal systemitem">nftables</code> framework provides different options for administrators to debug rules and if packets match them. This section describes these options.
			</p><section class="section" id="creating-a-rule-with-a-counter_debugging-nftables-rules"><div class="titlepage"><div><div><h3 class="title">32.16.1. Creating a rule with a counter</h3></div></div></div><p>
					To identify if a rule is matched, you can use a counter. This section describes how to create a new rule with a counter.
				</p><p>
					For a procedure that adds a counter to an existing rule, see <a class="xref" href="index.html#adding-a-counter-to-an-existing-rule_debugging-nftables-rules" title="32.16.2. Adding a counter to an existing rule">Section 32.16.2, “Adding a counter to an existing rule”</a>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The chain to which you want to add the rule exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a new rule with the <code class="literal command">counter</code> parameter to the chain. The following example adds a rule with a counter that allows TCP traffic on port 22 and counts the packets and traffic that match this rule:
						</p><pre class="literallayout"># nft add rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> <span class="strong strong"><strong>counter</strong></span> <span class="emphasis"><em>accept</em></span></pre></li><li class="listitem"><p class="simpara">
							To display the counter values:
						</p><pre class="literallayout"># nft list ruleset
table inet example_table {
  chain example_chain {
    type filter hook input priority 0; policy accept;
    tcp dport ssh <span class="strong strong"><strong>counter packets <span class="emphasis"><em>6872</em></span> bytes <span class="emphasis"><em>105448565</em></span></strong></span> accept
  }
}</pre></li></ol></div></section><section class="section" id="adding-a-counter-to-an-existing-rule_debugging-nftables-rules"><div class="titlepage"><div><div><h3 class="title">32.16.2. Adding a counter to an existing rule</h3></div></div></div><p>
					To identify if a rule is matched, you can use a counter. This section describes how to add a counter to an existing rule.
				</p><p>
					For a procedure to add a new rule with a counter, see <a class="xref" href="index.html#creating-a-rule-with-a-counter_debugging-nftables-rules" title="32.16.1. Creating a rule with a counter">Section 32.16.1, “Creating a rule with a counter”</a>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The rule to which you want to add the counter exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the rules in the chain including their handles:
						</p><pre class="literallayout"># nft --handle list chain <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span>
table inet <span class="emphasis"><em>example_table</em></span> {
  chain <span class="emphasis"><em>example_chain</em></span> { # handle 1
    type filter hook input priority 0; policy accept;
    tcp dport ssh accept # <span class="strong strong"><strong>handle 4</strong></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Add the counter by replacing the rule but with the <code class="literal command">counter</code> parameter. The following example replaces the rule displayed in the previous step and adds a counter:
						</p><pre class="literallayout"># nft replace rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> handle <span class="emphasis"><em>4</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> <span class="strong strong"><strong>counter</strong></span> <span class="emphasis"><em>accept</em></span></pre></li><li class="listitem"><p class="simpara">
							To display the counter values:
						</p><pre class="literallayout"># nft list ruleset
table <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> {
  chain <span class="emphasis"><em>example_chain</em></span> {
    type filter hook input priority 0; policy accept;
    tcp dport ssh <span class="strong strong"><strong>counter packets <span class="emphasis"><em>6872</em></span> bytes <span class="emphasis"><em>105448565</em></span></strong></span> accept
  }
}</pre></li></ol></div></section><section class="section" id="monitoring-packets-that-match-an-existing-rule_debugging-nftables-rules"><div class="titlepage"><div><div><h3 class="title">32.16.3. Monitoring packets that match an existing rule</h3></div></div></div><p>
					The tracing feature in <code class="literal systemitem">nftables</code> in combination with the <code class="literal command">nft monitor</code> command enables administrators to display packets that match a rule. The procedure describes how to enable tracing for a rule as well as monitoring packets that match this rule.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The rule to which you want to add the counter exists.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Display the rules in the chain including their handles:
						</p><pre class="literallayout"># nft --handle list chain inet example_table example_chain
table inet example_table {
  chain example_chain { # handle 1
    type filter hook input priority 0; policy accept;
    tcp dport ssh accept # <span class="strong strong"><strong>handle 4</strong></span>
  }
}</pre></li><li class="listitem"><p class="simpara">
							Add the tracing feature by replacing the rule but with the <code class="literal command">meta nftrace set 1</code> parameters. The following example replaces the rule displayed in the previous step and enables tracing:
						</p><pre class="literallayout"># nft replace rule <span class="emphasis"><em>inet</em></span> <span class="emphasis"><em>example_table</em></span> <span class="emphasis"><em>example_chain</em></span> handle <span class="emphasis"><em>4</em></span> <span class="emphasis"><em>tcp</em></span> dport <span class="emphasis"><em>22</em></span> <span class="strong strong"><strong>meta nftrace set 1</strong></span> <span class="emphasis"><em>accept</em></span></pre></li><li class="listitem"><p class="simpara">
							Use the <code class="literal command">nft monitor</code> command to display the tracing. The following example filters the output of the command to display only entries that contain <code class="literal command">inet example_table example_chain</code>:
						</p><pre class="literallayout"># nft monitor | grep "inet example_table example_chain"
trace id 3c5eb15e inet example_table example_chain packet: iif "enp1s0" ether saddr 52:54:00:17:ff:e4 ether daddr 52:54:00:72:2f:6e ip saddr 192.0.2.1 ip daddr 192.0.2.2 ip dscp cs0 ip ecn not-ect ip ttl 64 ip id 49710 ip protocol tcp ip length 60 tcp sport 56728 tcp dport ssh tcp flags == syn tcp window 64240
trace id 3c5eb15e inet example_table example_chain rule tcp dport ssh nftrace set 1 accept (verdict accept)
...</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								Depending on the number of rules with tracing enabled and the amount of matching traffic, the <code class="literal command">nft monitor</code> command can display a lot of output. Use <code class="literal command">grep</code> or other utilities to filter the output.
							</p></div></div></li></ol></div></section></section><section class="section" id="backing-up-and-restoring-nftables-rule-sets_getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.17. Backing up and restoring nftables rule sets</h2></div></div></div><p>
				This section describes how to backup <code class="literal systemitem">nftables</code> rules to a file, as well as restoring rules from a file.
			</p><p>
				Administrators can use a file with the rules to, for example, transfer the rules to a different server.
			</p><section class="section" id="backing-up-nftables-rule-sets-to-a-file_backing-up-and-restoring-nftables-rule-sets"><div class="titlepage"><div><div><h3 class="title">32.17.1. Backing up nftables rule sets to a file</h3></div></div></div><p>
					This section describes how to back up <code class="literal systemitem">nftables</code> rule sets to a file.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To backup <code class="literal systemitem">nftables</code> rules:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									In <code class="literal command">nft list ruleset</code> format:
								</p><pre class="literallayout"># nft list ruleset &gt; <span class="emphasis"><em>file</em></span>.nft</pre></li><li class="listitem"><p class="simpara">
									In JSON format:
								</p><pre class="literallayout"># nft -j list ruleset &gt; <span class="emphasis"><em>file</em></span>.json</pre></li></ul></div></li></ol></div></section><section class="section" id="restoring-nftable-rule-sets-from-a-file_backing-up-and-restoring-nftables-rule-sets"><div class="titlepage"><div><div><h3 class="title">32.17.2. Restoring nftables rule sets from a file</h3></div></div></div><p>
					This section describes how to restore <code class="literal systemitem">nftables</code> rule sets.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To restore <code class="literal systemitem">nftables</code> rules:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If the file to restore is in <code class="literal command">nft list ruleset</code> format or contains <code class="literal command">nft</code> commands:
								</p><pre class="literallayout"># nft -f <span class="emphasis"><em>file</em></span>.nft</pre></li><li class="listitem"><p class="simpara">
									If the file to restore is in JSON format:
								</p><pre class="literallayout"># nft -j -f <span class="emphasis"><em>file</em></span>.json</pre></li></ul></div></li></ol></div></section></section><section class="section" id="related-information-getting-started-with-nftables"><div class="titlepage"><div><div><h2 class="title">32.18. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <a class="link" href="https://www.redhat.com/en/blog/using-nftables-red-hat-enterprise-linux-8">Using nftables in Red Hat Enterprise Linux 8</a> blog post provides an overview about using <code class="literal">nftables</code> features.
					</li><li class="listitem">
						The <a class="link" href="https://developers.redhat.com/blog/2016/10/28/what-comes-after-iptables-its-successor-of-course-nftables/">What comes after iptables? Its successor, of course: nftables</a> article explains why <code class="literal">nftables</code> replaces <code class="literal">iptables</code>.
					</li><li class="listitem">
						The <a class="link" href="https://developers.redhat.com/blog/2018/08/10/firewalld-the-future-is-nftables/">Firewalld: The Future is nftables</a> article provides additional information on <code class="literal">nftables</code> as a default back end for <code class="literal">firewalld</code>.
					</li></ul></div></section></section><section class="chapter" id="getting-started-with-dpdk_configuring-and-managing-networking"><div class="titlepage"><div><div><h1 class="title">Chapter 33. Getting started with DPDK</h1></div></div></div><p>
			The Data Plane Development Kit (DPDK) provides libraries and network drivers to accelerate package processing in user space.
		</p><p>
			Administrators use DPDK, for example, in virtual machines to use Single Root I/O Virtualization (SR-IOV) to reduce latencies and increase I/O throughput.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				Red Hat does not support experimental DPDK APIs.
			</p></div></div><section class="section" id="installing-the-dpdk-package_getting-started-with-dpdk"><div class="titlepage"><div><div><h2 class="title">33.1. Installing the dpdk package</h2></div></div></div><p>
				This section describes how to install the <code class="literal package">dpdk</code> package.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Enterprise Linux is installed.
					</li><li class="listitem">
						A valid subscription is assigned to the host.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Use the <code class="literal systemitem">yum</code> utility to install the <code class="literal package">dpdk</code> package:
					</p><pre class="literallayout"># yum install dpdk</pre></li></ol></div></section><section class="section" id="related_information_5"><div class="titlepage"><div><div><h2 class="title">33.2. Related information</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For a list of network adapters that support SR-IOV on Red Hat Enterprise Linux 8, see <a class="link" href="https://access.redhat.com/articles/3538141">Network Adapter Fast Datapath Feature Support Matrix</a>.
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm139885368881040"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2020 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="l_summit.png" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
